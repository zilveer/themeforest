/* -----------------------------------------
[Layout settings]

1. Body
2. Main wrap / #main-wrap
3. Layout / #layout
	3.1 Portfolio template / .row-portfolio-template-mvb-content, .portfolio-page
	3.2 Visual builder content / .no-title .mvb_content
	3.3 News layout / .magazine
	3.4 Blog-section / .blog-section
----------------------------------------- */
@layout-margin: 70px;

body.admin-bar {
	&.dfd-custom-padding-html {
		.dfd-frame-line.line-top {
			top: 32px;
		}
	}
}

@media only screen and (min-width: @screen-medium - 1) {
	body.admin-bar {
		&.dfd-custom-padding-html {
			#side-area .overflow-scroll .side-area-controller-wrap {
				top: 32px;
			}
		}
	}
	#left-sidebar,
	#right-sidebar {
		.rel();
		background: @background-sidebars;
		&:before {
			content: "";
			.abs();
			top: 0;
			.block();
			width: 1500px;
			height: 100%;//99999em;
			background: @background-sidebars;
		}
	}
	#left-sidebar,
	#right-sidebar {
		height: auto !important;
		padding-top: @layout-margin;
		padding-bottom: @layout-margin;
	}
	#left-sidebar {
		&:before {
			right: 0;
		}
		> * {
			padding-right: 30px;
		}
	}
	#right-sidebar {
		&:before {
			left: 0;
		}
		> * {
			padding-left: 30px;
		}
	}
	.single-post {
		&.dfd-single-layout-full-width {
			width: 100%;
			padding: 0 80px;
		}
	}
	#main-content.dfd-eq-height {
		height: auto !important;
	}
}

@media only screen and (min-width: @screen-medium) {
	body {
		&.dfd-custom-padding-html {
			
		}
	}
	#layout {
		&.single-post {
			margin-top: 0px;
			margin-bottom: 0px;
			#main-content {
				padding-top: 30px;
				padding-bottom: 30px;
			}
			#left-sidebar,
			#right-sidebar {
				padding-top: 90px;
				padding-bottom: 90px;
			}
			#left-sidebar {
				> * {
					padding-right: 30px;
				}
			}
			#right-sidebar {
				> * {
					padding-left: 30px;
				}
			}
		}
		&.single-folio.folio_inside_1 {
			.folio-entry-media.desc-bottom {
				padding-top: 40px;
			}
			.folio-entry-media.desc-left,
			.folio-info.desc-left ,
			.folio-entry-media.desc-right,
			.folio-info.desc-right {
				padding-top: 40px;
				padding-bottom: 40px;
			}
			.folio-entry-media.desc-left {
				padding-left: 40px;
			}
			.folio-entry-media.desc-right {
				padding-right: 40px;
			}
			.folio-info.desc-left {
				padding-right: 40px;
			}
			.folio-info.desc-right {
				padding-left: 40px;
			}
			.folio-info.desc-left,
			.folio-info.desc-right {
				.rel();
				&:before {
					content: "";
					.abs();
					top: 0;
					.block();
					width: 1500px;
					height: 99999em;
					background: @background-sidebars;
				}
			}
			.folio-info.desc-left {
				&:before {
					right: 0;
				}
			}
			.folio-info.desc-right {
				&:before {
					left: 0;
				}
			}
		}
		&.single-folio.folio_inside_2 {
			> .project {
				margin-top: 30px;
				margin-bottom: 30px;
			}
			.folio-entry-media.desc-left {
				padding-left: 10px;
			}
			.folio-entry-media.desc-right {
				padding-right: 10px;
			}
			.folio-info.desc-left {
				padding-right: 10px;
			}
			.folio-info.desc-right {
				padding-left: 10px;
			}
		}
		&.portfolio-page {
			margin-top: 0px;
			margin-bottom: 0px;
			#grid-folio {
				&.grid-folio-full-width,
				&.grid-folio-full-width-bordered {
					margin-top: 0;
				}
			}
			#grid-folio {
				margin-top: @layout-margin;
				margin-bottom: @layout-margin;
			}
			#portfolio-page {
				padding-top: @layout-margin;
				padding-bottom: @layout-margin;
			}
			#grid-folio + .page-nav {
				margin-bottom: @layout-margin;
			}
		}
		&.blog-page {
			margin-top: 0px;
			margin-bottom: 0px;
			#grid-posts {
				margin-top: @layout-margin;
				margin-bottom: @layout-margin;
				+ .page-nav {
					margin-bottom: @layout-margin;
				}
			}
			#main-content {
				padding-top: @layout-margin;
				padding-bottom: @layout-margin;
				z-index: 1;
			}
		}
	}
}
@media only screen and (min-width : @screen-medium) {
	body {
		&.dfd-custom-padding-html {
			.dfd-parallax-footer {
				margin-bottom: 0;
				#footer-wrap {
					padding-left: @layout-white-space-size;
					padding-right: @layout-white-space-size;
					margin-bottom: @layout-white-space-size;
				}
			}
		}
	}
}

body {
	&.dfd-custom-padding-html {
		margin: @layout-white-space-size;
		.dfd-frame-line {
			&.line-top,
			&.line-bottom {
				position: fixed;
				left: 0;
				right: 0;
				.block();
				height: @layout-white-space-size;
				background: @layout-white-space-color;
				z-index: 999999;
			}
			&.line-left,
			&.line-right {
				position: fixed;
				top: 0;
				bottom: 0;
				.block();
				width: @layout-white-space-size;
				background: @layout-white-space-color;
				z-index: 999999;
			}
			&.line-top {
				top: 0;
			}
			&.line-bottom {
				bottom: 0;
			}
			&.line-left {
				left: 0;
			}
			&.line-right {
				right: 0;
			}
		}
		#header-container {
			/*&.small {
				#header {
					padding-top: @layout-white-space-size;
				}
			}*/
			#header {
				padding: 0 @layout-white-space-size;
			}
		}
		#change_wrap_div {
		}
		.boxed_layout {
			.dfd-parallax-footer {
				#footer-wrap {
					padding-left: 0;
					padding-right: 0;
				}
			}
		}
		/*.dfd-buy-button {
			right: @layout-white-space-size - 5;
			&:hover {
				right: @layout-white-space-size;
			}
		}*/
	}
	/*.dfd-one-page-scroll-layout {
		#header-container #header {
			position: fixed;
		}
	}*/
}

body > #main-wrap {
	.rel();
	left: 0;
	overflow: hidden;
	.transition(left .3s ease-in-out);
}

#change_wrap_div {
	.rel();
	z-index: 1;
}

@-webkit-keyframes dfdOnePageAnimSecondPrev {
	0% {
		opacity: 1;
		-webkit-transform: translateY(-100%);
	}
	100% {
		opacity: 1;
		-webkit-transform: translateY(0);
	}
}
@-moz-keyframes dfdOnePageAnimSecondPrev {
	0% {
		opacity: 1;
		-moz-transform: translateY(-100%);
	}
	100% {
		opacity: 1;
		-moz-transform: translateY(0);
	}
}
@-o-keyframes dfdOnePageAnimSecondPrev {
	0% {
		opacity: 1;
		-o-transform: translateY(-100%);
	}
	100% {
		opacity: 1;
		-o-transform: translateY(0);
	}
}
@keyframes dfdOnePageAnimSecondPrev {
	0% {
		opacity: 1;
		-webkit-transform: translateY(-100%);
		transform: translateY(-100%);
	}
	100% {
		opacity: 1;
		-webkit-transform: translateY(0);
		transform: translateY(0);
	}
}

@-webkit-keyframes dfdOnePageAnimSecondNext {
	0% {
		opacity: 1;
		-webkit-transform: translateY(100%);
	}
	100% {
		opacity: 1;
		-webkit-transform: translateY(0);
	}
}
@-moz-keyframes dfdOnePageAnimSecondNext {
	0% {
		opacity: 1;
		-moz-transform: translateY(100%);
	}
	100% {
		opacity: 1;
		-moz-transform: translateY(0);
	}
}
@-o-keyframes dfdOnePageAnimSecondNext {
	0% {
		opacity: 1;
		-o-transform: translateY(100%);
	}
	100% {
		opacity: 1;
		-o-transform: translateY(0);
	}
}
@keyframes dfdOnePageAnimSecondNext {
	0% {
		opacity: 1;
		-webkit-transform: translateY(100%);
		transform: translateY(100%);
	}
	100% {
		opacity: 1;
		-webkit-transform: translateY(0);
		transform: translateY(0);
	}
}

@-webkit-keyframes dfdOnePageAnimThird {
	0% {
		-webkit-transform: scale(.7);
	}
	100% {
		-webkit-transform: scale(1);
	}
}
@-moz-keyframes dfdOnePageAnimThird {
	0% {
		-moz-transform: scale(.7);
	}
	100% {
		-moz-transform: scale(1);
	}
}
@-o-keyframes dfdOnePageAnimThird {
	0% {
		-o-transform: scale(.7);
	}
	100% {
		-o-transform: scale(1);
	}
}
@keyframes dfdOnePageAnimThird {
	0% {
		-webkit-transform: scale(.7);
		transform: scale(.7);
	}
	100% {
		-webkit-transform: scale(1);
		transform: scale(1);
	}
}

#layout {
	.rel();
	.clearfix();
	margin: @layout-margin 0;
	&.one-page-scroll {
		.rel();
		.vc-row-wrapper.slick-slide {
			.uvc-type-wrap {
				.hide();
			}
			&.slick-active {
				.uvc-type-wrap {
					.block();
				}
			}
		}
		&.dfd-enable-onepage-animation {
			&.dfd-3d-style-1 {
				.vc-row-wrapper.slick-slide {
					.backface-visibility(hidden);
					.transform-style(preserve-3d);
					.transform(perspective(800px));
					&.slick-active {
						.opacity(1);
						.transform(perspective(800px) rotateX(0deg));
						.transition(none);
					}
					&.from-prev {
						.opacity(.5);
						.transform-origin(50% 0);
						.transform(perspective(1200px) rotateX(-90deg));
						.transition(~"-webkit-transform .5s linear, -moz-transform .5s linear, -o-transform .5s linear, transform .5s linear, opacity .5s linear");
					}
					&.from-next {
						.opacity(.5);
						.transform-origin(50% 100%);
						.transform(perspective(1200px) rotateX(90deg));
						.transition(~"-webkit-transform .5s linear, -moz-transform .5s linear, -o-transform .5s linear, transform .5s linear, opacity .5s linear");
					}
				}
			}
			&.dfd-3d-style-2 {
				.vc-row-wrapper.slick-slide {
					.backface-visibility(hidden);
					.transform-style(preserve-3d);
					.transform-origin(50% 50%);
					.transform(perspective(1200px) scale(.8));
					&.slick-active {
						.opacity('1 !important');
						.transform(perspective(400px) translateY(0) scale(1));
						&.active-from-prev {
							-webkit-animation: dfdOnePageAnimSecondPrev 1s ease;
							-moz-animation: dfdOnePageAnimSecondPrev 1s ease;
							-o-animation: dfdOnePageAnimSecondPrev 1s ease;
							animation: dfdOnePageAnimSecondPrev 1s ease;
						}
						&.active-from-next {
							-webkit-animation: dfdOnePageAnimSecondNext 1s ease;
							-moz-animation: dfdOnePageAnimSecondNext 1s ease;
							-o-animation: dfdOnePageAnimSecondNext 1s ease;
							animation: dfdOnePageAnimSecondNext 1s ease;
						}
					}
					&.from-prev {
						.opacity('.2 !important');
						.transform-origin(50% 0);
						.transform(perspective(1200px) scale(.9));
						.transition(all 1.2s cubic-bezier(.54,.96,.55,.97)) !important;
						//.transition(~"-webkit-transform 1.2s cubic-bezier(.54,.96,.55,.97), -moz-transform 1.2s cubic-bezier(.54,.96,.55,.97), -o-transform 1.2s cubic-bezier(.54,.96,.55,.97), transform 1.2s cubic-bezier(.54,.96,.55,.97), opacity 1.2s cubic-bezier(.54,.96,.55,.97)");
					}
					&.from-next {
						.opacity('.2 !important');
						.transform-origin(50% 100%);
						.transform(perspective(1200px) scale(.9));
						.transition(all 1.2s cubic-bezier(.54,.96,.55,.97)) !important;
						//.transition(~"-webkit-transform 1.2s cubic-bezier(.54,.96,.55,.97), -moz-transform 1.2s cubic-bezier(.54,.96,.55,.97), -o-transform 1.2s cubic-bezier(.54,.96,.55,.97), transform 1.2s cubic-bezier(.54,.96,.55,.97), opacity 1.2s cubic-bezier(.54,.96,.55,.97)");
					}
				}
			}
			&.dfd-3d-style-3 {
				.vc-row-wrapper.slick-slide {
					z-index: 1;
					.backface-visibility(hidden);
					.transform-style(preserve-3d);
					.transition-transform(1s ease);
					.scale(1.3);
					&.slick-active {
						z-index: 2;
						.scale(1);
						-webkit-animation: dfdOnePageAnimThird 1s ease;
						-moz-animation: dfdOnePageAnimThird 1s ease;
						-o-animation: dfdOnePageAnimThird 1s ease;
						animation: dfdOnePageAnimThird 1s ease;
					}
					&.from-prev {
						.scale(.7);
					}
					&.from-next {
						.scale(1.3);
					}
				}
			}
		}
		.vc-row-wrapper.slick-slide {
			overflow: hidden;
		}
		> .slick-dots {
			.block();
			width: 10px;
			height: auto;
			.abs();
			left: auto;
			right: 60px;
			top: 50%;
			bottom: auto;
			padding: 0;
			margin: 0;
			list-style: none;
			text-align: center;
			margin-bottom: 0;
			.transform(translateY(-50%));
			
			&.dfd-dots-light {
				li {
					button {
						background: @title-color;
					}
					&.slick-active {
						button {
							background: transparent;
							border-color: @title-color;
						}
					}
				}
			}
			
			&.dfd-dots-dark {
				li {
					button {
						background: @main-site-dark-color;
					}
					&.slick-active {
						button {
							background: transparent;
							border-color: @main-site-dark-color;
						}
					}
				}
			}

			@s: 10px;
			li {
				.rel();
				.inline-block();
				width: @s;
				height: @s;
				line-height: 1;
				margin: 0 10px 15px;
				background: transparent;
				.box-shadow(none);
				
				&:last-child {
					margin-bottom: 0;
				}
				
				&:before,
				&:after {
					.hide();
				}

				&.slick-active {
					button {
						width: @s;
						height: @s;
						margin: 0;
						background: transparent;
						border-color: @main-site-light-color;
					}
				}
				button {
					font-size: 10px;
					text-indent: 9999px;
					width: @s - 2;
					height: @s - 2;
					line-height: inherit;
					.abs();
					top: 0;
					left: 0;
					margin: 1px;
					padding: 0;
					overflow: visible;
					background: transparent;
					border: 1px solid transparent;
					background: @border-color;
					.rounded(50%);
					.transition(~"background .2s ease-in-out, border-color .2s ease-in-out, width .2s ease-in-out, height .2s ease-in-out, margin .2s ease-in-out");
					

					&:active {
						top: 0;
						.opacity(1);
					}
				}
				> span {
					.box-name();
					font-size: @box-name-font-size - 2;
					.block();
					height: 3em;
					.abs();
					right: 200%;
					top: 50%;
					text-align: center;
					overflow: hidden;
					visibility: hidden;
					.transform(translateY(-50%));
					.transition(visibility .2s linear .1s);
					> span {
						.rel();
						top: 3em;
						.block();
						line-height: 3;
						padding: 0 10px;
						white-space: nowrap;
						color: @main-site-dark-color;
						background: fade(@forth-site-dark-color, 70%);
						.transition(top .2s linear);
					}
				}
				&:hover {
					> span {
						visibility: visible;
						.transition(visibility .2s linear);
						> span {
							top: 0;
						}
					}
				}
			}
		}
		> .slick-list + .slick-dots li {
			bottom: 0;
		}
	}
	&.no-title.blog-page.dfd-news-layout-wrap {
		margin-bottom: 0;
	}
}

#layout > .row-portfolio-template-mvb-content {
	.rel();
}

#layout > .row-portfolio-template-content {
	margin-bottom: @layout-margin !important;
}

#layout > .row + .mvb_content {
	margin-bottom: -@layout-margin;
}

.boxed_layout {
	max-width: 1280px;
	margin: 0 auto;
	//overflow: hidden;
	background: @main-site-dark-color;
	//box-shadow: 0 0 6px 0 fade(@forth-site-dark-color, 20%);
	#main-wrap {
		overflow: hidden;
	}
}

#layout.no-title {
	margin-top: 0px;
	margin-bottom: 0px;
	&.blog-page {
		margin-bottom: @layout-margin;
	}
}

#layout.magazine {
	padding-top: 40px;
	padding-bottom: 40px;

	.mvb_container > section {
		border-bottom: none;
		margin-bottom: 15px;
		padding: 0;
	}
	
	.widget {
		margin-bottom: 45px;
	}
}

.page-template-page-contacts-php #layout {
	margin-top: 0; 
}

body > iframe { display: none; }

/* -----------------------------------------
   Blog and sidebar layouts
----------------------------------------- */
.blog-section {
	.rel();
	.clearfix();
}
.blog-section.sidebar-both,
.blog-section.sidebar-right2 {
	width: 75%;
	float: left;
}

.blog-section.sidebar-both2 {
	width: 66.66%;
	float: left;
}

.blog-section.sidebar-both2 #main-content {
	float: right;
	width: 50%;
}

.blog-section.sidebar-both2 #left-sidebar {
	width: 50%;
}

.blog-section.sidebar-left2 {
	width: 75%;
	float: right;
}

.sidebar-both #left-sidebar.three {
	width: 33.33%;
	float: left;
}

.sidebar-both #main-content.six {
	width: 66.67%;
	float: right;
}

.sidebar-right2 #left-sidebar.three {
	width: 33.3%;
	float: right;
}

.sidebar-right2 #main-content.six {
	width: 66.6%;
	float: left;
}

.sidebar-left2 #main-content.six {
	width: 66.6%;
	float: right;
}

.sidebar-left2 #right-sidebar.three {
	width: 33.3%;
	float: left;
}

.sidebar-left #main-content.nine {
	float: right;
}

.sidebar-left #left-sidebar.three {
	float: left;
}

@media only screen and (min-width: @screen-medium - 1) {
	.blog-section {
		&.sidebar-both {
			#main-content {
				padding: 0 40px;
			}
		}
		&.sidebar-left {
			#main-content {
				padding-left: 40px;
			}
		}
		&.sidebar-right {
			#main-content {
				padding-right: 40px;
			}
		}
	}
	.single-folio {
		.folio-entry-media.desc-right {
			padding-right: 40px;
		}
		.folio-entry-media.desc-left {
			padding-left: 40px;
		}
	}
	#grid-posts {
		
		&.grid-left-sidebar {
			padding-left: 40px;
		}
		
		&.grid-right-sidebar {
			padding-right: 40px;
		}
	}
	#layout.portfolio-page {
		&.dfd-sidebar-left .nine.columns {
			padding-left: 40px;
		}
		&.dfd-sidebar-right .nine.columns {
			padding-right: 40px;
		}
	}
	.dfd-news-layout {
		#main-content {
			padding-right: 100px;
		}
	}
	.dfd-woo-archive {
		.nine.columns {
			padding-right: 40px;
		}
	}
}

/* Blog and portfolio layout settings */
#layout {
	&.single-post {
		overflow: hidden;
		padding: 0;
	}
	&.blog-section {
		margin: 0;
		padding: 55px 0;
	}
	&.single-folio {
		margin-top: 0;
		margin-bottom: 0;
		&.page_builder_only_stunn,
		&.page_builder_only {
			padding: 0;
		}
	}
}

/* -----------------------------------------
   Grid posts
----------------------------------------- */
@media only screen
and (min-width : @screen-x-large) {
	.row.dfd-masonry-full-width-offset {
		width: 100%;
		padding: 0 70px;
	}
}
#grid-posts {
	.post {
		.entry-meta.meta-bottom {
			margin-bottom: 15px;
		}
		&.format-quote {
			.entry-media {
				margin-bottom: 15px;
			}
		}
	}
}
#grid-posts,
#grid-folio {
	.rel();
	overflow: hidden;
	margin: 0 -15px;
	article {
		margin: 0 15px;
	}
}

#grid-posts .post.small-news {
	padding-bottom: 15px;
	margin-bottom: 30px;
}
#grid-folio .project {
	width: 33%;
	float: left;
}

#grid-folio .project {
	margin-bottom: 2px;
}

#grid-folio .project {
	border-bottom: 0;
}

#grid-folio.col-4 .project {
	width: 25%;
}

#grid-posts .orbit img.fluid-placeholder, #grid-posts.col-2.and-side .orbit img.fluid-placeholder {
	max-height: 250px;
}

#grid-posts.col-2.and-side .post.small-news {
	width: 47%;
}

#grid-posts.col-2 .post.small-news {
	width: 48.2%;
}

#grid-posts.col-2 .orbit img.fluid-placeholder {
	max-height: 280px;
}

#grid-posts .entry-summary {
	clear: both;
}