
(function(){var b=0;var c=["webkit","moz"];for(var a=0;a<c.length&&!window.requestAnimationFrame;++a){window.requestAnimationFrame=window[c[a]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[c[a]+"CancelAnimationFrame"]||window[c[a]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(h,e){var d=new Date().getTime();var f=Math.max(0,16-(d-b));var g=window.setTimeout(function(){h(d+f)},f);b=d+f;return g}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(d){clearTimeout(d)}}}());(function(a){var b=a(window);var c=b.height();b.resize(function(){c=b.height()});a.fn.parallax=function(e,d,f){var h=a(this);var i;var g;function j(){h.each(function(){g=h.offset().top});if(f){i=function(l){return l.outerHeight(true)}}else{i=function(l){return l.height()}}if(arguments.length<1||e===null){e="50%"}if(arguments.length<2||d===null){d=0.5}if(arguments.length<3||f===null){f=true}var k=b.scrollTop();h.each(function(){var m=a(this);var n=m.offset().top;var l=i(m);if(n+l<k||n>k+c){return}if(a("html").hasClass("no-csstransforms")){h.addClass("fixed").css("backgroundPosition",e+" "+Math.round((g-k)*d)+"px")}else{if(window.pageYOffset>=1||document.documentElement.scrollTop>=1){h.css("transform","translate3d(0px, "+(-(g-k)*d)+"px, 0px)")}else{h.css("transform","translate3d(0px, 0px, 0px)")}}})}if(a("html").hasClass("no-csstransforms")){b.bind("scroll",j).resize(j)}else{b.bind("scroll",function(){window.requestAnimationFrame(j)}).resize(function(){window.requestAnimationFrame(j)})}j()}})(jQuery);