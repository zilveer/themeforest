"use strict"; function theValidate(e, t, a){var n = jQuery(e), i = n.val(); "" !== i && (vp.validateNumeric("vp-textbox", i) || (n.val(t.min), a.slider("value", t.min)), i > t.max?(n.val(t.max), a.slider("value", t.max)):i < t.min?(n.val(t.min), a.slider("value", t.min)):a.slider("value", n.val()))}function get_url_info(e){var t, a, n, i, r = jQuery(e); return"A" == r.prop("tagName")?(n = jQuery(e).attr("href"), t = vp.get_url_extension(n), a = vp.wp_ext2type(t), i = n, "image" !== a && (i = vp_wp.wp_include_url + "images/crystal/" + a + ".png")):"IMG" == r.prop("tagName") && (n = jQuery(e).attr("src"), i = n), {imgurl:n, iconurl:i}}jQuery.fn.getAttributes = function(){var e = {}; return this.length?(jQuery.each(this[0].attributes, function(t, a){e[a.name] = a.value}), e):this}, jQuery.fn.getDatas = function(){var e = {}, t = "data-vp-"; return this.length?(jQuery.each(this[0].attributes, function(a, n){n.name.substring(0, t.length) == t && (e[n.name.substring(t.length)] = n.value)}), e):this}, jQuery.fn.exists = function(){return 0 !== this.length}, String.prototype.trimChar || (String.prototype.trimChar = function(e){return this.replace(new RegExp("^" + e + "+|" + e + "+$", "g"), "")}), String.prototype.format || (String.prototype.format = function(){var e = arguments; return this.replace(/{(\d+)}/g, function(t, a){return"undefined" != typeof e[a]?e[a]:t})}), String.prototype.replaceAll || (String.prototype.replaceAll = function(e, t, a){var n, i, r = - 1; if ((n = this.toString()) && "string" == typeof e)for (i = a === !0?e.toLowerCase():void 0; - 1 !== (r = void 0 !== i?n.toLowerCase().indexOf(i, r >= 0?r + t.length:0):n.indexOf(e, r >= 0?r + t.length:0)); )n = n.substring(0, r).concat(t).concat(n.substring(r + e.length)); return n}), jQuery.fn.validationVal = function(){var e, t = this, a = "", n = t.prop("tagName"); (t.length > 1 && "radio" != t.attr("type") || t.attr("multiple")) && (a = []); var i = a; return t.each(function(i){var r = jQuery(this); switch (n){case"SELECT":a = r.has("[multiple]")?r.val():r.val(); break; case"INPUT":switch (t.attr("type")){case"text":a = r.val(); break; case"radio":e = r.prop("checked"), "undefined" != typeof e && e !== !1 && (a = r.val()); break; case"checkbox":e = r.prop("checked"), t.length > 1?"undefined" != typeof e && e !== !1 && a.push(r.val()):(a = null, "undefined" != typeof e && e !== !1 && (a = r.val()))}break; case"TEXTAREA":a = r.val(); break; default:a = r.val()}}), null === a && (a = i), a}, jQuery.fn.vp_slideUp = function(e){var t = this; t.each(function(t){var a = jQuery(this); a.hasClass("vp-hide") || a.slideUp("fast", function(){jQuery(this).addClass("vp-hide").slideDown(0, e)})})}, jQuery.fn.vp_slideDown = function(e){var t = this; t.each(function(t){var a = jQuery(this); a.hasClass("vp-hide") && a.slideUp(0, function(){jQuery(this).removeClass("vp-hide").slideDown("fast", e)})})}, jQuery.fn.vp_fadeOut = function(e){var t = this; t.hasClass("vp-hide") || t.fadeOut("fast", function(){jQuery(this).addClass("vp-hide").fadeIn(0, e)})}, jQuery.fn.vp_fadeIn = function(e){var t = this; t.hasClass("vp-hide") && t.fadeOut(0, function(){jQuery(this).removeClass("vp-hide").fadeIn("fast", e)})}, jQuery.fn.vp_toggle = function(e){var t = this; t.hasClass("vp-hide")?t.slideUp(0, function(){jQuery(this).removeClass("vp-hide").slideDown("fast", e)}):t.slideUp("fast", function(){jQuery(this).addClass("vp-hide").slideDown(0, e)})}; var vp = {}; if (vp.isNumber = function(e){return!isNaN(parseFloat(e)) && isFinite(e)}, vp.parseOpt = function(e){for (var t, a, n, i, r = {}, p = 0; p < e.length; p++)"(" == e[p] && (t = p), ")" == e[p] && (a = p, n = e.substring(t + 1, a), i = n.split(":"), r[i[0]] = vp.isNumber(i[1])?parseFloat(i[1]):i[1]); return r}, vp.wp_ext2type = function(e){var t = {image:["jpg", "jpeg", "bmp", "gif", "png"], audio:["aac", "ac3", "aif", "aiff", "m3a", "m4a", "m4b", "mka", "mp1", "mp2", "mp3", "ogg", "oga", "ram", "wav", "wma"], video:["asf", "avi", "divx", "dv", "flv", "m4v", "mkv", "mov", "mp4", "mpeg", "mpg", "mpv", "ogm", "ogv", "qt", "rm", "vob", "wmv"], document:["doc", "docx", "docm", "dotm", "odt", "pages", "pdf", "rtf", "wp", "wpd"], spreadsheet:["numbers", "ods", "xls", "xlsx", "xlsm", "xlsb"], interactive:["swf", "key", "ppt", "pptx", "pptm", "pps", "ppsx", "ppsm", "sldx", "sldm", "odp"], text:["asc", "csv", "tsv", "txt"], archive:["bz2", "cab", "dmg", "gz", "rar", "sea", "sit", "sqx", "tar", "tgz", "zip", "7z"], code:["css", "htm", "html", "php", "js"]}, a = "default"; for (var n in t)if (t.hasOwnProperty(n) && - 1 !== jQuery.inArray(e, t[n])){a = n; break}return a}, vp.get_url_extension = function(e){var t = new RegExp(/(.*)[\/\\]([^\/\\]+)\.(\w+)/i), a = t.exec(e); return a && "undefined" != typeof a[3]?a[3]:""}, vp.jqid = function(e){return"#" + e.replace(/([:\.\[\]])/g, "\\$1")}, vp.jqidwild = function(e){return e = e.replace(/([:\.\[\]])/g, "\\$1"), e = "[id*=" + e + "]"}, vp.jqname = function(e){return'[name="' + e + '"]'}, vp.jqnamewild = function(e){return'[name*="' + e + '"]'}, vp.thejqid = function(e, t){return"option" === t?vp.jqid(e):"metabox" === t?vp.jqidwild(e):e}, vp.thejqname = function(e, t){return"option" === t?vp.jqname(e):"metabox" === t?vp.jqnamewild(e):e}, vp.validateAlphabet = function(e, t){if ("" === t || jQuery.isArray(t) || - 1 == jQuery.inArray(e, vp_wp.alphabet_validatable))return!0; var a = new RegExp(/^[A-Z\s]+$/i); return a.test(t)}, vp.validateAlphaNumeric = function(e, t){if ("" === t || jQuery.isArray(t) || - 1 == jQuery.inArray(e, vp_wp.alphanumeric_validatable))return!0; var a = new RegExp(/^[A-Z0-9]+$/i); return a.test(t)}, vp.validateNumeric = function(e, t){if ("" === t || jQuery.isArray(t) || - 1 == jQuery.inArray(e, vp_wp.numeric_validatable))return!0; var a = new RegExp(/^[-+]?[0-9]*\.?[0-9]+$/); return a.test(t)}, vp.validateEmail = function(e, t){if ("" === t || jQuery.isArray(t) || - 1 == jQuery.inArray(e, vp_wp.email_validatable))return!0; var a = new RegExp(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i); return a.test(t)}, vp.validateURL = function(e, t){if ("" === t || jQuery.isArray(t) || - 1 == jQuery.inArray(e, vp_wp.url_validatable))return!0; var a = new RegExp(/^(ftp|http|https):\/\/[^ "]+$/i); return a.test(t)}, vp.validateMaxLength = function(e, t, a){return - 1 != jQuery.inArray(e, vp_wp.maxlength_validatable)?!0:t.length <= a?!0:!1}, vp.validateMinLength = function(e, t, a){return - 1 != jQuery.inArray(e, vp_wp.minlength_validatable)?!0:t.length >= a?!0:!1}, vp.validateRequired = function(e, t){return jQuery.isArray(t) && jQuery.isEmptyObject(t)?!1:t?!0:!1}, vp.fields_validation_loop = function(e){for (var t = '<li class="validation-msg vp-error"></li>', a = 0, n = 0; n < e.length; n++){var i = e[n], r = jQuery(vp.jqid(i.name)), p = r.parents(".vp-meta-group").exists()?r.parents(".vp-meta-group"):r.parents(".vp-section"); if (!(r.length <= 0 || r.hasClass("vp-dep-inactive") || p.exists() && p.hasClass("vp-dep-inactive"))){var o = r.children("div.field").children(".validation-msgs").children("ul"), s = jQuery('[name="' + i.name + '"]'), u = s.validationVal(), c = i.type, l = i.rules.split("|"); i.nError = 0; for (var v = 0; v < l.length; v++){var d, f = l[v], h = f.indexOf("["), g = f.indexOf("]"), y = h >= 0?f.substring(0, h):f, m = ""; switch (y){case"alphabet":vp.validateAlphabet(c, u) || (m = vp_wp.val_msg.alphabet.format()); break; case"alphanumeric":vp.validateAlphaNumeric(c, u) || (m = vp_wp.val_msg.alphanumeric.format()); break; case"numeric":vp.validateNumeric(c, u) || (m = vp_wp.val_msg.numeric.format()); break; case"email":vp.validateEmail(c, u) || (m = vp_wp.val_msg.email.format()); break; case"url":vp.validateURL(c, u) || (m = vp_wp.val_msg.url.format()); break; case"maxlength":d = f.substring(h + 1, g), vp.validateMaxLength(c, u, d) || (m = vp_wp.val_msg.maxlength.format(d)); break; case"minlength":d = f.substring(h + 1, g), vp.validateMinLength(c, u, d) || (m = vp_wp.val_msg.minlength.format(d)); break; case"maxselected":d = f.substring(h + 1, g), vp.validateMaxLength(c, u, d) || (m = vp_wp.val_msg.maxselected.format(d)); break; case"minselected":d = f.substring(h + 1, g), vp.validateMinLength(c, u, d) || (m = vp_wp.val_msg.minselected.format(d)); break; case"required":vp.validateRequired(c, u) || (m = vp_wp.val_msg.required.format())}if ("" !== m){i.nError += 1; var _ = jQuery(t); _.html(m), _.appendTo(o)}}i.nError > 0 && (a += 1, r.addClass("vp-error"))}}return a}, vp.custom_check_radio_event = function(e, t){jQuery(e).delegate(t, "click", function(e){e.preventDefault(); var t = jQuery(this).find("input"), a = t.attr("type"); "radio" == a?(jQuery(this).parent().parent().find("input").each(function(e){jQuery(this).removeClass("checked"), t.prop("checked", !1)}), t.prop("checked", !0).change()):"checkbox" == a && (t.is(":checked")?t.prop("checked", !1):t.prop("checked", !0), t.trigger("change"))}), jQuery(e).delegate(t, "change", function(e){e.preventDefault(); var t = jQuery(this).find("input"); t.is(":checked")?t.addClass("checked"):t.removeClass("checked")})}, vp.binding_action = function(e, t, a, n){for (var i = jQuery(vp.jqid(t.source)), r = jQuery('[name="' + t.source + '"]'), p = [], o = 0; o < e.length; o++){var s = jQuery(vp.thejqname(e[o], n)).validationVal(); jQuery.isArray(s) && 0 == s.length && (s = null), p.push(s)}var u = {action:"vp_ajax_wrapper", func:a, params:p}, c = i.find(".vp-js-bind-loader"), l = i.find(".input"); "vp-html" == t.type?c.vp_fadeIn():l.vp_fadeOut(function(){c.vp_fadeIn()}), jQuery.post(ajaxurl, u, function(e){if (c.vp_fadeOut(function(){l.vp_fadeIn()}), e.status){var a; switch (t.type){case"vp-select":case"vp-multiselect":r = jQuery('[name="' + t.source + '"]'), null !== e.data && (a = e.data instanceof Array?e.data:[e.data], r.val(a).change()); break; case"vp-checkbox":null !== e.data && (a = e.data instanceof Array?e.data:[e.data], r.prop("checked", !1).change(), jQuery.each(a, function(e, t){r.filter('[value="' + t + '"]').prop("checked", !0).change()})); break; case"vp-toggle":null !== e.data && (e.data?r.prop("checked", !0).change():r.prop("checked", !1).change()); break; case"vp-checkimage":null !== e.data && (a = e.data instanceof Array?e.data:[e.data], r.prop("checked", !1).change(), jQuery.each(a, function(e, t){r.filter('[value="' + t + '"]').prop("checked", !0).change()})), vp.init_tipsy(); break; case"vp-radiobutton":null !== e.data && (a = e.data instanceof Array?e.data:[e.data], r.prop("checked", !1).change(), jQuery.each(a, function(e, t){r.filter('[value="' + t + '"]').prop("checked", !0).change()})); break; case"vp-radioimage":null !== e.data && (a = e.data instanceof Array?e.data:[e.data], r.prop("checked", !1).change(), jQuery.each(a, function(e, t){r.filter('[value="' + t + '"]').prop("checked", !0).change()})), vp.init_tipsy(); break; case"vp-html":null !== e.data && (jQuery(vp.jqid(t.source + "_dom")).html(e.data), jQuery(vp.jqname(t.source)).val(e.data)); break; default:r = jQuery(vp.jqname(t.source)), r.val(e.data)}jQuery('[name="' + t.source + '"]:first').keypress().keyup().change().blur()}}, "JSON")}, vp.binding_event = function(e, t, a, n, i, r){var p = ["vp-select", "vp-checkbox", "vp-checkimage", "vp-radiobutton", "vp-radioimage", "vp-multiselect", "vp-toggle", "vp-upload"], o = ["vp-textbox", "vp-slider", "vp-color", "vp-date"], s = vp.thejqname(e[t], r), u = jQuery(vp.thejqid(e[t], r)).attr("data-vp-type"); - 1 !== jQuery.inArray(u, p)?jQuery(i).delegate(s, "change", function(){vp.binding_action(e, a, n, r)}): - 1 !== jQuery.inArray(u, o)?jQuery(s).typing({stop:function(t, i){vp.binding_action(e, a, n, r)}, delay:400}):jQuery(i).delegate(s, "change", function(){vp.binding_action(e, a, n, r)})}, vp.items_binding_action = function(e, t, a, n){for (var i = jQuery(vp.jqid(t.source)), r = (jQuery('[name="' + t.source + '"]'), []), p = 0; p < e.length; p++)r.push(jQuery(vp.thejqname(e[p], n)).validationVal()); var o = {action:"vp_ajax_wrapper", func:a, params:r}, s = i.find(".vp-js-bind-loader"), u = i.find(".input"); u.vp_fadeOut(function(){s.vp_fadeIn()}), jQuery.post(ajaxurl, o, function(e){if (s.vp_fadeOut(function(){u.vp_fadeIn()}), e.status){var a; switch (t.type){case"vp-select":case"vp-multiselect":a = jQuery('[name="' + t.source + '"]'), a.empty(), a.append(jQuery("<option></option>")), null !== e.data && jQuery.each(e.data, function(e, t){a.append(jQuery("<option></option>").attr("value", t.value).text(t.label))}); break; case"vp-checkbox":a = u, a.empty(), a = jQuery(vp.jqid(t.source)).find(".input"), null !== e.data && jQuery.each(e.data, function(e, n){a.append(jQuery('<label><input class="vp-input" type="checkbox" name="' + t.source + '" value="' + n.value + '"><span></span>' + n.label + "</label>"))}); break; case"vp-checkimage":a = u, a.empty(), a = jQuery(vp.jqid(t.source)).find(".input"), null !== e.data && jQuery.each(e.data, function(e, n){a.append(jQuery('<label><input class="vp-input" type="checkbox" name="' + t.source + '" value="' + n.value + '"><img src="' + n.img + '" alt="' + n.label + '" class="vp-js-tipsy image-item" style="" original-title="' + n.value + '"></label>'))}), vp.init_tipsy(); break; case"vp-radiobutton":a = u, a.empty(), a = jQuery(vp.jqid(t.source)).find(".input"), null !== e.data && jQuery.each(e.data, function(e, n){a.append(jQuery('<label><input class="vp-input" type="radio" name="' + t.source + '" value="' + n.value + '"><span></span>' + n.label + "</label>"))}); break; case"vp-radioimage":a = u, a.empty(), a = jQuery(vp.jqid(t.source)).find(".input"), null !== e.data && jQuery.each(e.data, function(e, n){a.append(jQuery('<label><input class="vp-input" type="radio" name="' + t.source + '" value="' + n.value + '"><img src="' + n.img + '" alt="' + n.label + '" class="vp-js-tipsy image-item" style="" original-title="' + n.value + '"></label>'))}), vp.init_tipsy()}jQuery('[name="' + t.source + '"]:first').change().blur()}}, "JSON")}, vp.items_binding_event = function(e, t, a, n, i, r){var p = ["vp-select", "vp-checkbox", "vp-checkimage", "vp-radiobutton", "vp-radioimage", "vp-multiselect", "vp-toggle", "vp-upload"], o = ["vp-textbox", "vp-slider", "vp-color", "vp-date"], s = vp.thejqname(e[t], r), u = jQuery(vp.thejqid(e[t], r)).attr("data-vp-type"); - 1 !== jQuery.inArray(u, p)?jQuery(i).delegate(s, "change", function(){vp.items_binding_action(e, a, n, r)}): - 1 !== jQuery.inArray(u, o)?jQuery(s).typing({stop:function(t, i){vp.items_binding_action(e, a, n, r)}, delay:400}):jQuery(i).delegate(s, "change", function(){vp.binding_action(e, a, n, r)})}, vp.dependency_action = function(e, t, a){for (var n = jQuery(vp.jqid(t.source)), i = (jQuery('[name="' + t.source + '"]'), []), r = [], p = 0; p < e.length; p++)r.push(jQuery(vp.jqid(e[p]))), i.push(jQuery('[name="' + e[p] + '"]').validationVal()); var o = {action:"vp_ajax_wrapper", func:a, params:i}; jQuery.each(r, function(e, t){var a = t.find(".vp-js-bind-loader"); a.vp_fadeIn()}), jQuery.post(ajaxurl, o, function(e){jQuery.each(r, function(e, t){var a = t.find(".vp-js-bind-loader"); a.vp_fadeOut()}), e.status && (e.data?(n.removeClass("vp-dep-inactive"), n.vp_fadeIn()):(n.addClass("vp-dep-inactive"), n.vp_fadeOut()))}, "JSON")}, vp.dependency_event = function(e, t, a, n, i){var r = ["vp-select", "vp-checkbox", "vp-checkimage", "vp-radiobutton", "vp-radioimage", "vp-multiselect", "vp-toggle", "vp-upload"], p = ["vp-textbox", "vp-slider", "vp-color", "vp-date"], o = vp.thejqname(e[t], "option"), s = jQuery(vp.thejqid(e[t], "option")).attr("data-vp-type"); - 1 !== jQuery.inArray(s, r)?jQuery(i).delegate(o, "change", function(){vp.dependency_action(e, a, n)}): - 1 !== jQuery.inArray(s, p)?jQuery(o).typing({stop:function(t, i){vp.dependency_action(e, a, n)}, delay:400}):jQuery(i).delegate(o, "change", function(){vp.binding_action(e, a, n, thecase)})}, vp.init_slider = function(e){jQuery.fn.slider && e.each(function(e, t){var a = jQuery(this), n = jQuery(this).getDatas(); n = vp.parseOpt(n.opt), n.range = "min", n.slide = function(e, t){a.prev(".slideinput").val(t.value), a.prev(".slideinput").trigger("keypress"), a.prev(".slideinput").trigger("keyup")}, a.slider(n), a.prev(".slideinput").keypress(function(e){var t = "number" == typeof e.which?e.which:e.keyCode; return e.altKey || e.ctrlKey || e.shiftKey?!0: - 1 != jQuery.inArray(t, [45, 46, 8, 0]) || t >= 48 && 57 >= t?!0:!1}).blur(function(e){theValidate(this, n, a), a.prev(".slideinput").keypress().keyup()})})}, vp.upload_callback = function(){}, vp_wp.use_new_media_upload){var _orig_send_attachment = wp.media.editor.send.attachment, _orig_send_link = wp.media.editor.send.link, _orig_send_to_editor = window.send_to_editor; vp.upload_callback = function(e){var t = jQuery(this), a = t.parent(".buttons").prev("input"), n = t.parent(".buttons").siblings(".image").find("img"); return wp.media.editor.send.attachment = function(e, t){a.val(t.url), a.trigger("change"), "image" === t.type?n.attr("src", t.url):n.attr("src", t.icon), wp.media.editor.send.attachment = _orig_send_attachment, window.send_to_editor = _orig_send_to_editor}, window.send_to_editor = function(e){if ("" !== e){var t = get_url_info(e); a.val(t.imgurl), a.trigger("change"), n.attr("src", t.iconurl)}window.send_to_editor = _orig_send_to_editor, wp.media.editor.send.attachment = _orig_send_attachment}, wp.media.editor.open(t), !1}} else{var _orig_send_to_editor = window.send_to_editor; vp.upload_callback = function(e){var t = jQuery(this).parent(".buttons").prev("input"), a = jQuery(this).parent(".buttons").siblings(".image").find("img"); return tb_show("Upload Image", "media-upload.php?&post_id=0&referer=vafpress&TB_iframe=true"), window.send_to_editor = function(e){if ("" !== e){var n = get_url_info(e); t.val(n.imgurl), t.trigger("change"), a.attr("src", n.iconurl)}window.send_to_editor = _orig_send_to_editor, tb_remove()}, !1}}vp.remove_upload_callback = function(e){var t = jQuery(this), a = t.parent(".buttons").prev("input"), n = t.parent(".buttons").siblings(".image").find("img"); a.val(""), n.attr("src", "")}, jQuery(document).on("click", ".vp-js-upload", vp.upload_callback), jQuery(document).on("click", ".vp-js-remove-upload", vp.remove_upload_callback), vp.init_colorpicker = function(e){if (jQuery.fn.colorpicker){if (e.length <= 0)return; e.each(function(){var e = jQuery(this), t = jQuery(this).getDatas(); t = vp.parseOpt(t.opt), e.colorpicker({format:t.format}).on("changeColor", function(a){var n; "hex" == t.format?n = a.color.toHex():"rgba" == t.format?(n = a.color.toRGB(), n = "rgba(" + n.r + "," + n.g + "," + n.b + "," + n.a + ")"):"rgb" == t.format && (n = a.color.toRGB(), n = "rgb(" + n.r + "," + n.g + "," + n.b + ")"), e.prev("label").find("span").css("background-color", n)}).on("blur", function(t){e.prev("label").find("span").css("background-color", e.val()), e.keypress().keyup()})})}}, vp.init_datepicker = function(e){if (jQuery.fn.datepicker){if (e.length <= 0)return; e.each(function(){var e = jQuery(this).getDatas(); e = vp.parseOpt(e.opt), e.onSelect = function(){jQuery(this).trigger("keypress"), jQuery(this).trigger("keyup"), jQuery(this).trigger("blur")}, jQuery(this).datepicker(e), jQuery(this).datepicker("setDate", e.value)})}}, vp.init_controls = function(e){vp.init_datepicker(e.find(".vp-js-datepicker")), vp.init_fontawesome_chooser(e.find("select.vp-js-fontawesome")), vp.init_flateicon_chooser(e.find("select.vp-js-flateicon")), vp.init_select2(e.find("select.vp-js-select2")), vp.init_sorter(e.find(".vp-js-sorter")), vp.init_colorpicker(e.find(".vp-js-colorpicker")), vp.init_slider(e.find(".vp-js-slider")), vp.init_ace_editor(e.find(".vp-js-codeeditor")), vp.init_wpeditor(e.find(".vp-js-wpeditor"))}, vp.init_flateicon_chooser = function(e){if (jQuery.fn.select2){if (e.length <= 0)return; var t = function(e){return'<span class="fontawesome"><i class="glyph-icon ' + e.id + '"></i>' + e.text + "</span>"}; e.select2({formatResult:t, formatSelection:t, escapeMarkup:function(e){return e}, allowClear:!0, placeholder:vp_wp.ctrl_msg.fac_placeholder})}}, vp.init_fontawesome_chooser = function(e){if (jQuery.fn.select2){if (e.length <= 0)return; var t = function(e){return'<span class="fontawesome"><i class="fa ' + e.id + '"></i>' + e.text + "</span>"}; e.select2({formatResult:t, formatSelection:t, escapeMarkup:function(e){return e}, allowClear:!0, placeholder:vp_wp.ctrl_msg.fac_placeholder})}}, vp.init_select2 = function(e){if (jQuery.fn.select2){if (e.length <= 0)return; e.select2({allowClear:!0, placeholder:vp_wp.ctrl_msg.select2_placeholder})}}, vp.init_sorter = function(e){if (jQuery.fn.select2Sortable){if (e.length <= 0)return; e.each(function(e, t){var a = jQuery(t), n = a.getDatas(); n = vp.parseOpt(n.opt), a.select2(n).select2Sortable({bindOrder:"sortableStop"})})}}, vp.init_tipsy = function(){jQuery.fn.tipsy && (jQuery(".vp-js-tipsy.description").tipsy({live:!0, gravity:"e"}), jQuery(".vp-js-tipsy.slideinput").tipsy({live:!0, trigger:"focus"}), jQuery(".vp-js-tipsy.image-item").tipsy({live:!0}))}, vp.init_tipsy(), vp.init_ace_editor = function(e){if ("undefined" !== window.ace){if (e.length <= 0)return; e.each(function(){var e = ace.edit(jQuery(this).get(0)), t = jQuery(this).prev(), a = jQuery(this).getDatas(); a = vp.parseOpt(a.opt), e.setTheme("ace/theme/" + a.theme), a.mode && e.getSession().setMode("ace/mode/" + a.mode), e.getSession().setUseWrapMode(!0), e.setShowPrintMargin(!1), e.getSession().setValue(t.val()), e.getSession().on("change", function(){t.val(e.getSession().getValue())}), t.on("change", function(){e.getSession().setValue(t.val())})})}}, "undefined" != typeof window.KIA_metabox && KIA_metabox.mediaButtons(), vp.init_wpeditor = function(e){if ("undefined" != typeof window.KIA_metabox){if (e.length <= 0)return; KIA_metabox.runTinyMCE(e)}}, vp.tinyMCE_save = function(){"undefined" != typeof window.tinyMCE && tinyMCE.triggerSave(!1, !0)};
