!function(t){function e(n){if(g[n])return g[n].exports;var A=g[n]={exports:{},id:n,loaded:!1};return t[n].call(A.exports,A,A.exports,e),A.loaded=!0,A.exports}var g={};return e.m=t,e.c=g,e.p="",e(0)}([function(t,e,g){t.exports=g(1)},function(t,e,g){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}g(2),g(3),g(6),g(17),g(21),g(27),g(33),g(54),g(56),g(86),g(87),g(90),g(93),g(94),g(96),g(97),g(98),g(100),g(113),g(114);var n=g(7),A=e(n),C=g(116);t.UxBuilder=window.parent.UxBuilder,A["default"].requires.push("app.filters"),A["default"].requires.push("app.services");for(var I in C.data.modules.iframe)A["default"].requires.push(C.data.modules.iframe[I]);A["default"].config(["$controllerProvider",function(t){angular.forEach(C.data.shortcodes,function(e,g){t.register(g+"__controller",e.controller||angular.noop)})}])}).call(e,function(){return this}())},function(t,e){window.MutationObserver=window.MutationObserver||window.WebKitMutationObserver||function(t){function e(t){this.g=[],this.k=t}function g(t){!function g(){var n=t.takeRecords();n.length&&t.k(n,t),t.f=setTimeout(g,e._period)}()}function n(e){var g,n={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(g in e)n[g]!==t&&e[g]!==t&&(n[g]=e[g]);return n}function A(t,e){var g=o(t,e);return function(n){var A,r=n.length;e.a&&g.a&&C(n,t,g.a,e.d),(e.b||e.e)&&(A=I(n,t,g,e)),(A||n.length!==r)&&(g=o(t,e))}}function C(e,g,A,C){for(var I,o,r={},i=g.attributes,s=i.length;s--;)I=i[s],o=I.name,C&&C[o]===t||(I.value!==A[o]&&e.push(n({type:"attributes",target:g,attributeName:o,oldValue:A[o],attributeNamespace:I.namespaceURI})),r[o]=!0);for(o in A)r[o]||e.push(n({target:g,type:"attributes",attributeName:o,oldValue:A[o]}))}function I(e,g,A,I){function o(t,g,A,o,r){var s=t.length-1;r=-~((s-r)/2);for(var a,l,c;c=t.pop();)a=A[c.h],l=o[c.i],I.b&&r&&Math.abs(c.h-c.i)>=s&&(e.push(n({type:"childList",target:g,addedNodes:[a],removedNodes:[a],nextSibling:a.nextSibling,previousSibling:a.previousSibling})),r--),I.a&&l.a&&C(e,a,l.a,I.d),I.c&&3===a.nodeType&&a.nodeValue!==l.c&&e.push(n({type:"characterData",target:a})),I.e&&i(a,l)}function i(g,A){for(var l,c,u,d,p,h=g.childNodes,f=A.b,m=h.length,v=f?f.length:0,b=0,$=0,y=0;$<m||y<v;)d=h[$],p=(u=f[y])&&u.j,d===p?(I.a&&u.a&&C(e,d,u.a,I.d),I.c&&u.c!==t&&d.nodeValue!==u.c&&e.push(n({type:"characterData",target:d})),c&&o(c,g,h,f,b),I.e&&(d.childNodes.length||u.b&&u.b.length)&&i(d,u),$++,y++):(s=!0,l||(l={},c=[]),d&&(l[u=r(d)]||(l[u]=!0,-1===(u=a(f,d,y,"j"))?I.b&&(e.push(n({type:"childList",target:g,addedNodes:[d],nextSibling:d.nextSibling,previousSibling:d.previousSibling})),b++):c.push({h:$,i:u})),$++),p&&p!==h[$]&&(l[u=r(p)]||(l[u]=!0,-1===(u=a(h,p,$))?I.b&&(e.push(n({type:"childList",target:A.j,removedNodes:[p],nextSibling:f[y+1],previousSibling:f[y-1]})),b--):c.push({h:u,i:y})),y++));c&&o(c,g,h,f,b)}var s;return i(g,A),s}function o(t,e){var g=!0;return function n(t){var A={j:t};return!e.c||3!==t.nodeType&&8!==t.nodeType?(e.a&&g&&1===t.nodeType&&(A.a=s(t.attributes,function(t,g){return e.d&&!e.d[g.name]||(t[g.name]=g.value),t})),g&&(e.b||e.c||e.a&&e.e)&&(A.b=i(t.childNodes,n)),g=e.e):A.c=t.nodeValue,A}(t)}function r(t){try{return t.id||(t.mo_id=t.mo_id||l++)}catch(e){try{return t.nodeValue}catch(g){return l++}}}function i(t,e){for(var g=[],n=0;n<t.length;n++)g[n]=e(t[n],n,t);return g}function s(t,e){for(var g={},n=0;n<t.length;n++)g=e(g,t[n],n,t);return g}function a(t,e,g,n){for(;g<t.length;g++)if((n?t[g][n]:t[g])===e)return g;return-1}e._period=30,e.prototype={observe:function(t,e){for(var n={a:!!(e.attributes||e.attributeFilter||e.attributeOldValue),b:!!e.childList,e:!!e.subtree,c:!(!e.characterData&&!e.characterDataOldValue)},C=this.g,I=0;I<C.length;I++)C[I].m===t&&C.splice(I,1);e.attributeFilter&&(n.d=s(e.attributeFilter,function(t,e){return t[e]=!0,t})),C.push({m:t,l:A(t,n)}),this.f||g(this)},takeRecords:function(){for(var t=[],e=this.g,g=0;g<e.length;g++)e[g].l(t);return t},disconnect:function(){this.g=[],clearTimeout(this.f),this.f=null}};var l=1;return e}(void 0)},function(t,e,g){"use strict";g(4),g(5)},function(t,e){(function(t){"use strict";t.UX_EMPTY_VALUE="<none>"}).call(e,function(){return this}())},function(t,e){(function(t){"use strict";!function(){t.isIframe=function(){return!!window.frameElement},t.camelCase=function(t,e){return t=e?t.charAt(0).toUpperCase()+t.slice(1):t,jQuery.camelCase(t.replace(/\_|\:/g,"-",!0))},t.snakeCase=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_";return t.replace(/[A-Z]/g,function(t,g){return(g?e:"")+t.toLowerCase()})},t.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.round=function(t,e){return Math.round(t/e)*e}}()}).call(e,function(){return this}())},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(7),C=n(A);C["default"].constant("Event",{READY:"ready",CHANGE:"change",COMPLETE:"complete",ERROR:"error",SCROLL:"scroll",RESIZE:"resize"}),C["default"].constant("AppEvent",{READY:"app-ready",APPLY:"app-apply",EMIT:"app-emit",BROADCAST:"app-broadcast"}),C["default"].constant("IframeEvent",{READY:"iframe-ready",RELOAD:"iframe-reload",RESIZE:"iframe-resize",CHANGED:"iframe-changed",SCROLL:"iframe-scroll"}),C["default"].constant("MouseEvent",{}),C["default"].constant("TouchEvent",{}),C["default"].constant("ShortcodeEvent",{CREATE:"shortcode-create",CREATED:"shortcode-created",ATTACHED:"shortcode-attached",CONFIGURE:"shortcode-configure",RECOMPILED:"shortcode-recompiled",ACTIVE:"shortcode-active",INACTIVE:"shortcode-inactive",CHANGED:"shortcode-changed",ADDED:"shortcode-added",MOVED:"shortcode-moved",DETACHED:"shortcode-detached",REMOVED:"shortcode-removed",MOUSEOVER:"shortocde-mouseover",MOUSEOUT:"shortocde-mouseout",CLICK:"shortcode-click",OUTLINED:"shortcode-outlined",SELECTED:"shortcode-selected",DUPLICATED:"shortcode-duplicated",DELETED:"shortcode-deleted"}),C["default"].constant("ChildEvent",{ADDED:"child-added",REMOVED:"child-removed"}),C["default"].constant("OptionsEvent",{SHOW:"options-show",CLEAR:"options-clear",HIDE:"options-hide"}),C["default"].constant("MediaEvent",{CHANGED:"media-changed"}),C["default"].constant("DragEvent",{START:"draggable-start",MOVE:"draggable-move",END:"draggable-end"})},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.uxBuilder=void 0;var A=g(8),C=n(A),I=g(9),o=n(I),r=g(10),i=n(r),s=(e.uxBuilder=new i["default"],angular.module("uxBuilder",[]));e["default"]=s,s.config(C["default"]),s.run(o["default"])},function(t,e){"use strict";function g(t,e,g,n){t.digestTtl(20),n.debugInfoEnabled(!1),e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",g.decorator("$rootScope",["$delegate",function(t){return Object.defineProperty(t.constructor.prototype,"_",{value:_,enumerable:!1}),t}])}g.$inject=["$rootScopeProvider","$httpProvider","$provide","$compileProvider"],Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=g},function(t,e){(function(t){"use strict";function g(t,e,g){var n=!0;t.$watch(function(){n&&e.postCustomMessage(g.APPLY)}),e.addEventListener(g.APPLY,function(){n=!1,null===t.$$phase&&t.$apply(),n=!0},!1),e.addEventListener(g.BROADCAST,function(e){t.$broadcast(e.data.type,e.data.data)},!1),e.addEventListener(g.EMIT,function(e){t.$emit(e.data.type,e.data.data)},!1)}g.$inject=["$rootScope","$window","AppEvent"],Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=g;var n=null;t.postCustomMessage=function(t,e,g){n=n||(self===top?document.querySelectorAll(".iframe-frame")[0].contentWindow:window.parent),g=new CustomEvent(t),g.data=e,n.dispatchEvent(g)}}).call(e,function(){return this}())},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=g(12),o=n(I),r=g(16),i=function(){function t(){(0,C["default"])(this,t)}return(0,o["default"])(t,[{key:"controller",value:function(t,e){r.store.shortcodes.hasOwnProperty(t)&&(r.store.shortcodes[t].controller=e)}},{key:"on",value:function(t,e){r.store.$$events[t]=r.store.$$events[t]||[],r.store.$$events[t].push(e)}},{key:"addfilter",value:function(t,e){r.store.$$filters[t]=r.store.$$filters[t]||[],r.store.$$filters[t].push(e)}},{key:"addAction",value:function(t){r.store.actions.push(t)}}]),t}();e["default"]=i},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var A=g(13),C=n(A);e["default"]=function(){function t(t,e){for(var g=0;g<e.length;g++){var n=e[g];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,C["default"])(t,n.key,n)}}return function(e,g,n){return g&&t(e.prototype,g),n&&t(e,n),e}}()},function(t,e,g){t.exports={"default":g(14),__esModule:!0}},function(t,e,g){var n=g(15);t.exports=function(t,e,g){return n.setDesc(t,e,g)}},function(t,e){var g=Object;t.exports={create:g.create,getProto:g.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:g.getOwnPropertyDescriptor,setDesc:g.defineProperty,setDescs:g.defineProperties,getKeys:g.keys,getNames:g.getOwnPropertyNames,getSymbols:g.getOwnPropertySymbols,each:[].forEach}},function(t,e){"use strict";function g(t){return A.$set=function(e,g){return t(n(e)).assign(A,g)},A.$get=function(e,g){var C=t(n(e))(A);return!angular.isDefined(C)&&g?A.$set(e,g):C},A.$unset=function(e){var g;return e.indexOf("*")?(g=e.split("*")[0],t(n(g)).assign(A,null)):t(n(e)).assign(A,null)},A}function n(t){var e=[],g=t.split(".");return _.each(g,function(t){e.push(jQuery.camelCase(t.replace(/:/g,"-")))}),e.join(".")}g.$inject=["$parse"],Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=g;var A=e.store=(window.parent||window).uxBuilderData},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(7),C=n(A),I=g(18),o=n(I),r=g(19),i=n(r),s=g(20),a=n(s);C["default"].directive("draggableShortcode",o["default"]),C["default"].directive("toNumber",i["default"]),C["default"].directive("wpAttachment",a["default"])},function(t,e){"use strict";function g(t){return{restrict:"A",controllerAs:"draggableShortcode",bindToController:{shortcode:"=draggableShortcode",options:"=draggableOptions",element:"=draggableElement"},controller:["$scope","$element","targets",function(e,g,n){var A=this,C=null;e.$watch("draggableShortcode.shortcode",function(I){C&&C.destroy(),C=t(A.shortcode,A.element||g.get(0),A.options),A.options&&A.options.targets&&A.options.targets.map(function(t){angular.isObject(t)?(t.shortcode=A.shortcode,t.element=g,n.add(t.name,t)):n.add(t,{shortcode:A.shortcode,element:g})}),e.$on("$destroy",function(){C.destroy(),n.removeElement(g.get(0))})})}]}}g.$inject=["draggable"],Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=g},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){return{require:"ngModel",link:function(t,e,g,n){n.$parsers.push(function(t){return""+t}),n.$formatters.push(function(t){return parseFloat(t,10)})}}}},function(t,e){"use strict";function g(t){return{restrict:"A",controllerAs:"attachment",bindToController:!0,scope:{id:"=wpAttachment",size:"=wpAttachmentSize",model:"=wpAttachmentModel",width:"@wpAttachmentWidth",height:"@wpAttachmentHeight"},controller:["app","store","$scope","$element",function(t,e,g,n){function A(){var t=g.attachment.id,n=g.attachment.size||"full",A=g.attachment.width||0,I=g.attachment.height||0,o=A||I?"w"+A+".h"+I:n,r="cache.attachment."+o+".id"+t,i=e.$get(r);return angular.isDefined(i)?C(i):void jQuery.getJSON(e.ajaxUrl,{action:"ux_builder_get_attachment",attachment_id:t,attachment_size:n,attachment_width:A,attachment_height:I}).success(function(t){t.success?C(e.$set(r,t.data)):window.self===window.top&&g.attachment.model&&(i=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAEOCAIAAADe+FMwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAADhuaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzExMSA3OS4xNTgzMjUsIDIwMTUvMDkvMTAtMDE6MTA6MjAgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE2LTA5LTI3VDE3OjUzOjI2KzAyOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNi0wOS0yN1QxNzo1MzoyNiswMjowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTYtMDktMjdUMTc6NTM6MjYrMDI6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmJjYTkzYTljLTRlZmQtNDQ0ZC05YjY1LTllNGQ0YWIzMWE3NzwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpiY2E5M2E5Yy00ZWZkLTQ0NGQtOWI2NS05ZTRkNGFiMzFhNzc8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpiY2E5M2E5Yy00ZWZkLTQ0NGQtOWI2NS05ZTRkNGFiMzFhNzc8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YmNhOTNhOWMtNGVmZC00NDRkLTliNjUtOWU0ZDRhYjMxYTc3PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE2LTA5LTI3VDE3OjUzOjI2KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8cGhvdG9zaG9wOklDQ1Byb2ZpbGU+c1JHQiBJRUM2MTk2Ni0yLjE8L3Bob3Rvc2hvcDpJQ0NQcm9maWxlPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj40ODA8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MjcwPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4rLBj0AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAALzSURBVHja7NQxEQAwCACxUklMbPh3hQuOIZHww0dWPwDu+RIAGDQABg1g0AAYNIBBA2DQABg0gEEDYNAABg2AQQNg0AAGDYBBAxg0AAYNYNAAGDQABg1g0AAYNIBBA2DQABg0gEEDYNAABg2AQQMYNAAGDYBBAxg0AAYNYNAAGDQABg1g0AAYNIBBA2DQAAYNgEEDYNAABg2AQQMYNAAGDYBBAxg0AAYNYNAAGDQABg1g0AAYNIBBA2DQAAYNgEEDYNAABg2AQQMYNAAGDYBBAxg0AAYNYNAAGDSAQQNg0AAYNIBBA2DQAAYNgEEDYNAABg2AQQMYNAAGDWDQABg0AAYNYNAAGDSAQQNg0AAYNIBBA2DQAAYNgEEDYNAABg2AQQMYNAAGDWDQABg0AAYNYNAAGDSAQQNg0AAYNIBBA2DQAAYNgEEDGDQABg2AQQMYNAAGDWDQABg0AAYNYNAAGDSAQQNg0AAGDYBBA2DQAAYNgEEDGDQABg2AQQMYNAAGDWDQABg0AAYNYNAAGDSAQQNg0AAGDYBBA2DQAAYNgEEDGDQABg2AQQMYNAAGDWDQABg0gEEDYNAAGDSAQQNg0AAGDYBBA2DQAAYNgEEDGDQABg1g0AAYNAAGDWDQABg0gEEDYNAAGDSAQQNg0AAGDYBBA2DQAAYNgEEDGDQABg1g0AAYNAAGDWDQABg0gEEDYNAAGDSAQQNg0AAGDYBBAxg0AAYNgEEDGDQABg1g0AAYNAAGDWDQABg0gEEDYNAABg2AQQNg0AAGDYBBAxg0AAYNgEEDGDQABg1g0AAYNAAGDWDQABg0gEEDYNAABg2AQQNg0AAGDYBBAxg0AAYNgEEDGDQABg1g0AAYNIBBA2DQABg0gEEDYNAABg2AQQNg0AAGDYBBAxg0AAYNYNAAGDQABg1g0AAYNIBBA2DQABg0gEEDYNAABg2AQQMYtAQABg2AQQMYNAAGDWDQABg0AAYNYNAAGDSAQQOwbQAAAP//AwDBvQLFJkQUdgAAAABJRU5ErkJggg==","480px","270px"]),
i&&C(i)}).fail(function(e){console.error("Failed to load attachment",t)})}function C(t){"IMG"===n[0].tagName?(n.addClass("processing"),n.on("load",function(){n.off("load").removeClass("processing")}),n.attr("src",t[0]),n.attr("width",t[1]),n.attr("height",t[2])):n.css("background-image","url("+t[0]+")"),r=!0}function I(){"IMG"===n[0].tagName?(n.removeAttr("src"),n.removeAttr("width"),n.removeAttr("height")):n.css("background-image",""),r=!1}var o=this,r=!1;n.on("load.wpAttachment",function(){return t("tools").fixPositions()}),g.$watch(function(){return o.id},function(t){return t&&""!==t?"string"==typeof t&&t.indexOf("/")>-1?C([t]):void A():I()}),g.$watch(function(){return o.size},function(t,e){r&&t!==e&&A()}),g.$on("$destroy",function(){n.off("load.wpAttachment")})}]}}g.$inject=["app"],Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=g},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(22),C=n(A),I=g(23),o=n(I),r=g(24),i=n(r),s=g(25),a=n(s),l=g(26),c=n(l);angular.module("app.filters",[]).filter("noDefault",C["default"]).filter("heightCheck",o["default"]).filter("html",i["default"]).filter("rgba",a["default"]).filter("trusted",c["default"])},function(t,e){"use strict";function g(){return function(t,e){return t!==e["default"]&&t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=g},function(t,e){"use strict";function g(){return function(t){return"100%"===t?"100vh":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=g},function(t,e){"use strict";function g(t){return function(e){return t.trustAsHtml(e)}}g.$inject=["$sce"],Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=g},function(t,e){"use strict";function g(){return function(t){var e=t;if(e.indexOf("#")>-1){var g=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(g,function(t,e,g,n){return e+e+g+g+n+n}),e=e.replace("#","");var n=parseInt(e.substring(0,2),16),A=parseInt(e.substring(2,4),16),C=parseInt(e.substring(4,6),16);e="rgba("+n+","+A+","+C+",0.3)"}return e}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=g},function(t,e){"use strict";function g(t){return function(e){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html";return t.trustAs(g,e)}}g.$inject=["$sce"],Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=g},function(t,e,g){"use strict";g(28),g(29),g(30),g(31),g(32)},function(t,e){(function(t){"use strict";t.jQuery.fn.cover=function(e){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return this;var n=t.jQuery(e),A=n.get(0).ownerDocument,C=A.defaultView,I=n.outerOffset(g),o=!!this.get(0).ownerDocument.defaultView.frameElement,r=!!n.get(0).ownerDocument.defaultView.frameElement;if(!o&&r){var i=C.frameElement.getBoundingClientRect();I.left+=i.left,I.top+=i.top}return o&&r&&(I.top+=A.documentElement.scrollTop||A.body.scrollTop),this.css({width:I.width.toFixed(2),height:I.height.toFixed(2),transform:"translateX("+I.left.toFixed()+"px) translateY("+I.top.toFixed()+"px)"})}}).call(e,function(){return this}())},function(t,e){(function(t){"use strict";function e(t){var e=!0;return t.map(function(t){var g=window.getComputedStyle(t);"none"===g.display&&(e=!1),"hidden"===g.visibility&&(e=!1),"0.0"===g.opacity&&(e=!1)}),e}t.jQuery.fn.isVisible=function(){var t=[this.get(0)];return e(t)}}).call(e,function(){return this}())},function(t,e){(function(t){"use strict";t.jQuery.fn.outerOffset=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g={width:0,height:0};return this.each(function(n,A){var C=t.jQuery(A),I=A.getBoundingClientRect(),o=0,r=0,i=I.right-(g.left?g.left:I.left),s=I.bottom-(g.top?g.top:I.top),a=C.css("display").search("inline")>-1;e.includeMargins&&(a?i=C.outerWidth(!0):s=C.outerHeight(!0)),g.top=(I.top>g.top?g.top:I.top)+r,g.left=(I.left>g.left?g.left:I.left)+o,g.width=i>g.width?i:g.width,g.height=s>g.height?s:g.height}),g.right=g.left+g.width,g.bottom=g.top+g.height,g}}).call(e,function(){return this}())},function(t,e){(function(t){"use strict";t.jQuery.fn.scrollToElement=function(e){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:450,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,C=t.jQuery(e),I=t.window.innerHeight,o=C.get(0).ownerDocument.body.getBoundingClientRect(),r=C.get(0).getBoundingClientRect(),i=r.top-o.top+r.height/2+n;return r.height<I?i-=I/2:r.height>I&&(i=r.top-o.top),this.animate({scrollTop:i},g,A)}}).call(e,function(){return this}())},function(t,e){(function(t){"use strict";t.jQuery.fn.shortcode=function(){var e=this.parents(),g=null;return this.data("shortcode")?this.data("shortcode"):(e.each(function(e,n){t.jQuery(n).data("shortcode")&&!g&&(g=t.jQuery(n).data("shortcode"))}),g)}}).call(e,function(){return this}())},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(34),C=n(A),I=g(35),o=n(I),r=g(36),i=n(r),s=g(37),a=n(s),l=g(38),c=n(l),u=g(39),d=n(u),p=g(40),h=n(p),f=g(41),m=n(f),v=g(42),b=n(v),$=g(47),y=n($),w=g(48),x=n(w),E=g(16),D=n(E),S=g(51),k=n(S),M=g(52),O=n(M),N=g(53),_=n(N);angular.module("app.services",[]).service("$angular",C["default"]).service("actions",o["default"]).service("app",i["default"]).service("contextmenu",a["default"]).service("draggable",c["default"]).service("dependencies",d["default"]).service("editor",h["default"]).service("iframe",b["default"]).service("hammer",m["default"]).service("ResponsiveHelper",y["default"]).service("Shortcode",x["default"]).service("utils",O["default"]).service("store",D["default"]).service("targets",k["default"]).service("$iframe",_["default"])},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=["$window",function o(t){return(0,C["default"])(this,o),t.frameElement?t.parent.angular:angular}];e["default"]=I},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=g(12),o=n(I),r=function(){function t(e){(0,C["default"])(this,t),this.store=e,this.store.states=this.store.states||{}}return t.$inject=["store"],(0,o["default"])(t,[{key:"outlineShortcode",value:function(t){this.store.states.outlinedShortcode=t}},{key:"selectShortcode",value:function(t){this.store.states.selectedShortcode=t}},{key:"configureShortcode",value:function(t){this.store.states.configuringShortcode=t}}]),t}();e["default"]=r},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=["store","$rootScope","$window","$timeout","$log","AppEvent","IframeEvent","MediaEvent",function o(t,e,g,n,A,I,r,i){function s(e){return t.components[e]}return(0,C["default"])(this,o),s["goto"]=function(e){t.permissions.exit&&((window.parent||window).location.hash=e)},s.exit=function(){var e="publish"===t.post.status?t.backUrl:t.editUrl;t.isSaved?(window.parent||window).location.href=e:confirm("Exit? All changes since last save will be lost.")&&((window.parent||window).location.href=e)},s.register=function(e,g){t.components=t.components||{},t.components[e]=g},s.remove=function(e){delete t.components[e]},s.apply=function(t){e.$apply(t)},s.broadcast=function(t,n){e.$broadcast(t,n),g.postCustomMessage(I.BROADCAST,{type:t,data:n})},s.emit=function(t,n){e.$emit(t,n),g.postCustomMessage(I.EMIT,{type:t,data:n})},s.trigger=function(e){for(var g=arguments.length,n=Array(g>1?g-1:0),A=1;A<g;A++)n[A-1]=arguments[A];if(this.broadcast.apply(this,[e].concat(n)),t.$$events.hasOwnProperty(e))for(var C=0;C<t.$$events[e].length;C++){var I;(I=t.$$events[e][C]).call.apply(I,[this].concat(n))}},s.filter=function(e,g){if(t.$$filters.hasOwnProperty(e)){for(var n=arguments.length,A=Array(n>2?n-2:0),C=2;C<n;C++)A[C-2]=arguments[C];for(var I=0;I<t.$$filters[e].length;I++){var o;g=(o=t.$$filters[e][I]).call.apply(o,[this,g].concat(A))}}return g},s.states=t.states,s.resetAll=function(){t.$$events={},t.$$filters={},this.resetState()},s.resetState=function(){for(var e in t.states)t.states[e]=null},s.freeze=function(e){t.states.freezed=e},s.outlineShortcode=function(e){t.states.outlinedShortcode=t.states.freezed!==!0?e:null},s.selectShortcode=function(e){t.states.selectedShortcode=t.states.freezed!==!0?e:null},s.configureShortcode=function(t){this["goto"](t?"/shortcode/"+t.$id:"/")},s.setBreakpoint=function(e){t.breakpoints.current=e,s.broadcast(i.CHANGED,e)},s}];e["default"]=I},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=g(12),o=n(I),r=function(){function t(e,g){(0,C["default"])(this,t),this.app=e,this.utils=g}return t.$inject=["app","utils"],(0,o["default"])(t,[{key:"attach",value:function(t){t.addEventListener&&t.addEventListener("contextmenu",this.onRightClick.bind(this),!1)}},{key:"onRightClick",value:function(t){var e=this.utils.getGlobalCoordinates(t.view,t.clientX,t.clientY),g=this.utils.shortcodeFromPoint(e.x,e.y);g.isRoot||(this.menu.open(g,t.target,t.clientX,t.clientY),this.app.apply(),t?t.preventDefault():window.event.returnValue=!1)}},{key:"menu",get:function(){return this.app("contextMenu")}}]),t}();e["default"]=r},function(t,e,g){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=["app","store","targets","Shortcode","$document","$window","$timeout","$iframe","utils","DragEvent",function o(e,g,n,A,I,r,i,s,a,l){(0,C["default"])(this,o);var c={},u=(window.parent||window).angular.element("draggable-helper");return function(C,o,d){function p(t){t.srcEvent.stopPropagation(),t.srcEvent.stopImmediatePropagation()}function h(t){u.find("h3 span").text(C.data.name),I.onkeydown=function(t){return e("tools").toggleAddableButton(t.altKey)},I.onkeyup=function(t){return e("tools").toggleAddableButton(t.altKey)},c.shortcode=C,c.container=C.parent.$element,c.isSelected=e.states.selectedShortcode===C,c.defaultPrevented=!1,c.showHelper=!0,c.constrains=!1,c.initial={},v(t),c.initial={},c.initial.innerX=c.innerX,c.initial.innerY=c.innerY,c.initial.elementX=c.elementX,c.initial.elementY=c.elementY,C.$element.addClass("uxb-shortcode-dragging"),angular.element(r.parent.document.body).addClass("dragging"),angular.element("body").addClass("dragging"),d.start(t),C.states.dragging=!0,g.isDragging=!0,d.broadcast&&e.broadcast(l.START,c),e("tools").apply(),C.$scope.$digest()}function f(t){if(c.shortcode||h(t),v(t),c.defaultPrevented||(u.addClass("active"),u.css({transform:"translate3d("+c.global.x+"px, "+c.global.y+"px, 0px)"}),u.find("h3 span").css({transform:"rotate("+c.originalEvent.velocityY*-25+"deg)"})),c.target=null,c.addToShortcode=null,C.$recompile)return w.stop(!0),m(t);if(n.find(c.global.x,c.global.y).map(function(t){!c.target&&t.target&&t.target.allows(C)&&(c.target=t)}),c.target){var g=c.target.target===C.parent,A=g&&c.target.index===C.index,I=g&&c.target.index===C.index+1,o=t.srcEvent.altKey;!A&&!I||o||(c.target=null)}d.move(t),e("tools").showAddableSpot(c.target,t.srcEvent.altKey),e.outlineShortcode(c.target?c.target.target.parent:null),d.broadcast&&e.broadcast(l.MOVE,c),e("tools").apply(),C.$scope.$digest()}function m(t){if(v(t),u.find("h3 span").removeAttr("style"),u.removeClass("active"),C.states.dragging=!1,c.target&&!c.defaultPrevented){var n=t.srcEvent.altKey,o=c.target.target,s=c.target.index;n?(c.addedShortode=A.duplicate(C),c.addedShortode=o.addChild(c.addedShortode,o===c.addedShortode.parent&&s>=c.addedShortode.index?s+1:s)):c.addedShortode=A.move(C,o,s)}C.$element.removeClass("uxb-shortcode-dragging"),angular.element(r.parent.document.body).removeClass("dragging"),angular.element("body").removeClass("dragging"),d.end(t),d.broadcast&&e.broadcast(l.END,c),I.onkeydown=null,I.onkeyup=null,c={},i(function(){return g.isDragging=!1},0)}function v(t){c.originalEvent=t,c.global=a.getGlobalCoordinates(t.target.ownerDocument.defaultView,t.center.x,t.center.y),c.element=angular.element(y),c.draggable=$,c.main={},c.main.x=c.global.x,c.main.y=c.global.y,c.iframe={},c.iframe.x=c.global.x-s().offset().left,c.iframe.y=c.global.y-s().offset().top,c.virtual={},c.virtual.width=c.shortcode.$element.width(),c.virtual.height=c.shortcode.$element.height(),c.virtual.top=c.iframe.y-c.initial.elementY,c.virtual.right=c.iframe.x+c.virtual.width-c.initial.elementX,c.virtual.bottom=c.iframe.y+c.virtual.height-c.initial.elementY,c.virtual.left=c.iframe.x-c.initial.elementX,c.constrains&&b(t),c.elementX=c.iframe.x-C.$element.offset().left,c.elementY=c.iframe.y-C.$element.offset().top+s().contents().scrollTop(),c.preventDefault=function(){c.defaultPrevented=!0},c.setContainment=function(t){c.constrains=t.outerOffset(),c.container=t}}function b(){c.constrains=c.container.outerOffset(),c.innerX=c.iframe.x-c.constrains.left-c.initial.elementX,c.innerY=c.iframe.y-c.constrains.top-c.initial.elementY,c.virtual.top<c.constrains.top&&(c.innerY=0),c.virtual.right>c.constrains.right&&(c.innerX=c.constrains.width-c.virtual.width),c.virtual.bottom>c.constrains.bottom&&(c.innerY=c.constrains.height-c.virtual.height),c.virtual.left<c.constrains.left&&(c.innerX=0)}var $=this;d=angular.extend({cssProps:{},droppable:!0,broadcast:!0,start:angular.noop,move:angular.noop,end:angular.noop},d);var y=o||C.$element.get(0),w=new t.HammerJS(y,d);return w.get("pan").set({direction:t.HammerJS.DIRECTION_ALL,threshold:1}),angular.element(y).data("shortcode",C),angular.element(y).addClass("uxb-draggable"),w.on("hammer.input",p),w.on("panstart",h),w.on("pan",f),w.on("panend",m),w}}];e["default"]=I}).call(e,function(){return this}())},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=["store","$q",function o(t,e){function g(g,n,A){var C=e.defer(),I=0,o=0;return _.each(n,function(e,A){t.$get(g+"."+A+".loaded")===!0?delete n[A]:I++}),0===_.size(n)?(C.resolve(),C.promise):(_.each(n,function(e,n){function r(){i.loaded=!0,o++,o===I&&C.resolve()}var i=t.$get(g+"."+n)||A(e,n);return angular.isDefined(i.loaded)&&i.loaded!==!0?i.addEventListener("load",r):(i.loaded=!1,i.addEventListener("load",r),t.$set(g+"."+n,i),void document.getElementsByTagName("head")[0].appendChild(i))}),C.promise)}return(0,C["default"])(this,o),{injectStyles:function(t){return g("styles",t,function(t,e,g){return g=document.createElement("link"),g.id="ux-builder-style-"+e,g.rel="stylesheet",g.type="text/css",g.media="all",g.href=t,g})},injectScripts:function(t){return g("scripts",t,function(t,e,g){return g=document.createElement("script"),g.id="ux-builder-script-"+e,g.type="text/javascript",g.src=t,g})}}}];e["default"]=I},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=g(12),o=n(I),r=function(){function t(e){(0,C["default"])(this,t),this.enabled=!0,this.store=e,this.store.editor=this.store.editor||{state:{}}}return t.$inject=["store"],(0,o["default"])(t,[{key:"disable",value:function(){this.enabled=!1,this.state={}}},{key:"enable",value:function(){this.enabled=!0}},{key:"update",value:function(){}},{key:"outline",value:function(t){this.state.outlined=this.enabled?t:null}},{key:"select",value:function(t){this.state.selected=this.enabled?t:null}},{key:"configure",value:function(t){this.state.configuring=this.enabled?t:null}},{key:"target",value:function(t){this.state.target=this.enabled?t:null}},{key:"state",get:function(){return this.store.editor.state}}]),t}();e["default"]=r},function(t,e,g){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=function o(){return(0,C["default"])(this,o),function(e,g,n){return n?t.propagatingHammer(new t.HammerJS(e,g)):new t.HammerJS(e,g)}};e["default"]=I}).call(e,function(){return this}())},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=g(12),o=n(I),r=g(43),i=n(r),s=function(){function t(e,g,n,A,I,o){(0,C["default"])(this,t),this.app=e,this.store=g,this.targets=n,this.manager=A,this.$timeout=I,this.metaOptions=g.post.meta.options.flat,this.postMeta=g.post.meta.values,this.IframeEvent=o}return t.$inject=["app","store","targets","Shortcode","$timeout","IframeEvent"],(0,o["default"])(t,[{key:"reload",value:function(t){var e=this;if(!this.store.isReloading){this.store.loading=!0;var g=(0,i["default"])(this.store.iframeUrl);for(var n in this.metaOptions){var A=this.metaOptions[n];g.query+="&"+A.$orgName+"="+this.postMeta[A.$name]}this.store.post.content=t||this.store.postContent.copy(),this.targets.remove(this.store.postContent),this.manager.remove(this.store.postContent),this.app.resetAll(),this.store.isReloading=!!this.$timeout(function(){e.store.iframeUrl=g.toString(),delete e.store.isReloading},0)}}}]),t}();e["default"]=s},function(t,e,g){"use strict";function n(t){var e=i.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]?e[3]:""}}function A(t,e,g){if(!(this instanceof A))return new A(t,e,g);var i,a,l,c,u,d=r.test(t),p=typeof e,h=this,f=0;for("object"!==p&&"string"!==p&&(g=e,e=null),g&&"function"!=typeof g&&(g=o.parse),e=I(e),u=n(t),h.protocol=u.protocol||e.protocol||"",h.slashes=u.slashes||e.slashes,t=u.rest;f<s.length;f++)a=s[f],i=a[0],c=a[1],i!==i?h[c]=t:"string"==typeof i?~(l=t.indexOf(i))&&("number"==typeof a[2]?(h[c]=t.slice(0,l),t=t.slice(l+a[2])):(h[c]=t.slice(l),t=t.slice(0,l))):(l=i.exec(t))&&(h[c]=l[1],t=t.slice(0,t.length-l[0].length)),h[c]=h[c]||(a[3]||"port"===c&&d?e[c]||"":""),a[4]&&(h[c]=h[c].toLowerCase());g&&(h.query=g(h.query)),C(h.port,h.protocol)||(h.host=h.hostname,h.port=""),h.username=h.password="",h.auth&&(a=h.auth.split(":"),h.username=a[0]||"",h.password=a[1]||""),h.origin=h.protocol&&h.host&&"file:"!==h.protocol?h.protocol+"//"+h.host:"null",h.href=h.toString()}var C=g(44),I=g(45),o=g(46),r=/^\/(?!\/)/,i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port"],[NaN,"hostname",void 0,1,1]];A.prototype.set=function(t,e,g){var n=this;"query"===t?("string"==typeof e&&e.length&&(e=(g||o.parse)(e)),n[t]=e):"port"===t?(n[t]=e,C(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="")):"hostname"===t?(n[t]=e,n.port&&(e+=":"+n.port),n.host=e):"host"===t?(n[t]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="")):"protocol"===t?(n.protocol=e.toLowerCase(),n.slashes=!g):n[t]=e;for(var A=0;A<s.length;A++){var I=s[A];I[4]&&(n[I[1]]=n[I[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n},A.prototype.toString=function(t){t&&"function"==typeof t||(t=o.stringify);var e,g=this,n=g.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var A=n+(g.slashes?"//":"");return g.username&&(A+=g.username,g.password&&(A+=":"+g.password),A+="@"),A+=g.host+g.pathname,e="object"==typeof g.query?t(g.query):g.query,e&&(A+="?"!==e.charAt(0)?"?"+e:e),g.hash&&(A+=g.hash),A},A.extractProtocol=n,A.location=I,A.qs=o,t.exports=A},function(t,e){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],t=+t,!t)return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,g){(function(e){"use strict";var n,A=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,C={hash:1,query:1};t.exports=function(t){t=t||e.location||{},n=n||g(43);var I,o={},r=typeof t;if("blob:"===t.protocol)o=new n(unescape(t.pathname),{});else if("string"===r){o=new n(t,{});for(I in C)delete o[I]}else if("object"===r){for(I in t)I in C||(o[I]=t[I]);void 0===o.slashes&&(o.slashes=A.test(t.href))}return o}}).call(e,function(){return this}())},function(t,e){"use strict";function g(t){for(var e,g=/([^=?&]+)=?([^&]*)/g,n={};e=g.exec(t);n[decodeURIComponent(e[1])]=decodeURIComponent(e[2]));return n}function n(t,e){e=e||"";var g=[];"string"!=typeof e&&(e="?");for(var n in t)A.call(t,n)&&g.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return g.length?e+g.join("&"):""}var A=Object.prototype.hasOwnProperty;e.stringify=n,e.parse=g},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=["app","store","utils",function o(t,e,g){function n(){return e.breakpoints["default"]}function A(){return e.breakpoints.current}function I(t,e){return e=e||A(),e>n()?i(t,e):a(t,e)}function r(t,e){return e=e||A(),e>n()?s(t,e):l(t,e)}function i(t,e){for(var g=e||A();g>=0;g--)if(t[g])return t[g];return null}function s(t,e){for(var g=e||A();g>=0;g--)if(t[g])return g;return 0}function a(t,e){for(var g=e||A();g<t.length;g++)if(t[g])return t[g];return null}function l(t,e){for(var g=e||A();g<t.length;g++)if(t[g])return g;return 0}function c(t,e,g){for(var n=e+1;n<g;n++)if(t[n])return!0;return!1}return(0,C["default"])(this,o),{defaultBreakpoint:n,currentBreakpoint:A,getMediaValue:I,getMediaIndex:r,getLowerMediaValue:i,getLowerMediaIndex:s,getHigherMediaValue:a,getHigherMediaIndex:l,hasValueBetween:c}}];e["default"]=I},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=g(12),o=n(I),r=g(49),i=n(r),s=function(){function t(e,g,n,A){(0,C["default"])(this,t),this.app=e,this.$timeout=g,this.$templateCache=n,this.ShortcodeEvent=A}return t.$inject=["app","$timeout","$templateCache","ShortcodeEvent"],(0,o["default"])(t,[{key:"instantiate",value:function(t,e,g){return new i["default"](t,e,g)}},{key:"create",value:function(t,e,g){var n=this.instantiate(t,e,g);return n.$$new=!0,n}},{key:"move",value:function(t,e,g){var n=e.addChild(t,g);return n.$$moved=!0,t.$parentId!==n.$parentId&&(this.app.trigger(this.ShortcodeEvent.DETACHED,t),n.$$new=!!n.data.template||!!this.$templateCache.get(n.$id)),this.app.trigger(this.ShortcodeEvent.MOVED,n),n}},{key:"duplicate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,g=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.duplicate(e,g);return n.$$new=!0,n.data.template||this.$templateCache.put(n.$id,this.$templateCache.get(t.$id)),n}},{key:"remove",value:function(t){if(this.app.trigger(this.ShortcodeEvent.DETACHED,t),this.app.states.selectedShortcode&&this.app.states.selectedShortcode.isSelfOrDescendantOf(t)&&(this.app.outlineShortcode(null),this.app.selectShortcode(null),this.app.configureShortcode(null)),t.isRoot)for(var e=t.children.length-1;e>=0;e--)t.children[e].remove();else t.remove()}}]),t}();e["default"]=s},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function A(t,e){var g=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e?t.tag+"-"+g:"root"}function C(t,e){return null===t?t:"string"==typeof t&&""===t?t:isNaN(t)?angular.isUndefined(t)?e["default"]:(Array.isArray(t)&&(t=t.join(e.config?e.config.delimiter:",")),String(t)):Number(t)}function I(t,e){var g={};for(var n in t)"$"!==n.charAt(0)&&"children"!==n&&t.hasOwnProperty(n)&&(g[n]=angular.copy(t[n]));if(t.isParent){g.children=[];for(var A=0;A<t.children.length;A++)g.children.push(I(t.children[A],e))}return e&&e(g,t),g}function o(t){var e=null,g=angular.copy(t);if(angular.isDefined(g.children))for(var n in g.children)e=o(f.store.shortcodes[g.children[n].tag].presets[0].content),g.children[n].isparent&&!g.children[n].children.length&&(g.children[n]=angular.merge({},e,g.children[n])),g.children[n].content&&""===g.children[n].content&&(g.children[n].content=e.content);return g}function r(t){var e=[];return t.children&&t.children.forEach(function(t){e.push(t),e.concat(r(t))}),e}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.store.breakpoints.current;return e>f.store.breakpoints["default"]?s(t,e):a(t,e)}function s(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.store.breakpoints.current,g=e;g>=0;g--)if(null!==t[g])return t[g];return null}function a(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.store.breakpoints.current,g=e;g<t.length;g++)if(null!==t[g])return t[g];return null}Object.defineProperty(e,"__esModule",{value:!0});var l=g(13),c=n(l),u=g(11),d=n(u),p=g(12),h=n(p),f=g(16),m=g(50),v=function(){function t(e,g,n){var I=this;(0,d["default"])(this,t),angular.merge(this,e);var o=this,r={},s={};this.$id=n||e.$id||A(e,g),this.$parentId=g?g.$id:e.$parentId||null,this.data=angular.copy(f.store.shortcodes[this.tag]),g&&angular.extend(this.data,g.data.children),this.states={},this.options={get $responsive(){return r},set $responsive(t){r=t}};for(var a in e.options.$responsive){r[a]=[];for(var l=0;l<e.options.$responsive[a].length;l++)r[a][l]=C(e.options.$responsive[a][l],o.data.options.named[a])}var u=function(t){return"$"===t.charAt(0)?"continue":((0,c["default"])(I.options,t,{enumerable:!0,get:function(){var e=o.data.options.named[t];return e.responsive?i(r[t]):s[t]},set:function(e){var g=o.data.options.named[t],n=C(e,g);if(s[t]=n,g.responsive){var A=f.store.breakpoints.current,I=i(r[t]);n!==I&&(r[t][A]=n)}}}),void(I.options[t]=e.options[t]))};for(var p in e.options){u(p)}this.data.options.flat.forEach(function(t){null===I.options[t.$name]&&(I.options[t.$name]=t["default"]),t.$isValid(I.options,g)||(I.options[t.$name]=null,t.responsive&&I.options.$responsive[t.$name].map(function(){return null}))}),f.store.shortcode[this.$id]=this,e.hasOwnProperty("children")&&(this.children=e.children.map(function(e){return new t(e,I)}))}return(0,h["default"])(t,[{key:"apply",value:function(){this.$scope&&!this.$scope.$$phase&&this.$scope.$apply()}},{key:"addChild",value:function(e,g){var n=void 0,A=void 0;if("undefined"==typeof e.$id||null===e.$id?n=new t(o(e),this):e.$parentId!==this.$id?n=new t(I(e.detatch(),function(t,e){t.$id=e.$id}),this,e.$id):(g-=g>e.index?1:0,n=e.detatch()),!this.allows(n))throw Error(n.data.name+" is not allowed in "+this.data.name);return A=g>=0?g:this.children.length,this.children.splice(A,0,n),n}},{key:"childAt",value:function(t){return this.isParent?this.children[t]:null}},{key:"removeChild",value:function(t){return this.isParent?this.children[t].remove():null}},{key:"replaceChild",value:function(e,g){return this.isParent?(this.children[g]=e instanceof t?e:new t(e,this),this.children[g]):null}},{key:"replaceWith",value:function(t){return this.isRoot?null:this.parent.replaceChild(t,this.index)}},{key:"is",value:function(t){return this.data.tag===t}},{key:"isChildOf",value:function(t){return this.parent===t}},{key:"isDescendantOf",value:function(t){return t.descendants.indexOf(this)>-1}},{key:"isSelfOrDescendantOf",value:function(t){return t.descendantsAndSelf.indexOf(this)>-1}},{key:"isAncestorOf",value:function(t){return this.descendants.indexOf(t)>-1}},{key:"isSelfOrAncestorOf",value:function(t){return this.descendantsAndSelf.indexOf(t)>-1}},{key:"copy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={};for(var g in this)_.isFunction(this[g])||"$"!==g.charAt(0)&&"children"!==g&&"data"!==g&&this.hasOwnProperty(g)&&(e[g]=angular.copy(this[g]));if(this.isParent){e.children=[];for(var n=0;n<this.children.length;n++)e.children.push(this.children[n].copy(t))}return t&&t(e,this),e}},{key:"duplicate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent.addChild(this.copy(function(t,g){e&&(t.$id=g.$id)}),t||this.index+1)}},{key:"detatch",value:function(){return this.parent?this.parent.children.splice(this.index,1)[0]:null}},{key:"remove",value:function(){this.descendants.forEach(function(t){delete f.store.shortcode[t.$id]}),this.parent&&delete f.store.shortcode[this.$id],this.detatch()}},{key:"allows",value:function(t){return(0,m.isAllowed)(t,this)}},{key:"allowed",get:function(){return(0,m.allowedShortcodes)(this)}},{key:"presets",get:function(){var t=this.parent.allowed,e=angular.copy(this.data.presets);return e.forEach(function(g,n){var A=r(g.content);return A.unshift(g.content),t.hasOwnProperty(g.content.tag)?void A.forEach(function(t){t.tag===parent.tag&&f.store.shortcodes[t.tag].nested!==!0&&e.splice(n,1)}):e.splice(n,1)}),e}},{key:"isParent",get:function(){return!!this.children}},{key:"isChild",get:function(){return!!this.parent}},{key:"isEmpty",get:function(){return this.isParent&&0===this.children.length}},{key:"isRoot",get:function(){return"_root"===this.tag}},{key:"parent",get:function(){return this.$parentId?f.store.shortcode[this.$parentId]:null}},{key:"index",get:function(){return this.parent?this.parent.children.indexOf(this):0}},{key:"depth",get:function(){return this.ancestors.length}},{key:"ancestors",get:function(){var t=[];return this.parent&&(t.push(this.parent),t=t.concat(this.parent.ancestors)),t}},{key:"ancestorsAndSelf",get:function(){var t=this.ancestors;return t.unshift(this),t}},{key:"descendants",get:function(){var t=[];if(this.isParent)for(var e=0;e<this.children.length;e++)t.push(this.children[e]),t=t.concat(this.children[e].descendants);return t}},{key:"descendantsAndSelf",get:function(){var t=this.descendants;return t.unshift(this),t}},{key:"siblings",get:function(){var t=this;return this.parent?this.parent.children.filter(function(e){return e!==t}):[]}},{key:"nextSibling",get:function(){return this.parent&&this.parent.children[this.index+1]?this.parent.children[this.index+1]:null}},{key:"previousSibling",get:function(){return this.parent&&this.parent.children[this.index-1]?this.parent.children[this.index-1]:null}},{key:"siblingsAndSelf",get:function(){return this.parent?this.parent.children:[this]}}]),t}();e["default"]=v},function(t,e,g){"use strict";function n(t,e){return!e.isSelfOrDescendantOf(t)&&(!t.descendants.filter(function(t){return t.data.nested===!1&&t.tag===e.tag}).length&&e.allowed.hasOwnProperty(t.tag))}function A(t){var e=t.ancestorsAndSelf,g={};if(t.data.allow.length)return t.data.allow.reduce(function(t,e){return C.store.shortcodes[e]&&(t[e]=C.store.shortcodes[e]),t},{});var n=function(n){var A=C.store.shortcodes[n];return A.hidden?"continue":A.require.length&&A.require.indexOf(t.tag)===-1?"continue":A.nested===!1&&t.tag===A.tag?"continue":A.nested===!1&&e.filter(function(t){return t.tag===A.tag}).length?"continue":void(g[A.tag]=A)};for(var A in C.store.shortcodes){n(A)}return g}Object.defineProperty(e,"__esModule",{value:!0}),e.isAllowed=n,e.allowedShortcodes=A;var C=g(16)},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=g(12),o=n(I),r=function(){function t(e,g,n,A,I){var o=this;(0,C["default"])(this,t),this.store=e,this.$iframe=g,this.$timeout=I,n.addEventListener("resize",function(){return o.updateOffsets()}),n.addEventListener("scroll",function(){return o.updateOffsets()}),this.updateOffsets(!0,0)}return t.$inject=["store","$iframe","$window","$document","$timeout"],(0,o["default"])(t,[{key:"add",value:function(t,e){var g=angular.extend({name:t,element:e.shortcode.$element,shortcode:e.shortcode,target:e.target||"center"===t?e.shortcode:e.shortcode.parent,droppable:!0,addable:!0,active:!0},e);g.offsets=g.element.outerOffset(),this.store.targets.push(g)}},{key:"enable",value:function(t){var e=this;if(angular.isArray(t))return t.forEach(function(t){return e.enable(t)});for(var g=0;g<this.store.targets.length;g++)this.store.targets[g].target===t&&(this.store.targets[g].active=!0)}},{key:"disable",value:function(t){var e=this;if(angular.isArray(t))return t.forEach(function(t){return e.disable(t)});for(var g=0;g<this.store.targets.length;g++)this.store.targets[g].target===t&&(this.store.targets[g].active=!1);
}},{key:"remove",value:function(t){var e=t.descendantsAndSelf;this.store.targets=this.store.targets.reduce(function(t,g){return e.indexOf(g.shortcode)<0&&t.push(g),t},[])}},{key:"removeElement",value:function(t){this.store.targets=this.store.targets.reduce(function(e,g){return g.element.get(0)!==t&&e.push(g),e},[])}},{key:"enableElement",value:function(t){for(var e=this,g=0;g<this.store.targets.length;g++)this.store.targets[g].element.get(0)===t&&(this.store.targets[g].active=!0,this.store.targets[g].shortcode.descendants.forEach(function(t){t.$element&&e.enableElement(t.$element.get(0))}))}},{key:"disableElement",value:function(t){for(var e=this,g=0;g<this.store.targets.length;g++)this.store.targets[g].element.get(0)===t&&(this.store.targets[g].active=!1,this.store.targets[g].shortcode.descendants.forEach(function(t){t.$element&&e.disableElement(t.$element.get(0))}))}},{key:"find",value:function(t,e){for(var g=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,A=[],C=!!this.store.isDragging,I=0;I<this.store.targets.length;I++){var o=this.store.targets[I],r=o.element[0].ownerDocument.defaultView,i=t,s=e,a=void 0,l=void 0,c=void 0,u=void 0,d=void 0;if(o.active&&("center"!==o.name||o.shortcode.isEmpty)&&(!C||o.droppable)&&(C||o.addable)&&(C||r.frameElement))if(r){switch(r.frameElement&&angular.isDefined(this.frameOffsets)&&(i-=this.frameOffsets.left,s-=this.frameOffsets.top),o.name){case"top":d=o.shortcode.index,c=o.offsets.left+o.offsets.width/2,u=o.offsets.top,a=g?c:i,l=u;break;case"right":d=o.shortcode.index+1,c=o.offsets.right,u=o.offsets.top+o.offsets.height/2,a=o.offsets.right,l=g?u:s;break;case"bottom":d=o.shortcode.index+1,c=o.offsets.left+o.offsets.width/2,u=o.offsets.bottom,a=g?c:i,l=u;break;case"left":d=o.shortcode.index,c=o.offsets.left,u=o.offsets.top+o.offsets.height/2,a=c,l=g?u:s;break;case"center":d=0,c=c=o.offsets.left+o.offsets.width/2,u=u=o.offsets.top+o.offsets.height/2}var p={fromSide:Math.sqrt(Math.pow(Math.abs(a-i),2)+Math.pow(Math.abs(l-s),2)),fromCenter:Math.sqrt(Math.pow(Math.abs(c-i),2)+Math.pow(Math.abs(u-s),2))},h=o.shortcode.isEmpty,f=h?0:n,m=this.isInside(o,i,s,f),v=this.isInside(o,i,s),b=h?m:p.fromSide<f;m&&b&&A.push({target:o.target||("center"!==o.name?o.shortcode.parent:o.shortcode),insideLimit:m,insideElement:v,element:o.element,shortcode:o.shortcode,name:o.name,distance:p,index:d})}else this.removeElement(o.element.get(0))}return _.chain(A).sortBy(function(t){return-t.target.ancestors.length}).sortBy(function(t){return t.distance.fromCenter}).value()}},{key:"isInside",value:function(t,e,g){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,A={x:n,y:n},C=Math.min(t.offsets.left-A.x,t.offsets.right+A.x),I=Math.max(t.offsets.left-A.x,t.offsets.right+A.x),o=Math.min(t.offsets.top-A.y,t.offsets.bottom+A.y),r=Math.max(t.offsets.top-A.y,t.offsets.bottom+A.y);return C<=e&&e<=I&&o<=g&&g<=r}},{key:"updateOffsets",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;this.$timeout.cancel(this.store.__updateTargets),this.store.__updateTargets=this.$timeout(function(){t.frameOffsets=t.$iframe().get(0).getBoundingClientRect();for(var g=0;g<t.store.targets.length;g++){var n=t.store.targets[g];(e||n.active&&n.element[0].ownerDocument.defaultView===window)&&("center"===n.name&&n.shortcode.isEmpty&&n.shortcode.$content&&n.element[0].ownerDocument.defaultView.frameElement?n.offsets=n.shortcode.$content.outerOffset({includeMargins:!0}):n.element?n.offsets=n.element.outerOffset({includeMargins:!0}):t.store.remove(n.shortcode))}delete t.store.__updateTargets},g,!1)}}]),t}();e["default"]=r},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=["store","$document","$window","$iframe",function o(t,e,g,n){(0,C["default"])(this,o),this.arrayPrefix=function(t,e){return t.reduce(function(t,g){return t.push(""+e+g),t},[])},this.isIframe=function(){return!!g.frameElement},this.getGlobalCoordinates=function(t,e,g){if(t.frameElement){var n=t.frameElement.getBoundingClientRect();e+=n.left,g+=n.top}return{x:e,y:g}},this.camelCase=function(t,e){return t=e?t.charAt(0).toUpperCase()+t.slice(1):t,jQuery.camelCase(t.replace(/\_|\:/g,"-",!0))},this.kebabCase=function(t){return t.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,function(t){return t.toLowerCase()})},this.elementFromPoint=function(t,e){var A=g.parent||g,C=A.document,I=n().get(0).contentWindow,o=n().get(0).contentDocument,r=t,i=e,s=n().get(0).getBoundingClientRect(),a=t-s.left,l=e-s.top,c=A.angular.element(C.elementFromPoint(r,i)),u=I.angular.element(o.elementFromPoint(a,l));return u.length?u:c},this.shortcodeFromPoint=function(e,g){return this.elementFromPoint(e,g).shortcode()||t.postContent}}];e["default"]=I},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=["$angular","$window",function o(t,e){return(0,C["default"])(this,o),function(){return t.element((e.parent.document||document).getElementsByTagName("iframe")[0])}}];e["default"]=I},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(7),C=n(A),I=g(55),o=n(I);C["default"].controller("ShortcodeController",o["default"])},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=g(12),o=n(I),r=function(){function t(e,g,n,A,I,o,r,i,s,a){var l=this;(0,C["default"])(this,t),this.app=e,this.store=g,this.shortcode=n,this.targets=A,this.$scope=o;var c=!!n.data.draggable&&I(n);n.data.addableSpots.map(function(t){A.add(t,{shortcode:n})}),r.find("img").attr("draggable","false"),r.on("click",function(t){t.stopPropagation(),t.preventDefault(),g.isDragging||(e.configureShortcode(n),e.apply())}),this.onOptionsChanged(n.options,null,!0),o.$watchCollection(function(){return n.options},function(t,g){t!==g&&(l.app.trigger(a.CHANGED,{shortcode:n,options:t,oldOptions:g}),l.onOptionsChanged(t,g)),e.states.selectedShortcode===n&&l.app("tools").fixPositions()}),angular.isDefined(n.content)&&!function(){var t=!1;o.$watch(function(){return n.content},function(g,A){g!==A&&(s.cancel(t),t=s(function(){e.trigger("shortcode-content-change",n)},0,!1))})}(),o.$watch(function(){return e.states.selectedShortcode},function(t){r.toggleClass("uxb-selected",t===n)}),e.states.selectedShortcode&&e.states.selectedShortcode.$id===n.$id&&e.selectShortcode(n),n.$$new&&s(function(){return e.trigger(a.ATTACHED,n)},0,!1),n.$$new=!1,n.$$moved=!1,o.$on("$destroy",function(){A.remove(n),r.off("click"),c&&c.element&&c.destroy()})}return t.$inject=["app","store","shortcode","targets","draggable","$scope","$element","$iframe","$timeout","ShortcodeEvent"],(0,o["default"])(t,[{key:"onOptionsChanged",value:function(t,e,g){var n=!1;for(var A in t)if("$"!==A.charAt(0)){var C=this.shortcode.data.options.named[A],I=e?e[A]:"",o=null===t[A]&&I===C["default"];if(g||!o&&t[A]!==I)if(C.onChange){var r=C.apply(this.shortcode.$element,t[A],I);n=n||!r}else n=!0}!this.shortcode.$noRecompile&&!this.shortcode.data.template&&n&&e&&e!==t&&this.$scope.$$recompile()}}]),t}();e["default"]=r},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function A(t){var e=g(57);angular.forEach(e.keys(),function(g){t.put(g.replace("./",""),e(g))})}A.$inject=["$templateCache"];var C=g(7),I=n(C);I["default"].run(A)},function(t,e,g){function n(t){return g(A(t))}function A(t){return C[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var C={"./components/add-shortcode/add-shortcode.html":58,"./components/app-actions/app-actions.html":59,"./components/app-sidebar/app-sidebar.html":60,"./components/app-tools/app-move-tool/app-move-tool.template.html":61,"./components/app-tools/app-resize-tool/app-resize-tool.template.html":62,"./components/app-tools/app-tools.html":63,"./components/context-menu/context-menu.template.html":64,"./components/shortcode-hierarchy-list-item/shortcode-hierarchy-list-item.html":65,"./components/ux-option/types/checkbox.html":66,"./components/ux-option/types/col-slider.html":67,"./components/ux-option/types/colorpicker.html":68,"./components/ux-option/types/gallery.html":69,"./components/ux-option/types/group.html":70,"./components/ux-option/types/image.html":71,"./components/ux-option/types/margins.html":72,"./components/ux-option/types/radio-buttons.html":73,"./components/ux-option/types/radio-images.html":74,"./components/ux-option/types/scrubfield.html":75,"./components/ux-option/types/select.html":76,"./components/ux-option/types/slider.html":77,"./components/ux-option/types/text-editor.html":78,"./components/ux-option/types/textfield.html":79,"./components/ux-option/types/title.html":80,"./components/ux-option/types/urlfield.html":81,"./routes/home/home.html":82,"./routes/settings/settings.html":83,"./routes/shortcode/shortcode.html":84,"./shortcodes/_loading.html":85};n.keys=function(){return Object.keys(C)},n.resolve=A,t.exports=n,n.id=57},function(t,e){t.exports='<div class="add-shortcode-selector">\n  <div class="add-shortcode-header">\n    <h2 class="title">Add Content</h2>\n    <nav class="add-shortcode-types">\n      <button type="button"\n        ng-click="$ctrl.showType(\'shortcodes\')"\n        ng-class="{ active: $ctrl.type === \'shortcodes\' }">\n        Elements\n      </button>\n      <!-- <button type="button"\n        ng-click="$ctrl.showType(\'components\')"\n        ng-class="{ active: $ctrl.type === \'components\' }">\n        Templates\n      </button>\n      <button type="button"\n        ng-click="$ctrl.showType(\'blocks\')"\n        ng-class="{ active: $ctrl.type === \'blocks\' }">\n        Blocks\n      </button> -->\n    </nav>\n  </div>\n\n  <!--<nav class="add-shortcode-categories">\n  <button type="button"\n  ng-click="$ctrl.showCategory()"\n  ng-class="{ active: !$ctrl.category }">\n  All\n  </button>\n  <button type="button"\n  ng-repeat="category in $ctrl.categories"\n  ng-class="{ active: $ctrl.category === category }"\n  ng-click="$ctrl.showCategory(category)">\n  {{:: category }}\n  </button>\n  </nav> -->\n\n  <div class="add-shortcode-items">\n    <input class="filter-elements" type="text" placeholder="Search&hellip;" ng-model="$ctrl.filter.name">\n\n    <div class="add-shortcode-category"\n      ng-repeat="category in $ctrl.items"\n      ng-show="items.length">\n      <h3>{{:: category.name }}</h3>\n      <ul>\n        <li ng-repeat="item in items = (category.items | filter: $ctrl.filter)">\n          <button type="button" ng-click="$ctrl.add(item, 0)">\n            <img ng-if="item.thumbnail" ng-src="{{:: item.thumbnail }}" alt="{{:: item.name }}"/>\n            <span class="title">{{:: item.name }}</span>\n          </button>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n\n<div class="add-shortcode-presets">\n  <h3>Presets</h3>\n  <ul>\n    <li ng-class="{ active : $ctrl.currentPreset === $index }"\n      ng-repeat="preset in $ctrl.presets track by preset.name">\n      <button type="button"\n        title="{{:: preset.name }}"\n        ng-class="{ \'with-thumbnail\' : !!preset.thumbnail }"\n        ng-click="$ctrl.usePreset(preset.content); $ctrl.currentPreset = $index">\n        <img ng-if="preset.thumbnail" ng-src="{{:: preset.thumbnail }}" alt="{{:: preset.name }}">\n        <span class="title">{{:: preset.name }}</span>\n      </button>\n    </li>\n  </ul>\n  <button\n    type="button"\n    class="wp-style alt button-large button-block"\n    ng-click="$ctrl.stack.close()">\n    Apply\n  </button>\n</div>\n'},function(t,e){t.exports='<button type="button"\n    title="Undo"\n    class="blank has-tooltip"\n    ng-click="$ctrl.undo()">\n    <span class="dashicons dashicons-arrow-left-alt2"></span>\n    <div class="uxb-tooltip">Undo (Coming soon)</div>\n</button>\n\n<button type="button"\n    title="Redo"\n    class="blank has-tooltip"\n    ng-click="$ctrl.redo()">\n    <span class="dashicons dashicons-arrow-right-alt2"></span>\n    <div class="uxb-tooltip">Redo (Coming soon)</div>\n</button>\n\n<hr>\n\n<button type="button"\n    class="blank has-tooltip"\n    title="{{:: breakpoint.title }}"\n    ng-click="$ctrl.setBreakpoint($index)"\n    ng-class="{ \'active\' : $ctrl.isActiveBreakpont($index) }"\n    ng-repeat="(name, breakpoint) in $ctrl.breakpoints.all track by breakpoint.width">\n    <span class="{{:: breakpoint.icon }}"></span>\n    <div class="uxb-tooltip">{{:: breakpoint.title }}</div>\n    <div class="has-breakpoint-values" ng-if="$ctrl.hasBreakpointValues($index)"></div>\n</button>\n\n<hr>\n\n<button type="button"\n    class="blank has-tooltip"\n    ng-click="$ctrl.zoomIn()">\n    <span class="dashicons dashicons-plus"></span>\n    <div class="uxb-tooltip">Zoom In (Coming soon)</div>\n</button>\n\n<button type="button"\n    class="blank has-tooltip"\n    ng-click="$ctrl.zoomOut()">\n    <span class="dashicons dashicons-minus"></span>\n    <div class="uxb-tooltip">Zoom Out (Coming soon)</div>\n</button>\n\n<hr>\n\n<button type="button"\n    class="blank has-tooltip"\n    title="{{:: action.tooltip }}"\n    ng-click="$ctrl.doAction(action)"\n    ng-repeat="action in $ctrl.actions">\n    <span class="{{:: action.icon }}"></span>\n    <div class="uxb-tooltip">{{:: action.tooltip }}</div>\n</button>\n\n<hr>\n<!--\n<button class="blank active">EN</button>\n<button class="blank">DK</button>\n<button class="blank">FI</button> -->\n'},function(t,e){t.exports='<app-sidebar-main class="animate-{{ $ctrl.routeAnimation }}">\n\n  <div class="title-row sidebar-top">\n  \t<div class="title-row-icon">\n\t  \t<button type="button"\n        title="Exit Builder"\n        class="blank" ng-click="$ctrl.app.exit()"\n        ng-disabled="$ctrl.store.permissions.exit === false">\n\t   \t \t<span class="dashicons dashicons-no-alt"></span>\n\t\t  </button>\n  \t</div>\n  \t<div class="title-row-title">\n      {{ $ctrl.store.post.attributes.values.post_title }}\n    </div>\n  \t<div class="title-row-actions">\n  \t\t<button type="button" class="blank" ng-click="$ctrl.app.goto(\'/settings\')">\n\t      <span class="dashicons dashicons-admin-generic"></span>\n\t    </button>\n  \t</div>\n  </div><!-- Sidbar top -->\n\n  <div ui-view></div>\n\n</app-sidebar-main>\n'},function(t,e){t.exports='<div class="uxb-move">\n  <div class="uxb-move-handle"\n    ng-if="$ctrl.shortcode"\n    ng-class="$ctrl.classNames($ctrl.shortcode)"\n    draggable-shortcode="$ctrl.shortcode">\n    <span class="uxb-move-icon dashicons dashicons-move"></span>\n  </div>\n</div>\n'},function(t,e){t.exports='<div class="uxb-resize uxb-resize-top"></div>\n<div class="uxb-resize uxb-resize-right"></div>\n<div class="uxb-resize uxb-resize-bottom"></div>\n<div class="uxb-resize uxb-resize-left"></div>\n'},function(t,e){t.exports='<app-outline-tool class="auto-size" shortcode="$ctrl.outlined"></app-outline-tool>\n<app-resize-tool class="auto-size" shortcode="$ctrl.outlined"></app-resize-tool>\n<app-move-tool class="auto-size" shortcode="$ctrl.outlined"></app-move-tool>\n<app-select-tool class="auto-size" shortcode="$ctrl.selected"></app-select-tool>\n<add-buttons></add-buttons>\n\n<div class="tools-addable">\n  <div class="line"></div>\n  <add-button\n    class="button"\n    index="$ctrl.index"\n    shortcode="$ctrl.addable">\n  </add-button>\n</div>\n'},function(t,e){t.exports='<div class="context-menu-menu" ng-click="$ctrl.hide()">\n  <shortcode-actions shortcode="$ctrl.shortcode"></shortcode-actions>\n</div>\n'},function(t,e){t.exports='<div class="hierarchy-title" ng-class="{ \'active\' : $ctrl.isActive() }">\n\n    <button type="button" class="hierarchy-toggle"\n        ng-if="$ctrl.shortcode.children"\n        ng-click="$ctrl.toggleChildren()">\n    </button>\n\n    <div class="hierarchy-name"\n        ng-click="$ctrl.selectShortcode()"\n        ng-mouseover="$ctrl.outlineShortcode()"\n        ng-dblclick="$ctrl.configureShortcode()">\n\n        {{:: $ctrl.shortcode.data.name }}\n\n        <span class="hierarchy-info" ng-bind="$ctrl.getShortcodeInfo()"></span>\n    </div>\n\n    <div class="hierarchy-tools">\n      <button type="button blank" ng-click="$ctrl.showContextMenu($event)">\n        <span class="dashicons dashicons-admin-generic"></span>\n      </button>\n    </div>\n</div>\n\n<shortcode-hierarchy-list\n  ng-if="$ctrl.shortcode.states.open"\n  ng-class="{ \'open\': $ctrl.shortcode.states.open }"\n  shortcode="$ctrl.shortcode">\n</shortcode-hierarchy-list>\n'},function(t,e){t.exports='<label>\n  <input type="checkbox"\n    ng-model="$ctrl.model"\n    ng-true-value="\'true\'"\n    ng-false-value="\'0\'">\n  <span></span>\n</label>\n'},function(t,e){t.exports='<div class="col-slider-wrap col-slider-cols-{{ $ctrl.model }}">\n\n\t<table class="col-slider-table">\n\t\t<tbody>\n\t\t\t<tr>\n\t\t\t\t<td ng-repeat="n in _.range($ctrl.option.min, $ctrl.option.max + 1) track by $index">{{:: n }}</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n\n\t<input type="range"\n\t\tclass="col-slider-input"\n    min="{{:: $ctrl.option.min }}"\n    max="{{:: $ctrl.option.max }}"\n    ng-model="$ctrl.model">\n</div>\n'},function(t,e){t.exports='<ux-option-colorpicker\n  option="$ctrl.option"\n  model="$ctrl.model"\n></ux-option-colorpicker>\n\n<div ng-if="$ctrl.option.helpers" class="option-helpers option-helpers-colors">\n  <a href="javascript:"\n    title="Remove"\n    ng-click="$ctrl.model = null">\n    <span class="dashicons dashicons-no-alt"></span>\n  </a>\n  <a href="javascript:"\n    title="{{:: value.title }}"\n    style="background-color: {{:: value.value }}"\n    ng-repeat="(key, value) in $ctrl.option.helpers"\n    ng-click="$ctrl.model = value.value">\n  </a>\n</div>\n'},function(t,e){t.exports='<ux-option-gallery\n  option="$ctrl.option"\n  model="$ctrl.model"\n></ux-option-gallery>\n'},function(t,e){t.exports='<ux-option-group\n  option="$ctrl.option"\n  shortcode="$ctrl.shortcode"\n  responsive="$ctrl.$optionsCtrl.responsive"\n  model="$ctrl.$optionsCtrl.model"\n></ux-option-group>\n'},function(t,e){t.exports='<ux-option-image\n  option="$ctrl.option"\n  model="$ctrl.model"\n></ux-option-image>\n'},function(t,e){t.exports='<ux-option-margins\n  option="$ctrl.option"\n  model="$ctrl.model"\n></ux-option-margins>\n'},function(t,e){t.exports='<div class="option-button-group">\n\t<label ng-repeat="(value, data) in $ctrl.option.options"\n\t    ng-class="{ \'active\' : $ctrl.model === value }">\n\t    <input type="radio" value="{{:: value }}" ng-model="$ctrl.model"/>\n\t    <button type="button blank" title="{{:: data.title }}">\n\t    \t<span ng-if="data.icon" class="dashicons {{:: data.icon }}"></span>\n\t    \t<span ng-if="!data.icon"> {{:: data.title }}</span>\n\t    </button>\n\t</label>\n</div>\n'},function(t,e){t.exports='<label ng-repeat="(key, value) in $ctrl.option.options"\n    ng-class="{ \'active\' : $ctrl.model === key }">\n    <input type="radio" value="{{:: key }}" ng-model="$ctrl.model">\n    <img src="{{:: value.image }}" alt="{{:: value.title }}" title="{{:: value.title }}">\n</label>\n'},function(t,e){t.exports='<input type="text"\n  class="scrubfield"\n\tscrubfield="$ctrl.option"\n\tng-model="$ctrl.model"\n\tplaceholder="{{:: $ctrl.option.default }}"\n\tng-model-options="{\n        \'updateOn\': \'blur default\',\n        \'debounce\': {\n            \'blur\' : 0,\n            \'default\': 10\n        }\n    }">\n<div ng-if="$ctrl.option.helpers" class="option-helpers">\n\t<a \tng-repeat="(key, value) in $ctrl.option.helpers" href="javascript:"\n\t\tng-click="$ctrl.model = value.value">\n\t\t{{:: value.title }}\n\t</a>\n</div>\n'},function(t,e){t.exports='<ux-option-select\n  option="$ctrl.option"\n  value="$ctrl.model"\n></ux-option-select>\n'},function(t,e){t.exports='<div class="slider-wrap">\n\n  <input type="range"\n    ng-attr-min="{{:: $ctrl.option.min }}"\n    ng-attr-max="{{:: $ctrl.option.max }}"\n    ng-attr-step="{{:: $ctrl.option.step }}"\n    ng-attr-value="{{:: $ctrl.model }}"\n    ng-model="$ctrl.model">\n\n  <input type="number" to-number\n    ng-attr-min="{{:: $ctrl.option.min }}"\n    ng-attr-max="{{:: $ctrl.option.max }}"\n    ng-model="$ctrl.model">\n\n  <span class="slider-unit">{{:: $ctrl.option.unit }}</span>\n\n</div>\n'},function(t,e){t.exports='<div class="option-text-editor">\n  <button type="button" class="open-editor wp-style alt"\n    ng-click="$ctrl.app(\'stack\').openTextEditor($ctrl.app.states.selectedShortcode)">\n    Open Text Editor\n  </button>\n  <textarea class="raw-text"\n    ng-model="$ctrl.app.states.selectedShortcode.content">\n  </textarea>\n</div>\n'},function(t,e){t.exports='  <input type="text"\n    placeholder="{{::$ctrl.option.placeholder }}"\n    ng-model="$ctrl.model"\n    ng-model-options="{\n        updateOn: \'blur default\',\n        debounce: {\n            blur : 0,\n            default: 10\n        }\n    }">\n'},function(t,e){t.exports="{{:: $ctrl.option.heading }}\n"},function(t,e){t.exports='<ux-option-urlfield option="$ctrl.option"></ux-option-urlfield>\n'},function(t,e){t.exports='<app-sidebar-view class="home-view">\n\n  <view-header>\n\n  </view-header>\n\n  <view-body>\n    <shortcode-hierarchy-list shortcode="$ctrl.store.postContent"></shortcode-hierarchy-list>\n  </view-body>\n\n  <view-footer>\n    <button id="app-save-button" type="button"\n      class="wp-style alt button-large button-block"\n      ng-class="{ \'loading\': $ctrl.store.isSaving }"\n      ng-disabled="$ctrl.store.permissions.save === false"\n      ng-click="$ctrl.save()">\n      {{ $ctrl.saveButtonText }}\n    </button>\n    <button id="app-save-button" type="button"\n      class="wp-style button-large button-block button-exit animate-fade-in-right"\n      ng-disabled="$ctrl.store.permissions.exit === false"\n      ng-if="$ctrl.store.isSaved"\n      ng-click="$ctrl.app.exit()">\n      &times;\n    </button>\n  </view-footer>\n\n</app-sidebar-view>\n'},function(t,e){t.exports='<app-sidebar-view class="settings-view">\n\n  <view-header>\n    <div class="title-row">\n      <div class="title-row-icon">\n          <button class="button-reset view-header-title" type="button" ng-click="$ctrl.   exit()">\n               <span class="dashicons dashicons-arrow-left-alt2"></span>\n          </button>\n      </div>\n      <div class="title-row-title"> Post settings </div>\n    </div>\n  </view-header>\n\n  <view-body>\n    <ux-options\n      options="$ctrl.post.attributes.options.tree"\n      model="$ctrl.post.attributes.values">\n    </ux-options>\n    <ux-options\n      options="$ctrl.post.meta.options.tree"\n      model="$ctrl.post.meta.values">\n    </ux-options>\n    <div class="box">\n      <h3 class="box-title">Clear post content</h3>\n      <div class="box-content">\n        <button class="wp-style danger button-block" ng-click="$ctrl.clearContent()">Clear&hellip;</button>\n      </div>\n    </div>\n  </view-body>\n\n  <view-footer>\n    <button type="button" class="wp-style blank" ng-click="$ctrl.discard()">\n      <span class="dashicons dashicons-no-alt"></span>Discard\n    </button>\n    <button type="button" class="wp-style" ng-click="$ctrl.exit()">\n      <span class="dashicons dashicons-yes"></span>Apply\n    </button>\n  </view-footer>\n\n</app-sidebar-view>\n'},function(t,e){t.exports='<app-sidebar-view class="shortcode-view">\n\n  <view-header>\n    <div class="title-row">\n      <div class="title-row-icon">\n         <button class="button-reset view-header-title" type="button" ng-click="$ctrl.exit(\'/\')">\n             <span class="dashicons dashicons-arrow-left-alt2"></span>\n         </button>\n      </div>\n      <div class="title-row-title"> {{ $ctrl.shortcode.data.name }} </div>\n      <div class="title-row-actions"></div>\n    </div>\n  </view-header>\n\n  <view-body>\n    <ux-options\n      options="$ctrl.options"\n      shortcode="$ctrl.shortcode"\n      responsive="$ctrl.responsiveValues"\n      model="$ctrl.shortcode.options">\n    </ux-options>\n  </view-body>\n\n  <view-footer>\n    <button type="button" class="wp-style outline" ng-click="$ctrl.discard()">\n      Discard\n    </button>\n    <button type="button" class="wp-style" ng-click="$ctrl.exit()">\n      Apply\n    </button>\n  </view-footer>\n\n</app-sidebar-view>\n'},function(t,e){t.exports='<div class="uxb-template-loading">Loading&hellip;</div>\n'},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(11),C=n(A),I=g(12),o=n(I),r=g(7),i=n(r),s=function(){function t(e,g,n){(0,C["default"])(this,t),this.app=e,this.$scope=g,n.toggleClass("with-label",!!this.label)}return t.$inject=["app","$scope","$element"],(0,o["default"])(t,[{key:"addShortcode",value:function(){this.app.outlineShortcode(null),this.app.selectShortcode(null),this.app.configureShortcode(null),this.app("stack").open('\n      <add-shortcode\n        shortcode="$ctrl.shortcode"\n        index="$ctrl.index"\n      ></add-shortcode>\n    ',this.$scope)}}]),t}();i["default"].component("addButton",{controller:s,bindings:{shortcode:"<",label:"@",index:"<"},template:'\n    <button type="button" ng-click="$ctrl.addShortcode()">\n      <div class="wrapper">\n        <span class="icon">+</span>\n        <span class="label">{{:: $ctrl.label }}</span>\n      </div>\n    </button>\n  '})},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(7),C=n(A),I=g(88),o=n(I),r=g(62),i=n(r);C["default"].component("appResizeTool",{controller:o["default"],template:i["default"],bindings:{shortcode:"<"}})},function(t,e,g){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=g(12),o=n(I),r=g(89),i={top:{},right:{},bottom:{},left:{}},s=function(){function e(g,n,A,I,o,s){var a=this;(0,C["default"])(this,e),this.app=g,this.store=n,this.utils=A,this.$timeout=I,this.$element=s,this.shortcode=null;for(var l in i)i[l].$element=s.find(".uxb-resize-"+l),i[l].draggable=new t.HammerJS(i[l].$element.get(0),{edge:l}),i[l].draggable.get("pan").set({direction:(0,r.getPanDirection)(l)}),i[l].draggable.on("hammer.input",this.onHammerInput.bind(this)),i[l].draggable.on("panstart",this.onPanStart.bind(this)),i[l].draggable.on("pan",this.onPanMove.bind(this)),i[l].draggable.on("panend",this.onPanEnd.bind(this));o.$watch(function(){return g.states.outlinedShortcode},function(t){if(!a.app.states.resizingShortcode){if(!t)return s.removeClass("uxb-is-active");var e=(0,r.getShortcodeWithResize)(t),g=!!e&&e.data.resize!==!1;for(var n in i){var A=g&&angular.isArray(e.data.resize)&&e.data.resize.indexOf(n)>-1,C=g&&e.data.resize===!0;i[n].$element.toggleClass("uxb-is-active",A||C)}s.toggleClass("uxb-is-active",g),s.cover(g?e.$element:null),a.shortcode=e}}),o.$on(Event.CHANGE,function(){a.shortcode&&s.cover(a.shortcode.$element)})}return e.$inject=["app","store","utils","$timeout","$scope","$element"],(0,o["default"])(e,[{key:"onHammerInput",value:function(t){t.srcEvent.stopPropagation(),t.srcEvent.stopImmediatePropagation(),this.app.states.resizingShortcode=this.shortcode,this.store.isDragging=!0}},{key:"onPanStart",value:function(e){e.edge=(0,r.getEdgeName)(i,e.target),angular.element("body").addClass("uxb-is-resizing-"+e.edge),(0,r.runResizeHandler)(this.app.states.resizingShortcode,"onResize"+t.capitalize(e.edge)+"Start",e),(0,r.runResizeHandler)(this.app.states.resizingShortcode,"onResizeStart",e),this.app.outlineShortcode(null),this.app("tools").hideAddableSpot(),this.app("tools").apply(),this.app.states.resizingShortcode.$scope.$digest()}},{key:"onPanMove",value:function(e){e.edge=(0,r.getEdgeName)(i,e.target),(0,r.runResizeHandler)(this.app.states.resizingShortcode,"onResize"+t.capitalize(e.edge)+"Move",e),(0,r.runResizeHandler)(this.app.states.resizingShortcode,"onResizeMove",e),this.app("tools").apply(),this.app.states.resizingShortcode.$scope.$digest(),this.$element.cover(this.app.states.resizingShortcode.$element)}},{key:"onPanEnd",value:function(e){var g=this;e.edge=(0,r.getEdgeName)(i,e.target),angular.element("body").removeClass("uxb-is-resizing-"+e.edge),(0,r.runResizeHandler)(this.app.states.resizingShortcode,"onResize"+t.capitalize(e.edge)+"End",e),(0,r.runResizeHandler)(this.app.states.resizingShortcode,"onResizeEnd",e),this.$timeout(function(){g.app.states.resizingShortcode=null,g.store.isDragging=!1},0)}}]),e}();e["default"]=s}).call(e,function(){return this}())},function(t,e){(function(t){"use strict";function g(t){for(var e=t.ancestorsAndSelf,g=0;g<e.length;g++)if(e[g].data.resize)return e[g];return null}function n(t,e,g){angular.isDefined(t.$scope.$customCtrl)&&angular.isFunction(t.$scope.$customCtrl[e])&&t.$scope.$customCtrl[e](g)}function A(e){var g=t.HammerJS.DIRECTION_ALL;switch(e){case"top":g=t.HammerJS.DIRECTION_VERTICAL;break;case"right":g=t.HammerJS.DIRECTION_HORIZONTAL;break;case"bottom":g=t.HammerJS.DIRECTION_VERTICAL;break;case"left":g=t.HammerJS.DIRECTION_HORIZONTAL}return g}function C(t,e){for(var g in t)if(t[g].$element.get(0)===e)return g;return null}Object.defineProperty(e,"__esModule",{value:!0}),e.getShortcodeWithResize=g,e.runResizeHandler=n,e.getPanDirection=A,e.getEdgeName=C}).call(e,function(){return this}())},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(7),C=n(A),I=g(91),o=n(I),r=g(61),i=n(r);C["default"].component("appMoveTool",{controller:o["default"],template:i["default"],bindings:{shortcode:"<"}})},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=g(12),o=n(I),r=g(92),i=function(){function t(e,g,n,A,I,o){var i=this;(0,C["default"])(this,t),this.app=e,this.store=g,this.utils=n,this.$timeout=A,this.$element=o,this.shortcode=null,I.$watch(function(){return e.states.outlinedShortcode},function(t){if(!t)return o.removeClass("uxb-is-active");var e=(0,r.getShortcodeWithMove)(t),g=!!e&&e.data.move!==!1;o.toggleClass("uxb-is-active",g),o.cover(g?e.$element:null),i.shortcode=e}),I.$on(Event.CHANGE,function(){i.shortcode&&o.cover(i.shortcode.$element)})}return t.$inject=["app","store","utils","$timeout","$scope","$element"],(0,o["default"])(t,[{key:"classNames",value:function(t){return this.utils.arrayPrefix(angular.isArray(t.data.move)?t.data.move:[t.data.move],"uxb-is-")}}]),t}();e["default"]=i},function(t,e){"use strict";function g(t){for(var e=t.ancestorsAndSelf,g=0;g<e.length;g++)if(e[g].data.move)return e[g];return null}Object.defineProperty(e,"__esModule",{value:!0}),e.getShortcodeWithMove=g},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(11),C=n(A),I=g(12),o=n(I),r=g(7),i=n(r),s=function(){function t(e,g,n,A){var I=this;(0,C["default"])(this,t),this.buttons=[],this.shortcode=null,g.$watch(function(){return e.states.outlinedShortcode},function(t){return t?(I.shortcode=I.getShortcodeWithButtons(t),n.toggleClass("active",!!I.shortcode),void n.cover(I.shortcode?I.shortcode.$element:null)):n.removeClass("active")}),g.$on(A.CHANGE,function(){I.shortcode&&n.cover(I.shortcode.$element)})}return t.$inject=["app","$scope","$element","Event"],(0,o["default"])(t,[{key:"getShortcodeWithButtons",value:function(t){for(var e=t.ancestorsAndSelf,g=0;g<e.length;g++)if(e[g].data.addButtons)return e[g];return null}},{key:"getIndex",value:function(t){var e=0;return"right-center"!==t&&"bottom-right"!==t&&"bottom-center"!==t&&"bottom-left"!==t||(e=this.shortcode.children.length),e}}]),t}();i["default"].component("addButtons",{controller:s,template:'\n    <div class="add-buttons">\n      <add-button\n        class="{{:: button }}"\n        shortcode="$ctrl.shortcode"\n        index="$ctrl.getIndex(button)"\n        data-tooltip="{{:: $ctrl.shortcode.data.message }}"\n        ng-repeat="button in $ctrl.shortcode.data.addButtons">\n      </add-button>\n    </div>\n  '
})},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(7),C=n(A),I=g(95),o=n(I);C["default"].component("appTools",{controller:o["default"],template:g(63)})},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=["app","store","$scope","$element","$window","$compile","$angular","$timeout","$iframe","utils","Event","AppEvent","DragEvent","IframeEvent","ShortcodeEvent",function o(t,e,g,n,A,I,r,i,s,a,l,c,u,d,p){(0,C["default"])(this,o);var h=this,f={},m=r.element("app").find(".tools-addable"),v=n.find(".tools-addable");h.target=null,h.$targetElement=null,h.addable=null,t.register("tools",h),_.each(e.tools,function(t,e){var A=snakeCase(e,"-"),C="<"+A+' shortcode="shortcode"></'+A+">";I(C)(g,function(e,g){i(function(){t.$element=e,t.$ctrl=g.$$childHead.$ctrl,n.append(e)},0,!1)})}),s().on(d.CHANGED,function(){A.requestAnimationFrame(h.fixPositions)}),s().on(d.RESIZE,function(){A.requestAnimationFrame(h.fixPositions)}),s().on(d.SCROLL,function(){}),g.$on(p.CHANGED,function(){return h.fixPositions()}),g.$on(p.DELETED,function(){return h.hide()}),g.$on(d.RELOAD,function(){return h.hide()}),g.$on(u.MOVE,function(e,g){g.defaultPrevented?(t.outlineShortcode(null),h.hideAddableSpot()):t.outlineShortcode(g.isWithin?g.target.parent():null)}),g.$on(u.END,function(){h.hideAddableSpot(),h.fixPositions()}),h.apply=function(){g.$digest()};var b=!1;h.fixPositions=function(){i.cancel(b),b=i(function(){for(var t in f)f[t].$tool.hasClass("active")&&f[t].$tool.cover(f[t].$element);h.$targetElement&&h.getAddableElement().cover(h.$targetElement),g.$broadcast(l.CHANGE)},0)},h.addTool=function(t,e,A){f.hasOwnProperty(t)&&h.removeTool(t),f[t]={},f[t].$element=A,f[t].$scope=g.$new(),f[t].$tool=I(e)(f[t].$scope),n.append(f[t].$tool)},h.getTool=function(t){var e=f[t],g={};return g.element=function(){return e.$element},g.scope=function(){return e.$scope.$$childHead},g.tool=function(){return e.$tool},g},h.showTool=function(t){f[t].$tool.addClass("active"),f[t].$tool.cover(f[t].$element)},h.hideTool=function(t){f[t].$tool.removeClass("active")},h.removeTool=function(t){f[t].$element=null,f[t].$scope.$destroy(),f[t].$tool.remove(),f[t].$tool=null,delete f[t]},h.hide=function(){h.hideAddableSpot()},h.getAddableElement=function(){return h.$targetElement&&h.$targetElement.get(0).ownerDocument.defaultView.frameElement?(m.removeClass("active"),v):(v.removeClass("active"),m)},h.showAddableSpot=function(e){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!e||t.states.freezed?h.hideAddableSpot():(h.toggleAddableButton(g),h.target=e,h.addable=e.target,h.index=e.index,h.$targetElement=h.target.shortcode.isEmpty&&h.target.element[0].ownerDocument.defaultView.frameElement&&"center"===h.target.name?h.target.shortcode.$content:h.target.element,h.getAddableElement().toggleClass("is-empty","center"===e.name),h.getAddableElement().toggleClass("is-left","left"===e.name),h.getAddableElement().toggleClass("is-right","right"===e.name),h.getAddableElement().toggleClass("is-top","top"===e.name),h.getAddableElement().toggleClass("is-bottom","bottom"===e.name),h.getAddableElement().toggleClass("is-deputy",h.target.element!==h.target.shortcode.$element),void h.getAddableElement().cover(h.$targetElement,{includeMargins:!0}).addClass("active"))},h.toggleAddableButton=function(t){h.getAddableElement().toggleClass("no-button",t===!1)},h.hideAddableSpot=function(){return h.getAddableElement().removeClass("active"),h.$targetElement=null,h.target=null,!1},h.addShortcode=function(){t("addables").open(h.addable,h.index),h.target=null,h.addable=null,h.index=null}}];e["default"]=I},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(11),C=n(A),I=g(7),o=n(I),r=["app","$scope","$element","Event",function i(t,e,g,n){(0,C["default"])(this,i);var A=g.find(".name");e.$watch(function(){return t.states.outlinedShortcode},function(t){return t?(A.text(t.data.name),g.toggleClass("active",t.$element.isVisible()),void g.cover(t.$element)):g.removeClass("active")}),e.$on(n.CHANGE,function(){t.states.outlinedShortcode&&g.cover(t.states.outlinedShortcode.$element)})}];r.$inject=["app","$scope","$element","Event"],o["default"].component("appOutlineTool",{controller:r,template:'\n    <div class="wrapper">\n      <h3 class="name"></h3>\n    </div>\n  '})},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(11),C=n(A),I=g(12),o=n(I),r=g(7),i=n(r),s=function(){function t(e,g,n,A,I){var o=this;(0,C["default"])(this,t),this.app=n,this.shortcode=null,e.$watch(function(){return n.states.selectedShortcode},function(t){return t?(o.shortcode=n.states.selectedShortcode,o.ancestors=n.states.selectedShortcode.ancestors.reverse(),o.ancestors.splice(0,1),void g.cover(t.$element).addClass("active")):g.removeClass("active")}),e.$on(I.CHANGE,function(){n.states.selectedShortcode&&g.cover(n.states.selectedShortcode.$element)})}return t.$inject=["$scope","$element","app","store","Event"],(0,o["default"])(t,[{key:"configureShortcode",value:function(t){this.app.configureShortcode(t)}},{key:"outlineShortcode",value:function(t){this.app.outlineShortcode(t)}},{key:"hideOutline",value:function(){this.app.outlineShortcode(null)}},{key:"showContextMenu",value:function(t){this.app("contextMenu").open(this.shortcode,t.currentTarget)}}]),t}();i["default"].component("appSelectTool",{controller:s,bindings:{shortcode:"<"},template:'\n    <div class="wrapper">\n      <div ng-if="$ctrl.ancestors.length > 0" class="ancestors">\n        <span class="dashicons dashicons-arrow-up-alt2"></span>\n        <ul>\n          <li ng-repeat="ancestor in $ctrl.ancestors">\n            <button type="button" class="name"\n              draggable-shortcode="ancestor"\n              ng-click="$ctrl.configureShortcode(ancestor); $event.stopPropagation();"\n              ng-mouseover="$ctrl.outlineShortcode(ancestor)"\n              ng-mouseout="$ctrl.hideOutline()">\n              {{:: ancestor.data.name }}\n            </button>\n          </li>\n        </ul>\n      </div>\n      <h3 class="name" draggable-shortcode="$ctrl.shortcode">\n        {{ $ctrl.shortcode.data.name }}\n      </h3>\n      <button class="options" ng-click="$ctrl.showContextMenu($event); $event.stopPropagation();">\n        <span class="dashicons dashicons-admin-generic"></span>\n      </button>\n    </div>\n  '})},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(7),C=n(A),I=g(99),o=n(I);C["default"].component("postWrapper",{controller:o["default"],template:"\n    <post-content></post-content>\n  "})},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function A(t){var e=t.offset(),g=t.height(),n=e.top+g;return n<C()||e.top>C()+window.innerHeight}function C(){return document.documentElement.scrollTop||document.body.scrollTop}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;angular.element("html, body").scrollToElement(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=g(11),r=n(o),i=["app","store","targets","contextmenu","utils","Shortcode","$scope","$element","$iframe","$compile","$window","$timeout","$log","AppEvent","Event","MediaEvent","IframeEvent",function s(t,e,g,n,C,o,i,a,l,c,u,d,p,h,f,m,v){(0,r["default"])(this,s),n.attach(document);var b=null,$=performance.now();e.postContent=o.create(e.post.content),p.debug("Element instances created in "+(performance.now()-$)+"ms"),angular.element("body").on("click",function(g){g.preventDefault(),e.isDragging||e.isScrolling||(t.configureShortcode(null),t.apply())}),angular.element("body").on("mousemove",function(n){e.isDragging||e.isScrolling||e.isReloading||u.requestAnimationFrame(function(){var e=C.getGlobalCoordinates(n.view,n.clientX,n.clientY),A=g.find(e.x,e.y),I=C.shortcodeFromPoint(e.x,e.y);t("tools").showAddableSpot(A.length?A[0]:null),I.isRoot||t.outlineShortcode(I),t("tools").apply()})}),angular.element("body").on("mouseleave",function(g){e.isDragging||e.isScrolling||e.isReloading||u.requestAnimationFrame(function(){t("tools").hideAddableSpot(),t.outlineShortcode(null),t("tools").apply()})}),angular.element(u).on("scroll",function(){l().trigger(v.SCROLL),e.isScrolling=!0,d.cancel(b),b=d(function(){return e.isScrolling=!1},200,!1)}),i.$on(m.CHANGED,function(){t.states.selectedShortcode?d(function(){return I(t.states.selectedShortcode.$element)},0,!1):A(a)&&d(function(){return I(a)},0,!1)}),angular.element(u).on(f.RESIZE,function(){l().trigger(v.RESIZE)}),new MutationObserver(function(t){e.initialized&&g.updateOffsets(!0),l().trigger(v.CHANGED,t)}).observe(document.querySelector("post-content"),{attributes:!0,childList:!0,subtree:!0,characterData:!1}),d(function(){A(a)&&I(a,0),e.initialized=!0,e.loading=!1,t.broadcast(h.READY)},0,!0)}];e["default"]=i},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(101),C=n(A),I=g(11),o=n(I),r=g(12),i=n(r),s=g(7),a=n(s),l=angular.element("body"),c=function(){function t(e,g,n,A,C,I,r,i,s,a,l){var c=this;(0,o["default"])(this,t),this.app=e,this.store=g,this.utils=A,this.responsiveHelper=s;var u=performance.now();this.store.postContent.$element=I,this.store.postContent.$scope=C,this.store.postContent.data.addableSpots.map(function(t){n.add(t,{shortcode:c.store.postContent,target:c.store.postContent})}),this.onPostOptionsChanged(g.post.attributes.values,{},g.post.attributes.options),C.$watchCollection(function(){return g.post.attributes.values},function(t,e){c.onPostOptionsChanged(t,e,g.post.attributes.options)}),this.onPostOptionsChanged(g.post.meta.values,{},g.post.meta.options),C.$watchCollection(function(){return g.post.meta.values},function(t,e){c.onPostOptionsChanged(t,e,g.post.meta.options)}),r(function(){i.debug("Elements compiled in "+(performance.now()-u)+"ms")},0,!1)}return t.$inject=["app","store","targets","utils","$scope","$element","$timeout","$log","ResponsiveHelper","IframeEvent","MediaEvent"],(0,i["default"])(t,[{key:"onPostOptionsChanged",value:function(t,e,g){for(var n in t)if(t[n]!==e[n]){var A=g.get(n);A.onChange&&A.apply(l,t[n],e[n])}}},{key:"showTemplates",value:function(){return this.store.postContent.isEmpty&&(0,C["default"])(this.store.templates).length}}]),t}();a["default"].component("postContent",{controller:c,template:'\n    <content content="_root [root]" shortcode="$ctrl.store.postContent"></content>\n    <template-selector ng-if="$ctrl.showTemplates()"></template-selector>\n  '})},function(t,e,g){t.exports={"default":g(102),__esModule:!0}},function(t,e,g){g(103),t.exports=g(109).Object.keys},function(t,e,g){var n=g(104);g(106)("keys",function(t){return function(e){return t(n(e))}})},function(t,e,g){var n=g(105);t.exports=function(t){return Object(n(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,g){var n=g(107),A=g(109),C=g(112);t.exports=function(t,e){var g=(A.Object||{})[t]||Object[t],I={};I[t]=e(g),n(n.S+n.F*C(function(){g(1)}),"Object",I)}},function(t,e,g){var n=g(108),A=g(109),C=g(110),I="prototype",o=function(t,e,g){var r,i,s,a=t&o.F,l=t&o.G,c=t&o.S,u=t&o.P,d=t&o.B,p=t&o.W,h=l?A:A[e]||(A[e]={}),f=l?n:c?n[e]:(n[e]||{})[I];l&&(g=e);for(r in g)i=!a&&f&&r in f,i&&r in h||(s=i?f[r]:g[r],h[r]=l&&"function"!=typeof f[r]?g[r]:d&&i?C(s,n):p&&f[r]==s?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[I]=t[I],e}(s):u&&"function"==typeof s?C(Function.call,s):s,u&&((h[I]||(h[I]={}))[r]=s))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,t.exports=o},function(t,e){var g=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=g)},function(t,e){var g=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=g)},function(t,e,g){var n=g(111);t.exports=function(t,e,g){if(n(t),void 0===e)return t;switch(g){case 1:return function(g){return t.call(e,g)};case 2:return function(g,n){return t.call(e,g,n)};case 3:return function(g,n,A){return t.call(e,g,n,A)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(7),C=n(A);C["default"].component("templateSelector",{controller:["app","store","iframe",function(t,e,g){this.store=e,this.setTemplate=function(n){e.loading=!0,jQuery.post(e.ajaxUrl,{action:"ux_builder_to_array",id:n}).done(function(A){var C=A.data,I=A.success;return I?(e.post.meta.values.hasOwnProperty("_wp_page_template")&&(e.post.meta.values._wp_page_template=e.templates[n].template||"default"),g.reload(C.content),void t.apply()):console.error("Failed to compile template "+n)})}}],template:'\n    <h2 class="uxb-templates-title">Insert a template <br/> <small> *Images are not included.</small></h2>\n    <ul class="uxb-templates-list">\n      <li class="uxb-template" ng-repeat="(id, template) in $ctrl.store.templates track by id">\n        <button type="button" class="uxb-template-button" ng-click="$ctrl.setTemplate(id)">\n          <img ng-attr-src="{{:: template.thumbnail }}">\n          <span class="">{{:: template.name }}</span>\n        </button>\n      </li>\n    </ul>\n  '})},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var A=g(7),C=n(A),I=g(115),o=n(I);C["default"].component("content",{controller:o["default"],transclude:"element",bindings:{shortcode:"<"}})},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var A=g(11),C=n(A),I=["app","store","utils","dependencies","$scope","$element","$compile","$q","$transclude","$injector","$templateCache","$animate","$timeout","$controller","$log","ShortcodeEvent","ChildEvent",function o(t,e,g,n,A,I,r,i,s,a,l,c,u,d,p,h,f){function m(t,e){var g=[],n=[];_.each(t,function(e,n){e.$element||(g.push(e),e.$scope=A.$new(),y(e),v(e).then(b),c.move(e.$element,null,0===n?I:t[n-1].$element))}),_.each(e,function(e,g){t.indexOf(e)>-1||(e.originalIndex=g,n.push(e))}),e&&e.length===t.length&&_.each(t,function(t,e){c.move(t.$element,null,0===e?I:D.shortcode.children[e-1].$element)}),_.each(n,function(t){return A.$parent.$broadcast(f.REMOVED,t)}),_.each(g,function(t){return A.$parent.$broadcast(f.ADDED,t)}),_.each(n,function(t){c.leave(t.$element),t.$scope.$destroy(),t.$element.data("shortcode",null),t.$element.remove(),t.$element=null,t.$content=null,t.$scope=null}),s(function(e,g){E||0!==t.length?D.shortcode.$content&&(E.$destroy(),c.leave(D.shortcode.$content),D.shortcode.$content.data("shortcode",null),D.shortcode.$content.remove(),D.shortcode.$content=null,E=null):(E=g,e.html('\n                        <div class="uxb-empty-message">\n                            '+D.shortcode.data.message+"\n                        </div>\n                    "),e.data("shortcode",D.shortcode),D.shortcode.$content=e,c.enter(D.shortcode.$content,I.parent(),I))})}function v(g){var n=i.defer(),A=!0,C=g.data.template||l.get(g.data.templateUrl||g.$id);return angular.isDefined(C)?(r(w(g,C))(g.$scope,function(t){t.data("shortcode",g),g.$element=t,n.resolve(g)}),n.promise):("undefined"==typeof g.$element&&(C=w(g,l.get("shortcodes/_loading.html"),!0),g.$element=r(C)(g.$scope),g.$element.data("shortcode",g),A=!1),jQuery.post(e.postUrl,{ux_builder_action:"do_shortcode",ux_builder_shortcode:g.copy(function(t,e){t.$id=e.$id,t.depth=e.ancestors.length,t.nested=_.filter(e.ancestors,function(t){return t.tag===e.tag}).length})}).done(function(e){g.$scope&&(g.$$new=!0,l.put(g.$id,e),C=w(g,e),r(C)(g.$scope,function(e){A&&t.trigger(h.DETACHED,g),g.children&&g.children.forEach(function(t){t.$element&&(t.$element.data("shortcode",null),t.$element.remove(),delete t.$element)}),e.data("shortcode",g),g.$element.replaceWith(e),g.$element=e,n.resolve(g)}))}),n.promise)}function b(t){var g={$scope:t.$scope,$element:t.$element,tools:e.tools?e.tools["custom"+capitalize(t.tag)+"Tools"]:null,shortcode:t};i.all([n.injectStyles(t.data.styles),n.injectScripts(t.data.scripts)])["finally"](function(){d("ShortcodeController as $ctrl",g),t.data.controller&&d(t.tag+"__controller as $customCtrl",g)})}function $(e){u.cancel(e.$recompile),e.$element.addClass("processing"),e.$recompile=u(function(){var g=[];if(l.remove(e.$id),e.isParent)for(var n=e.children.length-1;n>=0;n--)g.unshift(e.children[n].copy()),e.children[n].remove();v(e).then(function(e){var n=e.replaceWith(e.copy(function(t,e){t.$id=e.$id,e.isParent&&(t.children=g)}));n.$$new=!0,t.broadcast(h.RECOMPILED,n)}),p.debug("x recompiling",e.tag),delete e.$recompile},250,!1)}function y(t){var e=t.index,g=t.siblings;return t.$scope.shortcode=t,t.$scope.$index=e,t.$scope.$first=0===e,t.$scope.$last=e===g.length-1,t.$scope.$middle=!(t.$scope.$first||t.$scope.$last),t.$scope.$odd=!(t.$scope.$even=0===(1&e)),t.$scope.$$recompile=function(){return $(t)},t.$scope.$on("$destroy",function(){delete t.$scope.shortcode,delete t.$scope.$$recompile}),t}function w(t,e,g){if(e=e.replace("<content",'<content content="'+t.tag+" ["+t.$id+']" shortcode="shortcode"'),e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),e=e.replace(/<!--[\s\S]*?-->/g,""),t.data.wrap||g){var n=["uxb-wrapper"];t.data.inline&&n.push("uxb-wrapper-inline"),t.data.overlay&&(e+='<div class="uxb-overlay"></div>'),e='\n                  <div class="'+n.join(" ")+'">\n                    '+e+"\n                  </div>\n                "}return e}var x=this;(0,C["default"])(this,o);var E,D=this;A.$watchCollection(function(){return x.shortcode.children},m)}];e["default"]=I},function(t,e,g){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function A(t){var e=[],g=t.split(".");return _.each(g,function(t){e.push(jQuery.camelCase(t.replace(/\:/g,"-")))}),e.join(".")}Object.defineProperty(e,"__esModule",{value:!0}),e.data=void 0;var C=g(11),I=n(C),o=g(12),r=n(o),i=e.data=(window.frameElement?window.parent:window).uxBuilderData,s=function(){function t(e){(0,I["default"])(this,t),this.$parse=e}return t.$inject=["$parse"],(0,r["default"])(t,[{key:"storage",value:function(){return i}},{key:"set",value:function(t,e){return this.$parse(A(t)).assign(i,e)}},{key:"get",value:function(t,e){var g=this.$parse(A(t))(i);return!angular.isDefined(g)&&e?this.set(t,e):g}},{key:"unset",value:function(t){var e;return t.indexOf("*")?(e=t.split("*")[0],this.$parse(A(e)).assign(i,null)):this.$parse(A(t)).assign(i,null)}}]),t}();e["default"]=s}]);