(function(){var e,t,i,s,n,o={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var s in t)o.call(t,s)&&(e[s]=t[s]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};s=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,s,n,o,r;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),o=e.childNodes,r=[],s=0,n=o.length;n>s;s++)i=o[s],r.push(this.add_option(i,t,e.disabled));return r},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,i;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(i,function(e){return t[e]||"&amp;"})):e},e}(),s.select_to_array=function(e){var t,i,n,o,r;for(i=new s,r=e.childNodes,n=0,o=r.length;o>n;n++)t=r[n],i.add_node(t);return i.parsed},t=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.results_option_build=function(e){var t,i,s,n,o;for(t="",o=this.results_data,s=0,n=o.length;n>s;s++)i=o[s],t+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return t},e.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),i.style.cssText=e.style,i.setAttribute("data-option-array-index",e.array_index),i.innerHTML=e.search_text,this.outerHTML(i)):""},e.prototype.result_add_group=function(e){var t;return(e.search_match||e.group_match)&&e.active_options>0?(t=document.createElement("li"),t.className="group-result",t.innerHTML=e.search_text,this.outerHTML(t)):""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.reset_single_select_options=function(){var e,t,i,s,n;for(s=this.results_data,n=[],t=0,i=s.length;i>t;t++)e=s[t],n.push(e.selected?e.selected=!1:void 0);return n},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,i,s,n,o,r,a,l,c,d,h,u;for(this.no_results_clear(),n=0,r=this.get_search_text(),e=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=this.search_contains?"":"^",i=new RegExp(s+e,"i"),c=new RegExp(e,"i"),u=this.results_data,d=0,h=u.length;h>d;d++)t=u[d],t.search_match=!1,o=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(o=this.results_data[t.group_array_index],0===o.active_options&&o.search_match&&(n+=1),o.active_options+=1),(!t.group||this.group_search)&&(t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,i),t.search_match&&!t.group&&(n+=1),t.search_match?(r.length&&(a=t.search_text.search(c),l=t.search_text.substr(0,a+r.length)+"</em>"+t.search_text.substr(a+r.length),t.search_text=l.substr(0,a)+"<em>"+l.substr(a)),null!=o&&(o.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>n&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var i,s,n,o;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(s=e.replace(/\[|\]/g,"").split(" "),s.length))for(n=0,o=s.length;o>n;n++)if(i=s[n],t.test(i))return!0},e.prototype.choices_count=function(){var e,t,i,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,s=this.form_field.options,t=0,i=s.length;i>t;t++)e=s[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(){var e=this;return setTimeout(function(){return e.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(s){return t.browser_is_supported()?this.each(function(){var t,n;t=e(this),n=t.data("chosen"),"destroy"===s&&n?n.destroy():n||t.data("chosen",new i(this,s))}):this}}),i=function(t){function i(){return n=i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var t,i;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",i),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var e=this;return this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},i.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},i.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(t){var i;return i=e(t.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=s.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(e){var t,i,s,n,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),n=s+o,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=n)return this.search_results.scrollTop(t-s>0?t-s:0);if(o>i)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(e){return this.search_results.html(e)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},i.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},i.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(t){var i,s,n=this;return i=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?i.addClass("search-choice-disabled"):(s=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),s.bind("click.chosen",function(e){return n.choice_destroy_link_click(e)}),i.append(s)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},i.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(e){var t,i;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),i=this.results_data[t[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},i.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},i.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var t,i,s,n,o,r,a,l,c;if(this.is_multiple){for(s=0,a=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=r.length;c>l;l++)n=r[l],o+=n+":"+this.search_field.css(n)+";";return t=e("<div />",{style:o}),t.text(this.search_field.val()),e("body").append(t),a=t.width()+25,t.remove(),i=this.container.outerWidth(),a>i-10&&(a=i-10),this.search_field.css({width:a+"px"})}},i}(t)}).call(this),function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function i(e,t){var i=s(e,t)?o:n;i(e,t)}var s,n,o;"classList"in document.documentElement?(s=function(e,t){return e.classList.contains(t)},n=function(e,t){e.classList.add(t)},o=function(e,t){e.classList.remove(t)}):(s=function(e,i){return t(i).test(e.className)},n=function(e,t){s(e,t)||(e.className=e.className+" "+t)},o=function(e,i){e.className=e.className.replace(t(i)," ")});var r={hasClass:s,addClass:n,removeClass:o,toggleClass:i,has:s,add:n,remove:o,toggle:i};"function"==typeof define&&define.amd?define(r):e.classie=r}(window),function(e){"use strict";function t(){var t=!1;return function(e){(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||e.opera),t}function i(e){this.el=e,document.getElementById("sb-search")&&(this.inputEl=e.querySelector("form > input.sb-search-input"),this._initEvents())}!e.addEventListener&&e.Element&&function(){function e(e,t){Window.prototype[e]=HTMLDocument.prototype[e]=Element.prototype[e]=t}var t=[];e("addEventListener",function(e,i){var s=this;t.unshift({__listener:function(e){e.currentTarget=s,e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop,e.preventDefault=function(){e.returnValue=!1},e.relatedTarget=e.fromElement||null,e.stopPropagation=function(){e.cancelBubble=!0},e.relatedTarget=e.fromElement||null,e.target=e.srcElement||s,e.timeStamp=+new Date,i.call(s,e)},listener:i,target:s,type:e}),this.attachEvent("on"+e,t[0].__listener)}),e("removeEventListener",function(e,i){for(var s=0,n=t.length;n>s;++s)if(t[s].target==this&&t[s].type==e&&t[s].listener==i)return this.detachEvent("on"+e,t.splice(s,1)[0].__listener)}),e("dispatchEvent",function(e){try{return this.fireEvent("on"+e.type,e)}catch(i){for(var s=0,n=t.length;n>s;++s)t[s].target==this&&t[s].type==e.type&&t[s].call(this,e)}})}(),!String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),i.prototype={_initEvents:function(){var e=this,t=function(t){t.stopPropagation(),e.inputEl.value=e.inputEl.value.trim(),classie.has(e.el,"sb-search-open")?classie.has(e.el,"sb-search-open")&&/^\s*$/.test(e.inputEl.value)&&(t.preventDefault(),e.close()):(t.preventDefault(),e.open())};this.el.addEventListener("click",t),this.el.addEventListener("touchstart",t),this.inputEl.addEventListener("click",function(e){e.stopPropagation()}),this.inputEl.addEventListener("touchstart",function(e){e.stopPropagation()})},open:function(){var e=this;classie.add(this.el,"sb-search-open"),t()||this.inputEl.focus();var i=function(){e.close(),this.removeEventListener("click",i),this.removeEventListener("touchstart",i)};document.addEventListener("click",i),document.addEventListener("touchstart",i)},close:function(){this.inputEl.blur(),classie.remove(this.el,"sb-search-open")}},e.UISearch=i}(window),new UISearch(document.getElementById("sb-search")),!function(e){"use strict";e.expr[":"].icontains=function(t,i,s){return e(t).text().toUpperCase().indexOf(s[3].toUpperCase())>=0};var t=function(i,s,n){n&&(n.stopPropagation(),n.preventDefault()),this.$element=e(i),this.$newElement=null,this.$button=null,this.$menu=null,this.options=e.extend({},e.fn.selectpicker.defaults,this.$element.data(),"object"==typeof s&&s),null==this.options.title&&(this.options.title=this.$element.attr("title")),this.val=t.prototype.val,this.render=t.prototype.render,this.refresh=t.prototype.refresh,this.setStyle=t.prototype.setStyle,this.selectAll=t.prototype.selectAll,this.deselectAll=t.prototype.deselectAll,this.init()};t.prototype={constructor:t,init:function(){this.$element.hide(),this.multiple=this.$element.prop("multiple");var t=this.$element.attr("id");if(this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),void 0!==t){var i=this;this.$button.attr("data-id",t),e('label[for="'+t+'"]').click(function(e){e.preventDefault(),i.$button.focus()})}this.checkDisabled(),this.clickListener(),this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this)
},createDropdown:function(){var t=this.multiple?" show-tick":"",i=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",s=this.options.liveSearch?'<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control" /></div>':"",n="<div class='btn-group bootstrap-select"+t+"'><button type='button' class='btn dropdown-toggle selectpicker' data-toggle='dropdown'><div class='filter-option pull-left'></div>&nbsp;<div class='caret'></div></button><div class='dropdown-menu open'>"+i+s+"<ul class='dropdown-menu inner selectpicker' role='menu'></ul></div></div>";return e(n)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul").append(t),e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menu.find("ul").append(e)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var t=this,i=[],s="";return this.$element.find("option").each(function(){var s=e(this),n=s.attr("class")||"",o=s.attr("style")||"",r=s.data("content")?s.data("content"):s.html(),a=void 0!==s.data("subtext")?'<small class="muted text-muted">'+s.data("subtext")+"</small>":"",l=void 0!==s.data("icon")?'<i class="glyphicon '+s.data("icon")+'"></i> ':"";if(""!==l&&(s.is(":disabled")||s.parent().is(":disabled"))&&(l="<span>"+l+"</span>"),s.data("content")||(r=l+'<span class="text">'+r+a+"</span>"),t.options.hideDisabled&&(s.is(":disabled")||s.parent().is(":disabled")))i.push('<a style="min-height: 0; padding: 0"></a>');else if(s.parent().is("optgroup")&&s.data("divider")!==!0)if(0==s.index()){var c=s.parent().attr("label"),d=void 0!==s.parent().data("subtext")?'<small class="muted text-muted">'+s.parent().data("subtext")+"</small>":"",h=s.parent().data("icon")?'<i class="'+s.parent().data("icon")+'"></i> ':"";c=h+'<span class="text">'+c+d+"</span>",i.push(0!=s[0].index?'<div class="div-contain"><div class="divider"></div></div><dt>'+c+"</dt>"+t.createA(r,"opt "+n,o):"<dt>"+c+"</dt>"+t.createA(r,"opt "+n,o))}else i.push(t.createA(r,"opt "+n,o));else i.push(s.data("divider")===!0?'<div class="div-contain"><div class="divider"></div></div>':e(this).data("hidden")===!0?"":t.createA(r,n,o))}),e.each(i,function(e,t){s+="<li rel="+e+">"+t+"</li>"}),this.multiple||0!=this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),e(s)},createA:function(e,t,i){return'<a tabindex="0" class="'+t+'" style="'+i+'">'+e+'<i class="glyphicon glyphicon-ok icon-ok check-mark"></i></a>'},render:function(){var t=this;this.$element.find("option").each(function(i){t.setDisabled(i,e(this).is(":disabled")||e(this).parent().is(":disabled")),t.setSelected(i,e(this).is(":selected"))}),this.tabIndex();var i=this.$element.find("option:selected").map(function(){var i,s=e(this),n=s.data("icon")&&t.options.showIcon?'<i class="glyphicon '+s.data("icon")+'"></i> ':"";return i=t.options.showSubtext&&s.attr("data-subtext")&&!t.multiple?' <small class="muted text-muted">'+s.data("subtext")+"</small>":"",s.data("content")&&t.options.showContent?s.data("content"):void 0!=s.attr("title")?s.attr("title"):n+s.html()+i}).toArray(),s=this.multiple?i.join(", "):i[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var n=this.options.selectedTextFormat.split(">"),o=this.options.hideDisabled?":not([disabled])":"";(n.length>1&&i.length>n[1]||1==n.length&&i.length>=2)&&(s=this.options.countSelectedText.replace("{0}",i.length).replace("{1}",this.$element.find('option:not([data-divider="true"]):not([data-hidden="true"])'+o).length))}s||(s=void 0!=this.options.title?this.options.title:this.options.noneSelectedText),this.$newElement.find(".filter-option").html(s)},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device/gi,""));var i=e?e:this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(){var e=this.$newElement.clone();e.appendTo("body");var t=e.addClass("open").find("> .dropdown-menu"),i=t.find("li > a").outerHeight(),s=this.options.header?t.find(".popover-title").outerHeight():0,n=this.options.liveSearch?t.find(".bootstrap-select-searchbox").outerHeight():0;e.remove(),this.$newElement.data("liHeight",i).data("headerHeight",s).data("searchHeight",n)},setSize:function(){var t,i,s,n=this,o=this.$menu,r=o.find(".inner"),a=this.$newElement.outerHeight(),l=this.$newElement.data("liHeight"),c=this.$newElement.data("headerHeight"),d=this.$newElement.data("searchHeight"),h=o.find("li .divider").outerHeight(!0),u=parseInt(o.css("padding-top"))+parseInt(o.css("padding-bottom"))+parseInt(o.css("border-top-width"))+parseInt(o.css("border-bottom-width")),p=this.options.hideDisabled?":not(.disabled)":"",f=e(window),m=u+parseInt(o.css("margin-top"))+parseInt(o.css("margin-bottom"))+2,v=function(){i=n.$newElement.offset().top-f.scrollTop(),s=f.height()-i-a};if(v(),this.options.header&&o.css("padding-top",0),"auto"==this.options.size){var g=function(){var e;v(),t=s-m,n.$newElement.toggleClass("dropup",i>s&&t-m<o.height()&&n.options.dropupAuto),n.$newElement.hasClass("dropup")&&(t=i-m),e=o.find("li").length+o.find("dt").length>3?3*l+m-2:0,o.css({"max-height":t+"px",overflow:"hidden","min-height":e+"px"}),r.css({"max-height":t-c-d-u+"px","overflow-y":"auto","min-height":e-u+"px"})};g(),e(window).resize(g),e(window).scroll(g)}else if(this.options.size&&"auto"!=this.options.size&&o.find("li"+p).length>this.options.size){var b=o.find("li"+p+" > *").filter(":not(.div-contain)").slice(0,this.options.size).last().parent().index(),_=o.find("li").slice(0,b+1).find(".div-contain").length;t=l*this.options.size+_*h+u,this.$newElement.toggleClass("dropup",i>s&&t<o.height()&&this.options.dropupAuto),o.css({"max-height":t+c+d+"px",overflow:"hidden"}),r.css({"max-height":t-u+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var e=this.$newElement.clone().appendTo("body"),t=e.find("> .dropdown-menu").css("width");e.remove(),this.$newElement.css("width",t)}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var t,i,s=this,n="<div />",o=e(n),r=function(e){o.addClass(e.attr("class")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),i=e.hasClass("dropup")?0:e[0].offsetHeight,o.css({top:t.top+i,left:t.left,width:e[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){r(e(this)),o.appendTo(s.options.container),o.toggleClass("open",!e(this).hasClass("open")),o.append(s.$menu)}),e(window).resize(function(){r(s.$newElement)}),e(window).on("scroll",function(){r(s.$newElement)}),e("html").on("click",function(t){e(t.target).closest(s.$newElement).length<1&&o.removeClass("open")})},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},setSelected:function(e,t){this.$menu.find("li").eq(e).toggleClass("selected",t)},setDisabled:function(e,t){t?this.$menu.find("li").eq(e).addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$menu.find("li").eq(e).removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var e=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var t=this;e("body").on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),this.$newElement.on("click",function(){t.setSize()}),this.$menu.on("click","li a",function(i){var s=e(this).parent().index(),n=t.$element.val();if(t.multiple&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!e(this).parent().hasClass("disabled")){var o=t.$element.find("option"),r=o.eq(s);if(t.multiple){var a=r.prop("selected");r.prop("selected",!a)}else o.prop("selected",!1),r.prop("selected",!0);t.$button.focus(),n!=t.$element.val()&&t.$element.change()}}),this.$menu.on("click","li.disabled a, li dt, li .div-contain, h3.popover-title",function(e){e.target==this&&(e.preventDefault(),e.stopPropagation(),t.$button.focus())}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$element.change(function(){t.render()})},liveSearchListener:function(){var e=this;this.$newElement.on("click.dropdown.data-api",function(){e.options.liveSearch&&setTimeout(function(){e.$searchbox.focus()},10)}),this.$searchbox.on("keyup",function(t){40==t.keyCode?e.$menu.find("li:not(.divider):visible a").first().focus():38==t.keyCode?e.$menu.find("li:not(.divider):visible a").last().focus():e.$searchbox.val()?e.$menu.find("li").show().not(":icontains("+e.$searchbox.val()+")").hide():e.$menu.find("li").show()}).on("keydown",function(t){return 13==t.keyCode?(e.$button.click().focus(),t.preventDefault(),!1):void 0})},val:function(e){return void 0!=e?(this.$element.val(e),this.$element.change(),this.$element):this.$element.val()},selectAll:function(){this.$element.find("option").prop("selected",!0).attr("selected","selected"),this.render()},deselectAll:function(){this.$element.find("option").prop("selected",!1).removeAttr("selected"),this.render()},keydown:function(t){var i=e(this).parent().data("this");i.$searchbox&&i.$searchbox.is(":not(:visible)")&&t.keyCode>=48&&t.keyCode<=90&&(e(":focus").click(),i.$searchbox.focus())},keyup:function(t){var i,s,n,o;if(i=e(this),n=i.parent(),o=n.data("this"),o.options.container&&(n=o.$menu),s=e("[role=menu] li:not(.divider):visible a",n),s.length){if(/(38|40)/.test(t.keyCode)&&o.$searchbox){var r=s.index(e(":focus")),a=i.data("lastIndex");i.data("lastIndex",r),r==a&&(0==r||r==s.length-1)&&o.$searchbox.focus()}else{var l={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},c=[];s.each(function(){e(this).parent().is(":not(.disabled)")&&e.trim(e(this).text().toLowerCase()).substring(0,1)==l[t.keyCode]&&c.push(e(this).parent().index())});var d=e(document).data("keycount");d++,e(document).data("keycount",d);var h=e.trim(e(":focus").text().toLowerCase()).substring(0,1);h!=l[t.keyCode]?(d=1,e(document).data("keycount",d)):d>=c.length&&e(document).data("keycount",0),s.eq(c[d-1]).focus()}/(13|32)/.test(t.keyCode)&&i.is("[role=menu]")&&(t.preventDefault(),e(":focus").click(),e(document).data("keycount",0))}},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},destroy:function(){this.$newElement.remove(),this.$element.remove()}},e.fn.selectpicker=function(i,s){var n,o=arguments,r=this.each(function(){if(e(this).is("select")){var r=e(this),a=r.data("selectpicker"),l="object"==typeof i&&i;if(a){if(l)for(var c in l)a.options[c]=l[c]}else r.data("selectpicker",a=new t(this,l,s));if("string"==typeof i){var d=i;a[d]instanceof Function?([].shift.apply(o),n=a[d].apply(a,o)):n=a.options[d]}}});return void 0!=n?n:r},e.fn.selectpicker.defaults={style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",countSelectedText:"{0} of {1} selected",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1},e(document).data("keycount",0).on("keydown",".selectpicker[data-toggle=dropdown], .selectpicker[role=menu]",t.prototype.keydown).on("keyup",".selectpicker[data-toggle=dropdown], .selectpicker[role=menu]",t.prototype.keyup)}(window.jQuery),!function(e,t,i){"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=i:(e[t]=i,"function"==typeof define&&define.amd&&define(t,[],function(){return i}))}(this,"jRespond",function(e,t,i){"use strict";return function(e){var t=[],s=[],n=e,o="",r="",a=0,l=100,c=500,d=c,h=function(){var e=0;return e="number"!=typeof window.innerWidth?0!==document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth:window.innerWidth},u=function(e){if(e.length===i)p(e);else for(var t=0;t<e.length;t++)p(e[t])},p=function(e){var n=e.breakpoint,a=e.enter||i;t.push(e),s.push(!1),v(n)&&(a!==i&&a.call(null,{entering:o,exiting:r}),s[t.length-1]=!0)},f=function(){for(var e=[],n=[],a=0;a<t.length;a++){var l=t[a].breakpoint,c=t[a].enter||i,d=t[a].exit||i;"*"===l?(c!==i&&e.push(c),d!==i&&n.push(d)):v(l)?(c===i||s[a]||e.push(c),s[a]=!0):(d!==i&&s[a]&&n.push(d),s[a]=!1)}for(var h={entering:o,exiting:r},u=0;u<n.length;u++)n[u].call(null,h);for(var p=0;p<e.length;p++)e[p].call(null,h)},m=function(e){for(var t=!1,i=0;i<n.length;i++)if(e>=n[i].enter&&e<=n[i].exit){t=!0;break}t&&o!==n[i].label?(r=o,o=n[i].label,f()):t||""===o||(o="",f())},v=function(e){if("object"==typeof e){if(e.join().indexOf(o)>=0)return!0}else{if("*"===e)return!0;if("string"==typeof e&&o===e)return!0}},g=function(){var e=h();e!==a?(d=l,m(e)):d=c,a=e,setTimeout(g,d)};return g(),{addFunc:function(e){u(e)},getBreakpoint:function(){return o}}}}(this,this.document)),function(e){var t=0,i=0,s=0,n=0,o="ontouchstart"in window,r="onorientationchange"in window,a=!1,l=!1,c=!1,d=!1,h=!1,u="pointer",p="pointer",f=[],m=[],v=[],g=[],b=[],_=[],y=[],w=[],S=[],x=[],C=[],k={showScrollbar:function(t,i){t.scrollbarHide&&e("."+i).css({opacity:t.scrollbarOpacity,filter:"alpha(opacity:"+100*t.scrollbarOpacity+")"})},hideScrollbar:function(e,t,i,s,n,o,r,a,l,c){if(e.scrollbar&&e.scrollbarHide)for(var d=i;i+25>d;d++)t[t.length]=k.hideScrollbarIntervalTimer(10*d,s[i],(i+24-d)/24,n,o,r,a,l,c,e)},hideScrollbarInterval:function(t,i,s,o,r,a,l,c,d){n=-1*t/S[c]*(r-a-l-o),k.setSliderOffset("."+s,n),e("."+s).css({opacity:d.scrollbarOpacity*i,filter:"alpha(opacity:"+d.scrollbarOpacity*i*100+")"})},slowScrollHorizontalInterval:function(t,i,s,o,r,a,l,c,d,h,u,p,f,m,v,g,C,T,E){if(E.infiniteSlider){if(s<=-1*S[g]){var N=e(t).width();if(s<=-1*x[g]){var O=-1*u[0];e(i).each(function(t){k.setSliderOffset(e(i)[t],O+C),t<p.length&&(p[t]=-1*O),O+=v[t]}),s+=-1*p[0],w[g]=-1*p[0]+C,S[g]=w[g]+N-a,y[g]=0}else{var A=0,j=k.getSliderOffset(e(i[0]),"x");e(i).each(function(e){k.getSliderOffset(this,"x")<j&&(j=k.getSliderOffset(this,"x"),A=e)}),f=w[g]+N,k.setSliderOffset(e(i)[A],f),w[g]=-1*p[1]+C,S[g]=w[g]+N-a,p.splice(0,1),p.splice(p.length,0,-1*f+C),y[g]++}}if(s>=-1*w[g]||s>=0){if(N=e(t).width(),s>=0)for(O=-1*u[0],e(i).each(function(t){k.setSliderOffset(e(i)[t],O+C),t<p.length&&(p[t]=-1*O),O+=v[t]}),s-=-1*p[0],w[g]=-1*p[0]+C,S[g]=w[g]+N-a,y[g]=m;0<-1*p[0]-N+C;){var q=0,M=k.getSliderOffset(e(i[0]),"x");e(i).each(function(e){k.getSliderOffset(this,"x")>M&&(M=k.getSliderOffset(this,"x"),q=e)}),f=w[g]-v[q],k.setSliderOffset(e(i)[q],f),p.splice(0,0,-1*f+C),p.splice(p.length-1,1),w[g]=-1*p[0]+C,S[g]=w[g]+N-a,y[g]--,b[g]++}0>s&&(q=0,M=k.getSliderOffset(e(i[0]),"x"),e(i).each(function(e){k.getSliderOffset(this,"x")>M&&(M=k.getSliderOffset(this,"x"),q=e)}),f=w[g]-v[q],k.setSliderOffset(e(i)[q],f),p.splice(0,0,-1*f+C),p.splice(p.length-1,1),w[g]=-1*p[0]+C,S[g]=w[g]+N-a,y[g]--)}}u=!1,a=k.calcActiveOffset(E,s,p,a,y[g],m,h,g),f=(a+y[g]+m)%m,E.infiniteSlider?f!=_[g]&&(u=!0):a!=b[g]&&(u=!0),u&&(m=new k.args("change",E,t,e(t).children(":eq("+f+")"),f,T),e(t).parent().data("args",m),""!=E.onSlideChange)&&E.onSlideChange(m),b[g]=a,_[g]=f,s=Math.floor(s),k.setSliderOffset(t,s),E.scrollbar&&(n=Math.floor((-1*s-w[g]+C)/(S[g]-w[g]+C)*(l-c-r)),t=r-d,s>=-1*w[g]+C?(t=r-d- -1*n,k.setSliderOffset(e("."+o),0)):(s<=-1*S[g]+1&&(t=l-c-d-n),k.setSliderOffset(e("."+o),n)),e("."+o).css({width:t+"px"}))},slowScrollHorizontal:function(t,i,s,n,o,r,a,l,c,d,h,u,p,f,m,v,x,C,T,E,N){var O=k.getSliderOffset(t,"x");r=[];var A=0,j=25/1024*l;if(frictionCoefficient=N.frictionCoefficient,elasticFrictionCoefficient=N.elasticFrictionCoefficient,snapFrictionCoefficient=N.snapFrictionCoefficient,o>N.snapVelocityThreshold&&N.snapToChildren&&!T?A=1:o<-1*N.snapVelocityThreshold&&N.snapToChildren&&!T&&(A=-1),-1*j>o?o=-1*j:o>j&&(o=j),e(t)[0]!==e(C)[0]&&(A*=-1,o*=-2),C=y[m],N.infiniteSlider)var q=w[m],M=S[m];T=[];for(var j=[],I=0;I<p.length;I++)T[I]=p[I],I<i.length&&(j[I]=k.getSliderOffset(e(i[I]),"x"));for(;o>1||-1>o;){if(o*=frictionCoefficient,O+=o,(O>-1*w[m]||O<-1*S[m])&&!N.infiniteSlider&&(o*=elasticFrictionCoefficient,O+=o),N.infiniteSlider){if(-1*M>=O){for(var M=e(t).width(),$=0,P=j[0],I=0;I<j.length;I++)j[I]<P&&(P=j[I],$=I);I=q+M,j[$]=I,q=-1*T[1]+E,M=q+M-l,T.splice(0,1),T.splice(T.length,0,-1*I+E),C++}if(O>=-1*q){for(M=e(t).width(),$=0,P=j[0],I=0;I<j.length;I++)j[I]>P&&(P=j[I],$=I);I=q-f[$],j[$]=I,T.splice(0,0,-1*I+E),T.splice(T.length-1,1),q=-1*T[0]+E,M=q+M-l,C--}}r[r.length]=O}if(j=!1,o=k.calcActiveOffset(N,O,T,l,C,x,b[m],m),q=(o+C+x)%x,N.snapToChildren&&(N.infiniteSlider?q!=_[m]&&(j=!0):o!=b[m]&&(j=!0),0>A&&!j?(o++,o>=p.length&&!N.infiniteSlider&&(o=p.length-1)):A>0&&!j&&(o--,0>o&&!N.infiniteSlider&&(o=0))),N.snapToChildren||(O>-1*w[m]||O<-1*S[m])&&!N.infiniteSlider){for((O>-1*w[m]||O<-1*S[m])&&!N.infiniteSlider?r.splice(0,r.length):(r.splice(.1*r.length,r.length),O=0<r.length?r[r.length-1]:O);O<T[o]-.5||O>T[o]+.5;)O=(O-T[o])*snapFrictionCoefficient+T[o],r[r.length]=O;r[r.length]=T[o]}for(A=1,0!=r.length%2&&(A=0),O=0;O<s.length;O++)clearTimeout(s[O]);for(C=(o+C+x)%x,q=0,O=A;O<r.length;O+=2)(O==A||1<Math.abs(r[O]-q)||O>=r.length-2)&&(q=r[O],s[s.length]=k.slowScrollHorizontalIntervalTimer(10*O,t,i,r[O],n,a,l,c,d,h,o,u,p,v,x,f,m,E,C,N));q=(o+y[m]+x)%x,""!=N.onSlideComplete&&1<r.length&&(s[s.length]=k.onSlideCompleteTimer(10*(O+1),N,t,e(t).children(":eq("+q+")"),C,m)),g[m]=s,k.hideScrollbar(N,s,O,r,n,a,l,d,h,m)},onSlideComplete:function(t,i,s,n){s=new k.args("complete",t,e(i),s,n,n),e(i).parent().data("args",s),""!=t.onSlideComplete&&t.onSlideComplete(s)},getSliderOffset:function(t,i){var s=0;if(i="x"==i?4:5,!a||l||c)s=parseInt(e(t).css("left"),10);else{for(var n,s=["-webkit-transform","-moz-transform","transform"],o=0;o<s.length;o++)if(void 0!=e(t).css(s[o])&&0<e(t).css(s[o]).length){n=e(t).css(s[o]).split(",");break}s=void 0==n[i]?0:parseInt(n[i],10)}return s},setSliderOffset:function(t,i){i=parseInt(i,10),e(t).css(!a||l||c?{left:i+"px"}:{webkitTransform:"matrix(1,0,0,1,"+i+",0)",MozTransform:"matrix(1,0,0,1,"+i+",0)",transform:"matrix(1,0,0,1,"+i+",0)"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(u="-webkit-grab",p="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(h=!0,u="move",p="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?d=l=!0:null!=navigator.userAgent.match("MSIE 8")?d=c=!0:null!=navigator.userAgent.match("MSIE 9")&&(d=!0)},has3DTransform:function(){var t=!1,i=e("<div />").css({webkitTransform:"matrix(1,1,1,1,1,1)",MozTransform:"matrix(1,1,1,1,1,1)",transform:"matrix(1,1,1,1,1,1)"});return""==i.attr("style")?t=!1:h&&21<=parseInt(navigator.userAgent.split("/")[3],10)?t=!1:void 0!=i.attr("style")&&(t=!0),t},getSlideNumber:function(e,t,i){return(e-y[t]+i)%i},calcActiveOffset:function(e,t,i,s,n,o,r){n=!1,e=[];var a;for(t>i[0]&&(a=0),t<i[i.length-1]&&(a=o-1),o=0;o<i.length;o++)i[o]<=t&&i[o]>t-s&&(n||i[o]==t||(e[e.length]=i[o-1]),e[e.length]=i[o],n=!0);for(0==e.length&&(e[0]=i[i.length-1]),o=n=0;o<e.length;o++)r=Math.abs(t-e[o]),s>r&&(n=e[o],s=r);for(o=0;o<i.length;o++)n==i[o]&&(a=o);return a},changeSlide:function(t,i,s,n,o,r,a,l,c,d,h,u,p,f,m,v,w,S){k.autoSlidePause(f);for(var x=0;x<n.length;x++)clearTimeout(n[x]);var C=Math.ceil(S.autoSlideTransTimer/10)+1,T=k.getSliderOffset(i,"x"),E=u[t],N=E-T;if(S.infiniteSlider)for(t=(t-y[f]+2*v)%v,x=!1,0==t&&2==v&&(t=v,u[t]=u[t-1]-e(s).eq(0).outerWidth(!0),x=!0),E=u[t],N=E-T,E=[u[t]-e(i).width(),u[t]+e(i).width()],x&&u.splice(u.length-1,1),x=0;x<E.length;x++)Math.abs(E[x]-T)<Math.abs(N)&&(N=E[x]-T);var O,E=[];for(k.showScrollbar(S,o),x=0;C>=x;x++)O=x,O/=C,O--,O=T+N*(Math.pow(O,5)+1),E[E.length]=O;for(C=(t+y[f]+v)%v,x=T=0;x<E.length;x++)(0==x||1<Math.abs(E[x]-T)||x>=E.length-2)&&(T=E[x],n[x]=k.slowScrollHorizontalIntervalTimer(10*(x+1),i,s,E[x],o,r,a,l,c,d,t,h,u,m,v,p,f,w,C,S)),0==x&&""!=S.onSlideStart&&(N=(b[f]+y[f]+v)%v,S.onSlideStart(new k.args("start",S,i,e(i).children(":eq("+N+")"),N,t)));T=!1,S.infiniteSlider?C!=_[f]&&(T=!0):t!=b[f]&&(T=!0),T&&""!=S.onSlideComplete&&(n[n.length]=k.onSlideCompleteTimer(10*(x+1),S,i,e(i).children(":eq("+C+")"),C,f)),g[f]=n,k.hideScrollbar(S,n,x,E,o,r,a,c,d,f),k.autoSlide(i,s,n,o,r,a,l,c,d,h,u,p,f,m,v,w,S)},autoSlide:function(e,t,i,s,n,o,r,a,l,c,d,h,u,p,v,g,_){return m[u].autoSlide?(k.autoSlidePause(u),void(f[u]=setTimeout(function(){!_.infiniteSlider&&b[u]>d.length-1&&(b[u]-=v),k.changeSlide((b[u]+y[u]+d.length+1)%d.length,e,t,i,s,n,o,r,a,l,c,d,h,u,p,v,g,_),k.autoSlide(e,t,i,s,n,o,r,a,l,c,d,h,u,p,v,g,_)},_.autoSlideTimer+_.autoSlideTransTimer))):!1},autoSlidePause:function(e){clearTimeout(f[e])},isUnselectable:function(t,i){return""!=i.unselectableSelector&&1==e(t).closest(i.unselectableSelector).length?!0:!1},slowScrollHorizontalIntervalTimer:function(e,t,i,s,n,o,r,a,l,c,d,h,u,p,f,m,v,g,b,_){return setTimeout(function(){k.slowScrollHorizontalInterval(t,i,s,n,o,r,a,l,c,d,h,u,p,f,m,v,g,b,_)},e)},onSlideCompleteTimer:function(e,t,i,s,n,o){return setTimeout(function(){k.onSlideComplete(t,i,s,n,o)},e)},hideScrollbarIntervalTimer:function(e,t,i,s,n,o,r,a,l,c){return setTimeout(function(){k.hideScrollbarInterval(t,i,s,n,o,r,a,l,c)},e)},args:function(t,i,s,n,o,r){this.prevSlideNumber=void 0==e(s).parent().data("args")?void 0:e(s).parent().data("args").prevSlideNumber,this.prevSlideObject=void 0==e(s).parent().data("args")?void 0:e(s).parent().data("args").prevSlideObject,this.targetSlideNumber=r+1,this.targetSlideObject=e(s).children(":eq("+r+")"),this.slideChanged=!1,"load"==t?this.targetSlideObject=this.targetSlideNumber=void 0:"start"==t?this.targetSlideObject=this.targetSlideNumber=void 0:"change"==t?(this.slideChanged=!0,this.prevSlideNumber=void 0==e(s).parent().data("args")?i.startAtSlide:e(s).parent().data("args").currentSlideNumber,this.prevSlideObject=e(s).children(":eq("+this.prevSlideNumber+")")):"complete"==t&&(this.slideChanged=e(s).parent().data("args").slideChanged),this.settings=i,this.data=e(s).parent().data("iosslider"),this.sliderObject=s,this.sliderContainerObject=e(s).parent(),this.currentSlideObject=n,this.currentSlideNumber=o+1,this.currentSliderOffset=-1*k.getSliderOffset(s,"x")},preventDrag:function(e){e.preventDefault()},preventClick:function(e){return e.stopImmediatePropagation(),!1},enableClick:function(){return!0}};k.setBrowserInfo();var T={init:function(h,f){a=k.has3DTransform();var T=e.extend(!0,{elasticPullResistance:.6,frictionCoefficient:.92,elasticFrictionCoefficient:.6,snapFrictionCoefficient:.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1,scrollbarHide:!0,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:.9,desktopClickDrag:!1,keyboardControls:!1,tabToAdvance:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5e3,autoSlideTransTimer:750,autoSlideHoverPause:!0,infiniteSlider:!1,snapVelocityThreshold:5,slideStartVelocityThreshold:0,horizontalSlideLockThreshold:5,verticalSlideLockThreshold:3,stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSliderResize:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},h);return void 0==f&&(f=this),e(f).each(function(a){function h(){k.autoSlidePause(f),ht=e(tt).find("a"),ut=e(tt).find("[onclick]"),pt=e(tt).find("*"),e(Q).css("width",""),e(Q).css("height",""),e(tt).css("width",""),V=e(tt).children().not("script").get(),Y=[],U=[],T.responsiveSlides&&e(V).css("width",""),S[f]=0,X=[],q=e(Q).parent().width(),I=e(Q).outerWidth(!0),T.responsiveSlideContainer&&(I=e(Q).outerWidth(!0)>q?q:e(Q).width()),e(Q).css({position:T.stageCSS.position,top:T.stageCSS.top,left:T.stageCSS.left,overflow:T.stageCSS.overflow,zIndex:T.stageCSS.zIndex,webkitPerspective:1e3,webkitBackfaceVisibility:"hidden",msTouchAction:"pan-y",width:I}),e(T.unselectableSelector).css({cursor:"default"});for(var t=0;t<V.length;t++){Y[t]=e(V[t]).width(),U[t]=e(V[t]).outerWidth(!0);var i=U[t];T.responsiveSlides&&(U[t]>I?(i=I+-1*(U[t]-Y[t]),Y[t]=i,U[t]=I):i=Y[t],e(V[t]).css({width:i})),e(V[t]).css({webkitBackfaceVisibility:"hidden",overflow:"hidden",position:"absolute"}),X[t]=-1*S[f],S[f]=S[f]+i+(U[t]-Y[t])}for(T.snapSlideCenter&&(B=.5*(I-U[0]),T.responsiveSlides&&U[0]>I&&(B=0)),x[f]=2*S[f],t=0;t<V.length;t++)k.setSliderOffset(e(V[t]),-1*X[t]+S[f]+B),X[t]-=S[f];if(!T.infiniteSlider&&!T.snapSlideCenter){for(t=0;t<X.length&&!(X[t]<=-1*(2*S[f]-I));t++)nt=t;X.splice(nt+1,X.length),X[X.length]=-1*(2*S[f]-I)}for(t=0;t<X.length;t++)K[t]=X[t];if(R&&(m[f].startAtSlide=m[f].startAtSlide>X.length?X.length:m[f].startAtSlide,T.infiniteSlider?(m[f].startAtSlide=(m[f].startAtSlide-1+it)%it,b[f]=m[f].startAtSlide):(m[f].startAtSlide=0>m[f].startAtSlide-1?X.length-1:m[f].startAtSlide,b[f]=m[f].startAtSlide-1),_[f]=b[f]),w[f]=S[f]+B,e(tt).css({position:"relative",cursor:u,webkitPerspective:"0",webkitBackfaceVisibility:"hidden",width:S[f]+"px"}),dt=S[f],S[f]=2*S[f]-I+2*B,(at=I>dt+B||0==I?!0:!1)&&e(tt).css({cursor:"default"}),M=e(Q).parent().outerHeight(!0),$=e(Q).height(),T.responsiveSlideContainer&&($=$>M?M:$),e(Q).css({height:$}),k.setSliderOffset(tt,X[b[f]]),T.infiniteSlider&&!at){for(t=k.getSliderOffset(e(tt),"x"),i=(y[f]+it)%it*-1;0>i;){var s=0,n=k.getSliderOffset(e(V[0]),"x");e(V).each(function(e){k.getSliderOffset(this,"x")<n&&(n=k.getSliderOffset(this,"x"),s=e)});var o=w[f]+dt;k.setSliderOffset(e(V)[s],o),w[f]=-1*X[1]+B,S[f]=w[f]+dt-I,X.splice(0,1),X.splice(X.length,0,-1*o+B),i++}for(;0<-1*X[0]-dt+B&&T.snapSlideCenter&&R;){var r=0,a=k.getSliderOffset(e(V[0]),"x");e(V).each(function(e){k.getSliderOffset(this,"x")>a&&(a=k.getSliderOffset(this,"x"),r=e)}),o=w[f]-U[r],k.setSliderOffset(e(V)[r],o),X.splice(0,0,-1*o+B),X.splice(X.length-1,1),w[f]=-1*X[0]+B,S[f]=w[f]+dt-I,y[f]--,b[f]++}for(;t<=-1*S[f];)s=0,n=k.getSliderOffset(e(V[0]),"x"),e(V).each(function(e){k.getSliderOffset(this,"x")<n&&(n=k.getSliderOffset(this,"x"),s=e)}),o=w[f]+dt,k.setSliderOffset(e(V)[s],o),w[f]=-1*X[1]+B,S[f]=w[f]+dt-I,X.splice(0,1),X.splice(X.length,0,-1*o+B),y[f]++,b[f]--}return k.setSliderOffset(tt,X[b[f]]),T.desktopClickDrag||e(tt).css({cursor:"default"}),T.scrollbar&&(e("."+H).css({margin:T.scrollbarMargin,overflow:"hidden",display:"none"}),e("."+H+" ."+F).css({border:T.scrollbarBorder}),P=parseInt(e("."+H).css("marginLeft"))+parseInt(e("."+H).css("marginRight")),D=parseInt(e("."+H+" ."+F).css("borderLeftWidth"),10)+parseInt(e("."+H+" ."+F).css("borderRightWidth"),10),A=""!=T.scrollbarContainer?e(T.scrollbarContainer).width():I,j=I/dt*(A-P),T.scrollbarHide||(J=T.scrollbarOpacity),e("."+H).css({position:"absolute",left:0,width:A-P+"px",margin:T.scrollbarMargin}),"top"==T.scrollbarLocation?e("."+H).css("top","0"):e("."+H).css("bottom","0"),e("."+H+" ."+F).css({borderRadius:T.scrollbarBorderRadius,background:T.scrollbarBackground,height:T.scrollbarHeight,width:j-D+"px",minWidth:T.scrollbarHeight,border:T.scrollbarBorder,webkitPerspective:1e3,webkitBackfaceVisibility:"hidden",position:"relative",opacity:J,filter:"alpha(opacity:"+100*J+")",boxShadow:T.scrollbarShadow}),k.setSliderOffset(e("."+H+" ."+F),Math.floor((-1*X[b[f]]-w[f]+B)/(S[f]-w[f]+B)*(A-P-j))),e("."+H).css({display:"block"}),N=e("."+H+" ."+F),O=e("."+H)),T.scrollbarDrag&&!at&&e("."+H+" ."+F).css({cursor:u}),T.infiniteSlider&&(G=(S[f]+I)/3),""!=T.navSlideSelector&&e(T.navSlideSelector).each(function(t){e(this).css({cursor:"pointer"}),e(this).unbind(vt).bind(vt,function(i){e(this).unbind("touchstart"==i.type?"click.iosSliderEvent":"touchstart.iosSliderEvent"),vt=i.type+".iosSliderEvent",k.changeSlide(t,tt,V,E,F,j,I,A,P,D,K,X,U,f,G,it,B,T)})}),""!=T.navPrevSelector&&(e(T.navPrevSelector).css({cursor:"pointer"}),e(T.navPrevSelector).unbind(vt).bind(vt,function(t){e(this).unbind("touchstart"==t.type?"click.iosSliderEvent":"touchstart.iosSliderEvent"),vt=t.type+".iosSliderEvent",t=(b[f]+y[f]+it)%it,(t>0||T.infiniteSlider)&&k.changeSlide(t-1,tt,V,E,F,j,I,A,P,D,K,X,U,f,G,it,B,T)})),""!=T.navNextSelector&&(e(T.navNextSelector).css({cursor:"pointer"}),e(T.navNextSelector).unbind(vt).bind(vt,function(t){e(this).unbind("touchstart"==t.type?"click.iosSliderEvent":"touchstart.iosSliderEvent"),vt=t.type+".iosSliderEvent",t=(b[f]+y[f]+it)%it,(t<X.length-1||T.infiniteSlider)&&k.changeSlide(t+1,tt,V,E,F,j,I,A,P,D,K,X,U,f,G,it,B,T)})),T.autoSlide&&!at&&""!=T.autoSlideToggleSelector&&(e(T.autoSlideToggleSelector).css({cursor:"pointer"}),e(T.autoSlideToggleSelector).unbind(vt).bind(vt,function(t){e(this).unbind("touchstart"==t.type?"click.iosSliderEvent":"touchstart.iosSliderEvent"),vt=t.type+".iosSliderEvent",lt?(k.autoSlide(tt,V,E,F,j,I,A,P,D,K,X,U,f,G,it,B,T),lt=!1,e(T.autoSlideToggleSelector).removeClass("on")):(k.autoSlidePause(f),lt=!0,e(T.autoSlideToggleSelector).addClass("on"))})),k.autoSlide(tt,V,E,F,j,I,A,P,D,K,X,U,f,G,it,B,T),e(Q).bind("mouseleave.iosSliderEvent",function(){return lt?!0:void k.autoSlide(tt,V,E,F,j,I,A,P,D,K,X,U,f,G,it,B,T)}),e(Q).bind("touchend.iosSliderEvent",function(){return lt?!0:void k.autoSlide(tt,V,E,F,j,I,A,P,D,K,X,U,f,G,it,B,T)}),T.autoSlideHoverPause&&e(Q).bind("mouseenter.iosSliderEvent",function(){k.autoSlidePause(f)}),e(Q).data("iosslider",{obj:gt,settings:T,scrollerNode:tt,slideNodes:V,numberOfSlides:it,centeredSlideOffset:B,sliderNumber:f,originalOffsets:K,childrenOffsets:X,sliderMax:S[f],scrollbarClass:F,scrollbarWidth:j,scrollbarStageWidth:A,stageWidth:I,scrollMargin:P,scrollBorder:D,infiniteSliderOffset:y[f],infiniteSliderWidth:G,slideNodeOuterWidths:U}),R=!1,!0}t++;var f=t,E=[];m[f]=e.extend({},T),w[f]=0,S[f]=0;var N,O,A,j,q,M,I,$,P,D,W,z=[0,0],L=[0,0],H="scrollbarBlock"+t,F="scrollbar"+t,B=0,Q=e(this),R=!0;a=-1;var X,V,Y,U,G,K=[],J=0,Z=0,et=0,tt=e(this).children(":first-child"),it=e(tt).children().not("script").length,st=!1,nt=0,ot=!1,rt=void 0;y[f]=0;var at=!1,lt=!1;v[f]=!1;var ct,dt,ht,ut,pt,ft=!1,mt=!1,vt="touchstart.iosSliderEvent click.iosSliderEvent";C[f]=!1,g[f]=[],T.scrollbarDrag&&(T.scrollbar=!0,T.scrollbarHide=!1);var gt=e(this);if(void 0!=gt.data("iosslider"))return!0;if(e(this).find("img").bind("dragstart.iosSliderEvent",function(e){e.preventDefault()}),T.infiniteSlider&&(T.scrollbar=!1),T.infiniteSlider&&1==it&&(T.infiniteSlider=!1),T.scrollbar&&(""!=T.scrollbarContainer?e(T.scrollbarContainer).append("<div class = '"+H+"'><div class = '"+F+"'></div></div>"):e(tt).parent().append("<div class = '"+H+"'><div class = '"+F+"'></div></div>")),!h())return!0;
if(e(this).find("a").bind("mousedown",k.preventDrag),e(this).find("[onclick]").bind("click",k.preventDrag).each(function(){e(this).data("onclick",this.onclick)}),a=k.calcActiveOffset(T,k.getSliderOffset(e(tt),"x"),X,I,y[f],it,void 0,f),a=(a+y[f]+it)%it,a=new k.args("load",T,tt,e(tt).children(":eq("+a+")"),a,a),e(Q).data("args",a),""!=T.onSliderLoaded&&T.onSliderLoaded(a),(m[f].responsiveSlides||m[f].responsiveSlideContainer)&&(a=r?"orientationchange":"resize",e(window).bind(a+".iosSliderEvent-"+f,function(){if(!h())return!0;var t=e(Q).data("args");""!=T.onSliderResize&&T.onSliderResize(t)})),!T.keyboardControls&&!T.tabToAdvance||at||e(document).bind("keydown.iosSliderEvent",function(e){l||c||(e=e.originalEvent),37==e.keyCode&&T.keyboardControls?(e.preventDefault(),e=(b[f]+y[f]+it)%it,(e>0||T.infiniteSlider)&&k.changeSlide(e-1,tt,V,E,F,j,I,A,P,D,K,X,U,f,G,it,B,T)):(39==e.keyCode&&T.keyboardControls||9==e.keyCode&&T.tabToAdvance)&&(e.preventDefault(),e=(b[f]+y[f]+it)%it,(e<X.length-1||T.infiniteSlider)&&k.changeSlide(e+1,tt,V,E,F,j,I,A,P,D,K,X,U,f,G,it,B,T))}),o||T.desktopClickDrag){var bt=!1,_t=e(tt),yt=e(tt),wt=!1;T.scrollbarDrag&&(_t=_t.add(N),yt=yt.add(O)),e(_t).bind("mousedown.iosSliderEvent touchstart.iosSliderEvent",function(t){if(bt)return!0;if(bt=!0,e(yt).unbind("touchstart"==t.type?"mousedown.iosSliderEvent":"touchstart.iosSliderEvent"),C[f]||at||(wt=k.isUnselectable(t.target,T)))return st=bt=!1,!0;if(ct=e(this)[0]===e(N)[0]?N:tt,l||c||(t=t.originalEvent),k.autoSlidePause(f),pt.unbind(".disableClick"),"touchstart"==t.type)eventX=t.touches[0].pageX,eventY=t.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();else if(document.selection)if(c)try{document.selection.empty()}catch(s){}else document.selection.empty();eventX=t.pageX,eventY=t.pageY,ot=!0,rt=tt,e(this).css({cursor:p})}for(z=[0,0],L=[0,0],i=0,st=!1,t=0;t<E.length;t++)clearTimeout(E[t]);t=k.getSliderOffset(tt,"x"),t>-1*w[f]+B+dt?(t=-1*w[f]+B+dt,k.setSliderOffset(e("."+F),t),e("."+F).css({width:j-D+"px"})):t<-1*S[f]&&(k.setSliderOffset(e("."+F),A-P-j),e("."+F).css({width:j-D+"px"})),t=e(this)[0]===e(N)[0]?w[f]:0,Z=-1*(k.getSliderOffset(this,"x")-eventX-t),k.getSliderOffset(this,"y"),z[1]=eventX,L[1]=eventY,mt=!1}),e(document).bind("touchmove.iosSliderEvent mousemove.iosSliderEvent",function(t){if(l||c||(t=t.originalEvent),C[f]||at||wt||!bt)return!0;var o=0;if("touchmove"==t.type)eventX=t.touches[0].pageX,eventY=t.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty||window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();else if(document.selection)if(c)try{document.selection.empty()}catch(r){}else document.selection.empty();if(eventX=t.pageX,eventY=t.pageY,!ot||!d&&("undefined"!=typeof t.webkitMovementX||"undefined"!=typeof t.webkitMovementY)&&0===t.webkitMovementY&&0===t.webkitMovementX)return!0}if(z[0]=z[1],z[1]=eventX,i=(z[1]-z[0])/2,L[0]=L[1],L[1]=eventY,s=(L[1]-L[0])/2,!st){var a=(b[f]+y[f]+it)%it,a=new k.args("start",T,tt,e(tt).children(":eq("+a+")"),a,void 0);e(Q).data("args",a),""!=T.onSlideStart&&T.onSlideStart(a)}if((s>T.verticalSlideLockThreshold||s<-1*T.verticalSlideLockThreshold)&&"touchmove"==t.type&&!st&&(ft=!0),(i>T.horizontalSlideLockThreshold||i<-1*T.horizontalSlideLockThreshold)&&"touchmove"==t.type&&t.preventDefault(),(i>T.slideStartVelocityThreshold||i<-1*T.slideStartVelocityThreshold)&&(st=!0),st&&!ft){var a=k.getSliderOffset(tt,"x"),h=e(ct)[0]===e(N)[0]?w[f]:B,u=e(ct)[0]===e(N)[0]?(w[f]-S[f]-B)/(A-P-j):1,p=e(ct)[0]===e(N)[0]?T.scrollbarElasticPullResistance:T.elasticPullResistance,m=T.snapSlideCenter&&e(ct)[0]===e(N)[0]?0:B,v=T.snapSlideCenter&&e(ct)[0]===e(N)[0]?B:0;if("touchmove"==t.type&&(et!=t.touches.length&&(Z=-1*a+eventX),et=t.touches.length),T.infiniteSlider){if(a<=-1*S[f]){var g=e(tt).width();if(a<=-1*x[f]){var E=-1*K[0];e(V).each(function(t){k.setSliderOffset(e(V)[t],E+B),t<X.length&&(X[t]=-1*E),E+=U[t]}),Z-=-1*X[0],w[f]=-1*X[0]+B,S[f]=w[f]+g-I,y[f]=0}else{var O=0,q=k.getSliderOffset(e(V[0]),"x");e(V).each(function(e){k.getSliderOffset(this,"x")<q&&(q=k.getSliderOffset(this,"x"),O=e)}),p=w[f]+g,k.setSliderOffset(e(V)[O],p),w[f]=-1*X[1]+B,S[f]=w[f]+g-I,X.splice(0,1),X.splice(X.length,0,-1*p+B),y[f]++}}if(a>=-1*w[f]||a>=0)if(g=e(tt).width(),a>=0)for(E=-1*K[0],e(V).each(function(t){k.setSliderOffset(e(V)[t],E+B),t<X.length&&(X[t]=-1*E),E+=U[t]}),Z+=-1*X[0],w[f]=-1*X[0]+B,S[f]=w[f]+g-I,y[f]=it;0<-1*X[0]-g+B;){var M=0,$=k.getSliderOffset(e(V[0]),"x");e(V).each(function(e){k.getSliderOffset(this,"x")>$&&($=k.getSliderOffset(this,"x"),M=e)}),p=w[f]-U[M],k.setSliderOffset(e(V)[M],p),X.splice(0,0,-1*p+B),X.splice(X.length-1,1),w[f]=-1*X[0]+B,S[f]=w[f]+g-I,y[f]--,b[f]++}else M=0,$=k.getSliderOffset(e(V[0]),"x"),e(V).each(function(e){k.getSliderOffset(this,"x")>$&&($=k.getSliderOffset(this,"x"),M=e)}),p=w[f]-U[M],k.setSliderOffset(e(V)[M],p),X.splice(0,0,-1*p+B),X.splice(X.length-1,1),w[f]=-1*X[0]+B,S[f]=w[f]+g-I,y[f]--}else g=e(tt).width(),a>-1*w[f]+B&&(o=(w[f]+-1*(Z-h-eventX+m)*u-h)*p*-1/u),a<-1*S[f]&&(o=(S[f]+v+-1*(Z-h-eventX)*u-h)*p*-1/u);k.setSliderOffset(tt,-1*(Z-h-eventX-o)*u-h+v),T.scrollbar&&(k.showScrollbar(T,F),n=Math.floor((Z-eventX-o-w[f]+m)/(S[f]-w[f]+B)*(A-P-j)*u),a=j,0>=n?(a=j-D- -1*n,k.setSliderOffset(e("."+F),0),e("."+F).css({width:a+"px"})):n>=A-P-D-j?(a=A-P-D-n,k.setSliderOffset(e("."+F),n),e("."+F).css({width:a+"px"})):k.setSliderOffset(e("."+F),n)),"touchmove"==t.type&&(W=t.touches[0].pageX),t=!1,o=k.calcActiveOffset(T,-1*(Z-eventX-o),X,I,y[f],it,void 0,f),a=(o+y[f]+it)%it,T.infiniteSlider?a!=_[f]&&(t=!0):o!=b[f]&&(t=!0),t&&(b[f]=o,_[f]=a,mt=!0,a=new k.args("change",T,tt,e(tt).children(":eq("+a+")"),a,a),e(Q).data("args",a),""!=T.onSlideChange)&&T.onSlideChange(a)}}),a=e(window),(c||l)&&(a=e(document)),e(_t).bind("touchend.iosSliderEvent",function(e){if(e=e.originalEvent,C[f]||at||wt)return!0;if(0!=e.touches.length)for(var t=0;t<e.touches.length;t++)e.touches[t].pageX==W&&k.slowScrollHorizontal(tt,V,E,F,i,s,j,I,A,P,D,K,X,U,f,G,it,ct,mt,B,T);else k.slowScrollHorizontal(tt,V,E,F,i,s,j,I,A,P,D,K,X,U,f,G,it,ct,mt,B,T);bt=ft=!1}),e(a).bind("mouseup.iosSliderEvent-"+f,function(){if(st?ht.unbind("click.disableClick").bind("click.disableClick",k.preventClick):ht.unbind("click.disableClick").bind("click.disableClick",k.enableClick),ut.each(function(){this.onclick=function(t){return st?!1:void e(this).data("onclick").call(this,t||window.event)},this.onclick=e(this).data("onclick")}),1.8<=parseFloat(e().jquery)?pt.each(function(){var t=e._data(this,"events");if(void 0!=t&&void 0!=t.click&&"iosSliderEvent"!=t.click[0].namespace){if(!st)return!1;e(this).one("click.disableClick",k.preventClick);var t=e._data(this,"events").click,i=t.pop();t.splice(0,0,i)}}):1.6<=parseFloat(e().jquery)&&pt.each(function(){var t=e(this).data("events");if(void 0!=t&&void 0!=t.click&&"iosSliderEvent"!=t.click[0].namespace){if(!st)return!1;e(this).one("click.disableClick",k.preventClick);var t=e(this).data("events").click,i=t.pop();t.splice(0,0,i)}}),!v[f]){if(at||C[f])return!0;if(e(_t).css({cursor:u}),ot=!1,void 0==rt)return!0;k.slowScrollHorizontal(rt,V,E,F,i,s,j,I,A,P,D,K,X,U,f,G,it,ct,mt,B,T),rt=void 0}bt=ft=!1})}})},destroy:function(t,i){return void 0==i&&(i=this),e(i).each(function(){var i=e(this),s=i.data("iosslider");if(void 0==s)return!1;void 0==t&&(t=!0),k.autoSlidePause(s.sliderNumber),v[s.sliderNumber]=!0,e(window).unbind(".iosSliderEvent-"+s.sliderNumber),e(document).unbind(".iosSliderEvent-"+s.sliderNumber),e(document).unbind("keydown.iosSliderEvent"),e(this).unbind(".iosSliderEvent"),e(this).children(":first-child").unbind(".iosSliderEvent"),e(this).children(":first-child").children().unbind(".iosSliderEvent"),t&&(e(this).attr("style",""),e(this).children(":first-child").attr("style",""),e(this).children(":first-child").children().attr("style",""),e(s.settings.navSlideSelector).attr("style",""),e(s.settings.navPrevSelector).attr("style",""),e(s.settings.navNextSelector).attr("style",""),e(s.settings.autoSlideToggleSelector).attr("style",""),e(s.settings.unselectableSelector).attr("style","")),s.settings.scrollbar&&e(".scrollbarBlock"+s.sliderNumber).remove();for(var s=g[s.sliderNumber],n=0;n<s.length;n++)clearTimeout(s[n]);i.removeData("iosslider"),i.removeData("args")})},update:function(t){return void 0==t&&(t=this),e(t).each(function(){var t=e(this),i=t.data("iosslider");return void 0==i?!1:(i.settings.startAtSlide=t.data("args").currentSlideNumber,T.destroy(!1,this),1!=i.numberOfSlides&&i.settings.infiniteSlider&&(i.settings.startAtSlide=(b[i.sliderNumber]+1+y[i.sliderNumber]+i.numberOfSlides)%i.numberOfSlides),T.init(i.settings,this),t=new k.args("update",i.settings,i.scrollerNode,e(i.scrollerNode).children(":eq("+(i.settings.startAtSlide-1)+")"),i.settings.startAtSlide-1,i.settings.startAtSlide-1),e(i.stageNode).data("args",t),void(""!=i.settings.onSliderUpdate&&i.settings.onSliderUpdate(t)))})},addSlide:function(t,i){return this.each(function(){var s=e(this),n=s.data("iosslider");return void 0==n?!1:(0==e(n.scrollerNode).children().length?(e(n.scrollerNode).append(t),s.data("args").currentSlideNumber=1):n.settings.infiniteSlider?(1==i?e(n.scrollerNode).children(":eq(0)").before(t):e(n.scrollerNode).children(":eq("+(i-2)+")").after(t),-1>y[n.sliderNumber]&&b[n.sliderNumber]--,s.data("args").currentSlideNumber>=i&&b[n.sliderNumber]++):(i<=n.numberOfSlides?e(n.scrollerNode).children(":eq("+(i-1)+")").before(t):e(n.scrollerNode).children(":eq("+(i-2)+")").after(t),s.data("args").currentSlideNumber>=i&&s.data("args").currentSlideNumber++),s.data("iosslider").numberOfSlides++,void T.update(this))})},removeSlide:function(t){return this.each(function(){var i=e(this).data("iosslider");return void 0==i?!1:(e(i.scrollerNode).children(":eq("+(t-1)+")").remove(),b[i.sliderNumber]>t-1&&b[i.sliderNumber]--,void T.update(this))})},goToSlide:function(t,i){return void 0==i&&(i=this),e(i).each(function(){var i=e(this).data("iosslider");return void 0==i?!1:(t=t>i.childrenOffsets.length?i.childrenOffsets.length-1:t-1,void k.changeSlide(t,e(i.scrollerNode),e(i.slideNodes),g[i.sliderNumber],i.scrollbarClass,i.scrollbarWidth,i.stageWidth,i.scrollbarStageWidth,i.scrollMargin,i.scrollBorder,i.originalOffsets,i.childrenOffsets,i.slideNodeOuterWidths,i.sliderNumber,i.infiniteSliderWidth,i.numberOfSlides,i.centeredSlideOffset,i.settings))})},prevSlide:function(){return this.each(function(){var t=e(this).data("iosslider");if(void 0==t)return!1;var i=(b[t.sliderNumber]+y[t.sliderNumber]+t.numberOfSlides)%t.numberOfSlides;(i>0||t.settings.infiniteSlider)&&k.changeSlide(i-1,e(t.scrollerNode),e(t.slideNodes),g[t.sliderNumber],t.scrollbarClass,t.scrollbarWidth,t.stageWidth,t.scrollbarStageWidth,t.scrollMargin,t.scrollBorder,t.originalOffsets,t.childrenOffsets,t.slideNodeOuterWidths,t.sliderNumber,t.infiniteSliderWidth,t.numberOfSlides,t.centeredSlideOffset,t.settings),b[t.sliderNumber]=i})},nextSlide:function(){return this.each(function(){var t=e(this).data("iosslider");if(void 0==t)return!1;var i=(b[t.sliderNumber]+y[t.sliderNumber]+t.numberOfSlides)%t.numberOfSlides;(i<t.childrenOffsets.length-1||t.settings.infiniteSlider)&&k.changeSlide(i+1,e(t.scrollerNode),e(t.slideNodes),g[t.sliderNumber],t.scrollbarClass,t.scrollbarWidth,t.stageWidth,t.scrollbarStageWidth,t.scrollMargin,t.scrollBorder,t.originalOffsets,t.childrenOffsets,t.slideNodeOuterWidths,t.sliderNumber,t.infiniteSliderWidth,t.numberOfSlides,t.centeredSlideOffset,t.settings),b[t.sliderNumber]=i})},lock:function(){return this.each(function(){var t=e(this).data("iosslider");return void 0==t?!1:(e(t.scrollerNode).css({cursor:"default"}),void(C[t.sliderNumber]=!0))})},unlock:function(){return this.each(function(){var t=e(this).data("iosslider");return void 0==t?!1:(e(t.scrollerNode).css({cursor:u}),void(C[t.sliderNumber]=!1))})},getData:function(){return this.each(function(){var t=e(this).data("iosslider");return void 0==t?!1:t})},autoSlidePause:function(){return this.each(function(){var t=e(this).data("iosslider");return void 0==t?!1:(m[t.sliderNumber].autoSlide=!1,k.autoSlidePause(t.sliderNumber),t)})},autoSlidePlay:function(){return this.each(function(){var t=e(this).data("iosslider");return void 0==t?!1:(m[t.sliderNumber].autoSlide=!0,k.autoSlide(e(t.scrollerNode),e(t.slideNodes),g[t.sliderNumber],t.scrollbarClass,t.scrollbarWidth,t.stageWidth,t.scrollbarStageWidth,t.scrollMargin,t.scrollBorder,t.originalOffsets,t.childrenOffsets,t.slideNodeOuterWidths,t.sliderNumber,t.infiniteSliderWidth,t.numberOfSlides,t.centeredSlideOffset,t.settings),t)})}};e.fn.iosSlider=function(t){return T[t]?T[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("invalid method call!"):T.init.apply(this,arguments)}}(jQuery),function(e,t,i){!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)}(function(s){"use strict";function n(e,t,i,n){this.id=i,this.target=e,this.tooltip=q,this.elements={target:e},this._id=R+"-"+i,this.timers={img:{}},this.options=t,this.plugins={},this.cache={event:{},target:s(),disabled:j,attr:n,onTooltip:j,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=j}function o(e){return e===q||"object"!==s.type(e)}function r(e){return!(s.isFunction(e)||e&&e.attr||e.length||"object"===s.type(e)&&(e.jquery||e.then))}function a(e){var t,i,n,a;return o(e)?j:(o(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&(t=e.content,o(t)||t.jquery||t.done?t=e.content={text:i=r(t)?j:t}:i=t.text,"ajax"in t&&(n=t.ajax,a=n&&n.once!==j,delete t.ajax,t.text=function(e,t){var o=i||s(this).attr(t.options.content.attr)||"Loading...",r=s.ajax(s.extend({},n,{context:t})).then(n.success,q,n.error).then(function(e){return e&&a&&t.set("content.text",e),e},function(e,i,s){t.destroyed||0===e.status||t.set("content.text",i+": "+s)});return a?o:(t.set("content.text",o),r)}),"title"in t&&(o(t.title)||(t.button=t.title.button,t.title=t.title.text),r(t.title||j)&&(t.title=j))),"position"in e&&o(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&o(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===A?{ready:A}:{event:e.show}),"hide"in e&&o(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&o(e.style)&&(e.style={classes:e.style}),s.each(Q,function(){this.sanitize&&this.sanitize(e)}),e)}function l(e,t){for(var i,s=0,n=e,o=t.split(".");n=n[o[s++]];)o.length>s&&(i=n);return[i||e,o.pop()]}function c(e,t){var i,s,n;for(i in this.checks)for(s in this.checks[i])(n=RegExp(s,"i").exec(e))&&(t.push(n),("builtin"===i||this.plugins[i])&&this.checks[i][s].apply(this.plugins[i]||this,t))}function d(e){return Y.concat("").join(e?"-"+e+" ":" ")}function h(i){return i&&{type:i.type,pageX:i.pageX,pageY:i.pageY,target:i.target,relatedTarget:i.relatedTarget,scrollX:i.scrollX||e.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft,scrollY:i.scrollY||e.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop}||{}}function u(e,t){return t>0?setTimeout(s.proxy(e,this),t):(e.call(this),i)}function p(e){return this.tooltip.hasClass(tt)?j:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=u.call(this,function(){this.toggle(A,e)},this.options.show.delay),i)}function f(e){if(this.tooltip.hasClass(tt))return j;var t=s(e.relatedTarget),i=t.closest(U)[0]===this.tooltip[0],n=t[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==t[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(i||n))try{e.preventDefault(),e.stopImmediatePropagation()}catch(o){}else this.timers.hide=u.call(this,function(){this.toggle(j,e)},this.options.hide.delay,this)}function m(e){return this.tooltip.hasClass(tt)||!this.options.hide.inactive?j:(clearTimeout(this.timers.inactive),this.timers.inactive=u.call(this,function(){this.hide(e)},this.options.hide.inactive),i)}function v(e){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}function g(e,i,n){s(t.body).delegate(e,(i.split?i:i.join(lt+" "))+lt,function(){var e=k.api[s.attr(this,V)];e&&!e.disabled&&n.apply(e,arguments)})}function b(e,i,o){var r,l,c,d,h,u=s(t.body),p=e[0]===t?u:e,f=e.metadata?e.metadata(o.metadata):q,m="html5"===o.metadata.type&&f?f[o.metadata.name]:q,v=e.data(o.metadata.name||"qtipopts");try{v="string"==typeof v?s.parseJSON(v):v}catch(g){}if(d=s.extend(A,{},k.defaults,o,"object"==typeof v?a(v):q,a(m||f)),l=d.position,d.id=i,"boolean"==typeof d.content.text){if(c=e.attr(d.content.attr),d.content.attr===j||!c)return j;d.content.text=c}if(l.container.length||(l.container=u),l.target===j&&(l.target=p),d.show.target===j&&(d.show.target=p),d.show.solo===A&&(d.show.solo=l.container.closest("body")),d.hide.target===j&&(d.hide.target=p),d.position.viewport===A&&(d.position.viewport=l.container),l.container=l.container.eq(0),l.at=new E(l.at,A),l.my=new E(l.my),e.data(R))if(d.overwrite)e.qtip("destroy",!0);else if(d.overwrite===j)return j;return e.attr(X,i),d.suppress&&(h=e.attr("title"))&&e.removeAttr("title").attr(st,h).attr("title",""),r=new n(e,d,i,!!c),e.data(R,r),e.one("remove.qtip-"+i+" removeqtip.qtip-"+i,function(){var e;(e=s(this).data(R))&&e.destroy(!0)}),r}function _(e){return e.charAt(0).toUpperCase()+e.slice(1)}function y(e,t){var s,n,o=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+_t.join(o+" ")+o).split(" "),a=0;if(bt[t])return e.css(bt[t]);for(;s=r[a++];)if((n=e.css(s))!==i)return bt[t]=s,n}function w(e,t){return Math.ceil(parseFloat(y(e,t)))}function S(e,t){this._ns="tip",this.options=t,this.offset=t.offset,this.size=[t.width,t.height],this.init(this.qtip=e)}function x(e,t){this.options=t,this._ns="-modal",this.init(this.qtip=e)}function C(e){this._ns="ie6",this.init(this.qtip=e)}var k,T,E,N,O,A=!0,j=!1,q=null,M="x",I="y",$="width",P="height",D="top",W="left",z="bottom",L="right",H="center",F="flipinvert",B="shift",Q={},R="qtip",X="data-hasqtip",V="data-qtip-id",Y=["ui-widget","ui-tooltip"],U="."+R,G="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),K=R+"-fixed",J=R+"-default",Z=R+"-focus",et=R+"-hover",tt=R+"-disabled",it="_replacedByqTip",st="oldtitle",nt={ie:function(){for(var e=3,i=t.createElement("div");(i.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];);return e>4?e:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||j};T=n.prototype,T._when=function(e){return s.when.apply(s,e)},T.render=function(e){if(this.rendered||this.destroyed)return this;var t,i=this,n=this.options,o=this.cache,r=this.elements,a=n.content.text,l=n.content.title,c=n.content.button,d=n.position,h=("."+this._id+" ",[]);return s.attr(this.target[0],"aria-describedby",this._id),this.tooltip=r.tooltip=t=s("<div/>",{id:this._id,"class":[R,J,n.style.classes,R+"-pos-"+n.position.my.abbrev()].join(" "),width:n.style.width||"",height:n.style.height||"",tracking:"mouse"===d.target&&d.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":j,"aria-describedby":this._id+"-content","aria-hidden":A}).toggleClass(tt,this.disabled).attr(V,this.id).data(R,this).appendTo(d.container).append(r.content=s("<div />",{"class":R+"-content",id:this._id+"-content","aria-atomic":A})),this.rendered=-1,this.positioning=A,l&&(this._createTitle(),s.isFunction(l)||h.push(this._updateTitle(l,j))),c&&this._createButton(),s.isFunction(a)||h.push(this._updateContent(a,j)),this.rendered=A,this._setWidget(),s.each(Q,function(e){var t;"render"===this.initialize&&(t=this(i))&&(i.plugins[e]=t)}),this._unassignEvents(),this._assignEvents(),this._when(h).then(function(){i._trigger("render"),i.positioning=j,i.hiddenDuringWait||!n.show.ready&&!e||i.toggle(A,o.event,j),i.hiddenDuringWait=j}),k.api[this.id]=this,this},T.destroy=function(e){function t(){if(!this.destroyed){this.destroyed=A;var e=this.target,t=e.attr(st);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),s.each(this.plugins,function(){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),e.removeData(R).removeAttr(V).removeAttr(X).removeAttr("aria-describedby"),this.options.suppress&&t&&e.attr("title",t).removeAttr(st),this._unbind(e),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=q,delete k.api[this.id]}}return this.destroyed?this.target:(e===A&&"hide"!==this.triggering||!this.rendered?t.call(this):(this.tooltip.one("tooltiphidden",s.proxy(t,this)),!this.triggering&&this.hide()),this.target)},N=T.checks={builtin:{"^id$":function(e,t,i,n){var o=i===A?k.nextid:i,r=R+"-"+o;o!==j&&o.length>0&&!s("#"+r).length?(this._id=r,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):e[t]=n},"^prerender":function(e,t,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(e,t,i){this._updateContent(i)},"^content.attr$":function(e,t,i,s){this.options.content.text===this.target.attr(s)&&this._updateContent(this.target.attr(i))},"^content.title$":function(e,t,s){return s?(s&&!this.elements.title&&this._createTitle(),this._updateTitle(s),i):this._removeTitle()},"^content.button$":function(e,t,i){this._updateButton(i)},"^content.title.(text|button)$":function(e,t,i){this.set("content."+t,i)},"^position.(my|at)$":function(e,t,i){"string"==typeof i&&(e[t]=new E(i,"at"===t))},"^position.container$":function(e,t,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(e,t,i){i&&(!this.rendered&&this.render(A)||this.toggle(A))},"^style.classes$":function(e,t,i,s){this.rendered&&this.tooltip.removeClass(s).addClass(i)},"^style.(width|height)":function(e,t,i){this.rendered&&this.tooltip.css(t,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(e,t,i){this.rendered&&this.tooltip.toggleClass(J,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(e,t,i){this.rendered&&this.tooltip[(s.isFunction(i)?"":"un")+"bind"]("tooltip"+t,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var e=this.options.position;this.tooltip.attr("tracking","mouse"===e.target&&e.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},T.get=function(e){if(this.destroyed)return this;var t=l(this.options,e.toLowerCase()),i=t[0][t[1]];return i.precedance?i.string():i};var ot=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,rt=/^prerender|show\.ready/i;T.set=function(e,t){if(this.destroyed)return this;var n,o=this.rendered,r=j,d=this.options;return this.checks,"string"==typeof e?(n=e,e={},e[n]=t):e=s.extend({},e),s.each(e,function(t,n){if(o&&rt.test(t))return delete e[t],i;var a,c=l(d,t.toLowerCase());a=c[0][c[1]],c[0][c[1]]=n&&n.nodeType?s(n):n,r=ot.test(t)||r,e[t]=[c[0],c[1],n,a]}),a(d),this.positioning=A,s.each(e,s.proxy(c,this)),this.positioning=j,this.rendered&&this.tooltip[0].offsetWidth>0&&r&&this.reposition("mouse"===d.position.target?q:this.cache.event),this},T._update=function(e,t){var i=this,n=this.cache;return this.rendered&&e?(s.isFunction(e)&&(e=e.call(this.elements.target,n.event,this)||""),s.isFunction(e.then)?(n.waiting=A,e.then(function(e){return n.waiting=j,i._update(e,t)},q,function(e){return i._update(e,t)})):e===j||!e&&""!==e?j:(e.jquery&&e.length>0?t.empty().append(e.css({display:"block",visibility:"visible"})):t.html(e),this._waitForContent(t).then(function(e){e.images&&e.images.length&&i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(n.event,!e.length)}))):j},T._waitForContent=function(e){var t=this.cache;return t.waiting=A,(s.fn.imagesLoaded?e.imagesLoaded():s.Deferred().resolve([])).done(function(){t.waiting=j}).promise()},T._updateContent=function(e,t){this._update(e,this.elements.content,t)},T._updateTitle=function(e,t){this._update(e,this.elements.title,t)===j&&this._removeTitle(j)},T._createTitle=function(){var e=this.elements,t=this._id+"-title";e.titlebar&&this._removeTitle(),e.titlebar=s("<div />",{"class":R+"-titlebar "+(this.options.style.widget?d("header"):"")}).append(e.title=s("<div />",{id:t,"class":R+"-title","aria-atomic":A})).insertBefore(e.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){s(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(e){s(this).toggleClass("ui-state-hover","mouseover"===e.type)}),this.options.content.button&&this._createButton()},T._removeTitle=function(e){var t=this.elements;t.title&&(t.titlebar.remove(),t.titlebar=t.title=t.button=q,e!==j&&this.reposition())},T.reposition=function(i,n){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=A;var o,r,a=this.cache,l=this.tooltip,c=this.options.position,d=c.target,h=c.my,u=c.at,p=c.viewport,f=c.container,m=c.adjust,v=m.method.split(" "),g=l.outerWidth(j),b=l.outerHeight(j),_=0,y=0,w=l.css("position"),S={left:0,top:0},x=l[0].offsetWidth>0,C=i&&"scroll"===i.type,k=s(e),T=f[0].ownerDocument,E=this.mouse;if(s.isArray(d)&&2===d.length)u={x:W,y:D},S={left:d[0],top:d[1]};else if("mouse"===d)u={x:W,y:D},!E||!E.pageX||!m.mouse&&i&&i.pageX?i&&i.pageX||((!m.mouse||this.options.show.distance)&&a.origin&&a.origin.pageX?i=a.origin:(!i||i&&("resize"===i.type||"scroll"===i.type))&&(i=a.event)):i=E,"static"!==w&&(S=f.offset()),T.body.offsetWidth!==(e.innerWidth||T.documentElement.clientWidth)&&(r=s(t.body).offset()),S={left:i.pageX-S.left+(r&&r.left||0),top:i.pageY-S.top+(r&&r.top||0)},m.mouse&&C&&E&&(S.left-=(E.scrollX||0)-k.scrollLeft(),S.top-=(E.scrollY||0)-k.scrollTop());else{if("event"===d?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?a.target=s(i.target):i.target||(a.target=this.elements.target):"event"!==d&&(a.target=s(d.jquery?d:this.elements.target)),d=a.target,d=s(d).eq(0),0===d.length)return this;d[0]===t||d[0]===e?(_=nt.iOS?e.innerWidth:d.width(),y=nt.iOS?e.innerHeight:d.height(),d[0]===e&&(S={top:(p||d).scrollTop(),left:(p||d).scrollLeft()})):Q.imagemap&&d.is("area")?o=Q.imagemap(this,d,u,Q.viewport?v:j):Q.svg&&d&&d[0].ownerSVGElement?o=Q.svg(this,d,u,Q.viewport?v:j):(_=d.outerWidth(j),y=d.outerHeight(j),S=d.offset()),o&&(_=o.width,y=o.height,r=o.offset,S=o.position),S=this.reposition.offset(d,S,f),(nt.iOS>3.1&&4.1>nt.iOS||nt.iOS>=4.3&&4.33>nt.iOS||!nt.iOS&&"fixed"===w)&&(S.left-=k.scrollLeft(),S.top-=k.scrollTop()),(!o||o&&o.adjustable!==j)&&(S.left+=u.x===L?_:u.x===H?_/2:0,S.top+=u.y===z?y:u.y===H?y/2:0)}return S.left+=m.x+(h.x===L?-g:h.x===H?-g/2:0),S.top+=m.y+(h.y===z?-b:h.y===H?-b/2:0),Q.viewport?(S.adjusted=Q.viewport(this,S,c,_,y,g,b),r&&S.adjusted.left&&(S.left+=r.left),r&&S.adjusted.top&&(S.top+=r.top)):S.adjusted={left:0,top:0},this._trigger("move",[S,p.elem||p],i)?(delete S.adjusted,n===j||!x||isNaN(S.left)||isNaN(S.top)||"mouse"===d||!s.isFunction(c.effect)?l.css(S):s.isFunction(c.effect)&&(c.effect.call(l,this,s.extend({},S)),l.queue(function(e){s(this).css({opacity:"",height:""}),nt.ie&&this.style.removeAttribute("filter"),e()})),this.positioning=j,this):this},T.reposition.offset=function(e,i,n){function o(e,t){i.left+=t*e.scrollLeft(),i.top+=t*e.scrollTop()}if(!n[0])return i;var r,a,l,c,d=s(e[0].ownerDocument),h=!!nt.ie&&"CSS1Compat"!==t.compatMode,u=n[0];do"static"!==(a=s.css(u,"position"))&&("fixed"===a?(l=u.getBoundingClientRect(),o(d,-1)):(l=s(u).position(),l.left+=parseFloat(s.css(u,"borderLeftWidth"))||0,l.top+=parseFloat(s.css(u,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(s.css(u,"marginLeft"))||0),i.top-=l.top+(parseFloat(s.css(u,"marginTop"))||0),r||"hidden"===(c=s.css(u,"overflow"))||"visible"===c||(r=s(u)));while(u=u.offsetParent);return r&&(r[0]!==d[0]||h)&&o(r,1),i};var at=(E=T.reposition.Corner=function(e,t){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,H).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!t;var i=e.charAt(0);this.precedance="t"===i||"b"===i?I:M}).prototype;at.invert=function(e,t){this[e]=this[e]===W?L:this[e]===L?W:t||this[e]},at.string=function(){var e=this.x,t=this.y;return e===t?e:this.precedance===I||this.forceY&&"center"!==t?t+" "+e:e+" "+t},at.abbrev=function(){var e=this.string().split(" ");return e[0].charAt(0)+(e[1]&&e[1].charAt(0)||"")},at.clone=function(){return new E(this.string(),this.forceY)},T.toggle=function(e,i){var n=this.cache,o=this.options,r=this.tooltip;if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(n.event.type)&&o.show.target.add(i.target).length===o.show.target.length&&r.has(i.relatedTarget).length)return this;n.event=h(i)}if(this.waiting&&!e&&(this.hiddenDuringWait=A),!this.rendered)return e?this.render(1):this;if(this.destroyed||this.disabled)return this;var a,l,c,d=e?"show":"hide",u=this.options[d],p=(this.options[e?"hide":"show"],this.options.position),f=this.options.content,m=this.tooltip.css("width"),v=this.tooltip.is(":visible"),g=e||1===u.target.length,b=!i||2>u.target.length||n.target[0]===i.target;return(typeof e).search("boolean|number")&&(e=!v),a=!r.is(":animated")&&v===e&&b,l=a?q:!!this._trigger(d,[90]),this.destroyed?this:(l!==j&&e&&this.focus(i),!l||a?this:(s.attr(r[0],"aria-hidden",!e),e?(n.origin=h(this.mouse),s.isFunction(f.text)&&this._updateContent(f.text,j),s.isFunction(f.title)&&this._updateTitle(f.title,j),!O&&"mouse"===p.target&&p.adjust.mouse&&(s(t).bind("mousemove."+R,this._storeMouse),O=A),m||r.css("width",r.outerWidth(j)),this.reposition(i,arguments[2]),m||r.css("width",""),u.solo&&("string"==typeof u.solo?s(u.solo):s(U,u.solo)).not(r).not(u.target).qtip("hide",s.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete n.origin,O&&!s(U+'[tracking="true"]:visible',u.solo).not(r).length&&(s(t).unbind("mousemove."+R),O=j),this.blur(i)),c=s.proxy(function(){e?(nt.ie&&r[0].style.removeAttribute("filter"),r.css("overflow",""),"string"==typeof u.autofocus&&s(this.options.show.autofocus,r).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):r.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(e?"visible":"hidden")},this),u.effect===j||g===j?(r[d](),c()):s.isFunction(u.effect)?(r.stop(1,1),u.effect.call(r,this),r.queue("fx",function(e){c(),e()})):r.fadeTo(90,e?1:0,c),e&&u.target.trigger("qtip-"+this.id+"-inactive"),this))},T.show=function(e){return this.toggle(A,e)},T.hide=function(e){return this.toggle(j,e)},T.focus=function(e){if(!this.rendered||this.destroyed)return this;var t=s(U),i=this.tooltip,n=parseInt(i[0].style.zIndex,10),o=k.zindex+t.length;return i.hasClass(Z)||this._trigger("focus",[o],e)&&(n!==o&&(t.each(function(){this.style.zIndex>n&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+Z).qtip("blur",e)),i.addClass(Z)[0].style.zIndex=o),this},T.blur=function(e){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(Z),this._trigger("blur",[this.tooltip.css("zIndex")],e),this)},T.disable=function(e){return this.destroyed?this:("toggle"===e?e=!(this.rendered?this.tooltip.hasClass(tt):this.disabled):"boolean"!=typeof e&&(e=A),this.rendered&&this.tooltip.toggleClass(tt,e).attr("aria-disabled",e),this.disabled=!!e,this)},T.enable=function(){return this.disable(j)},T._createButton=function(){var e=this,t=this.elements,i=t.tooltip,n=this.options.content.button,o="string"==typeof n,r=o?n:"Close tooltip";t.button&&t.button.remove(),t.button=n.jquery?n:s("<a />",{"class":"qtip-close "+(this.options.style.widget?"":R+"-icon"),title:r,"aria-label":r}).prepend(s("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),t.button.appendTo(t.titlebar||i).attr("role","button").click(function(t){return i.hasClass(tt)||e.hide(t),j
})},T._updateButton=function(e){if(!this.rendered)return j;var t=this.elements.button;e?this._createButton():t.remove()},T._setWidget=function(){var e=this.options.style.widget,t=this.elements,i=t.tooltip,s=i.hasClass(tt);i.removeClass(tt),tt=e?"ui-state-disabled":"qtip-disabled",i.toggleClass(tt,s),i.toggleClass("ui-helper-reset "+d(),e).toggleClass(J,this.options.style.def&&!e),t.content&&t.content.toggleClass(d("content"),e),t.titlebar&&t.titlebar.toggleClass(d("header"),e),t.button&&t.button.toggleClass(R+"-icon",!e)},T._storeMouse=function(e){(this.mouse=h(e)).type="mousemove"},T._bind=function(e,t,i,n,o){var r="."+this._id+(n?"-"+n:"");t.length&&s(e).bind((t.split?t:t.join(r+" "))+r,s.proxy(i,o||this))},T._unbind=function(e,t){s(e).unbind("."+this._id+(t?"-"+t:""))};var lt="."+R;s(function(){g(U,["mouseenter","mouseleave"],function(e){var t="mouseenter"===e.type,i=s(e.currentTarget),n=s(e.relatedTarget||e.target),o=this.options;t?(this.focus(e),i.hasClass(K)&&!i.hasClass(tt)&&clearTimeout(this.timers.hide)):"mouse"===o.position.target&&o.hide.event&&o.show.target&&!n.closest(o.show.target[0]).length&&this.hide(e),i.toggleClass(et,t)}),g("["+V+"]",G,m)}),T._trigger=function(e,t,i){var n=s.Event("tooltip"+e);return n.originalEvent=i&&s.extend({},i)||this.cache.event||q,this.triggering=e,this.tooltip.trigger(n,[this].concat(t||[])),this.triggering=j,!n.isDefaultPrevented()},T._bindEvents=function(e,t,n,o,r,a){if(o.add(n).length===o.length){var l=[];t=s.map(t,function(t){var n=s.inArray(t,e);return n>-1?(l.push(e.splice(n,1)[0]),i):t}),l.length&&this._bind(n,l,function(e){var t=this.rendered?this.tooltip[0].offsetWidth>0:!1;(t?a:r).call(this,e)})}this._bind(n,e,r),this._bind(o,t,a)},T._assignInitialEvents=function(e){function t(e){return this.disabled||this.destroyed?j:(this.cache.event=h(e),this.cache.target=e?s(e.target):[i],clearTimeout(this.timers.show),this.timers.show=u.call(this,function(){this.render("object"==typeof e||n.show.ready)},n.show.delay),i)}var n=this.options,o=n.show.target,r=n.hide.target,a=n.show.event?s.trim(""+n.show.event).split(" "):[],l=n.hide.event?s.trim(""+n.hide.event).split(" "):[];/mouse(over|enter)/i.test(n.show.event)&&!/mouse(out|leave)/i.test(n.hide.event)&&l.push("mouseleave"),this._bind(o,"mousemove",function(e){this._storeMouse(e),this.cache.onTarget=A}),this._bindEvents(a,l,o,r,t,function(){clearTimeout(this.timers.show)}),(n.show.ready||n.prerender)&&t.call(this,e)},T._assignEvents=function(){var i=this,n=this.options,o=n.position,r=this.tooltip,a=n.show.target,l=n.hide.target,c=o.container,d=o.viewport,h=s(t),u=(s(t.body),s(e)),g=n.show.event?s.trim(""+n.show.event).split(" "):[],b=n.hide.event?s.trim(""+n.hide.event).split(" "):[];s.each(n.events,function(e,t){i._bind(r,"toggle"===e?["tooltipshow","tooltiphide"]:["tooltip"+e],t,null,r)}),/mouse(out|leave)/i.test(n.hide.event)&&"window"===n.hide.leave&&this._bind(h,["mouseout","blur"],function(e){/select|option/.test(e.target.nodeName)||e.relatedTarget||this.hide(e)}),n.hide.fixed?l=l.add(r.addClass(K)):/mouse(over|enter)/i.test(n.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+n.hide.event).indexOf("unfocus")>-1&&this._bind(c.closest("html"),["mousedown","touchstart"],function(e){var t=s(e.target),i=this.rendered&&!this.tooltip.hasClass(tt)&&this.tooltip[0].offsetWidth>0,n=t.parents(U).filter(this.tooltip[0]).length>0;t[0]===this.target[0]||t[0]===this.tooltip[0]||n||this.target.has(t[0]).length||!i||this.hide(e)}),"number"==typeof n.hide.inactive&&(this._bind(a,"qtip-"+this.id+"-inactive",m),this._bind(l.add(r),k.inactiveEvents,m,"-inactive")),this._bindEvents(g,b,a,l,p,f),this._bind(a.add(r),"mousemove",function(e){if("number"==typeof n.hide.distance){var t=this.cache.origin||{},i=this.options.hide.distance,s=Math.abs;(s(e.pageX-t.pageX)>=i||s(e.pageY-t.pageY)>=i)&&this.hide(e)}this._storeMouse(e)}),"mouse"===o.target&&o.adjust.mouse&&(n.hide.event&&this._bind(a,["mouseenter","mouseleave"],function(e){this.cache.onTarget="mouseenter"===e.type}),this._bind(h,"mousemove",function(e){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(tt)&&this.tooltip[0].offsetWidth>0&&this.reposition(e)})),(o.adjust.resize||d.length)&&this._bind(s.event.special.resize?d:u,"resize",v),o.adjust.scroll&&this._bind(u.add(o.container),"scroll",v)},T._unassignEvents=function(){var i=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],e,t];this._unbind(s([]).pushStack(s.grep(i,function(e){return"object"==typeof e})))},k=s.fn.qtip=function(e,t,n){var o=(""+e).toLowerCase(),r=q,l=s.makeArray(arguments).slice(1),c=l[l.length-1],d=this[0]?s.data(this[0],R):q;return!arguments.length&&d||"api"===o?d:"string"==typeof e?(this.each(function(){var e=s.data(this,R);if(!e)return A;if(c&&c.timeStamp&&(e.cache.event=c),!t||"option"!==o&&"options"!==o)e[o]&&e[o].apply(e,l);else{if(n===i&&!s.isPlainObject(t))return r=e.get(t),j;e.set(t,n)}}),r!==q?r:this):"object"!=typeof e&&arguments.length?i:(d=a(s.extend(A,{},e)),this.each(function(e){var t,n;return n=s.isArray(d.id)?d.id[e]:d.id,n=!n||n===j||1>n.length||k.api[n]?k.nextid++:n,t=b(s(this),n,d),t===j?A:(k.api[n]=t,s.each(Q,function(){"initialize"===this.initialize&&this(t)}),t._assignInitialEvents(c),i)}))},s.qtip=n,k.api={},s.each({attr:function(e,t){if(this.length){var i=this[0],n="title",o=s.data(i,"qtip");if(e===n&&o&&"object"==typeof o&&o.options.suppress)return 2>arguments.length?s.attr(i,st):(o&&o.options.content.attr===n&&o.cache.attr&&o.set("content.text",t),this.attr(st,t))}return s.fn["attr"+it].apply(this,arguments)},clone:function(e){var t=(s([]),s.fn["clone"+it].apply(this,arguments));return e||t.filter("["+st+"]").attr("title",function(){return s.attr(this,st)}).removeAttr(st),t}},function(e,t){if(!t||s.fn[e+it])return A;var i=s.fn[e+it]=s.fn[e];s.fn[e]=function(){return t.apply(this,arguments)||i.apply(this,arguments)}}),s.ui||(s["cleanData"+it]=s.cleanData,s.cleanData=function(e){for(var t,i=0;(t=s(e[i])).length;i++)if(t.attr(X))try{t.triggerHandler("removeqtip")}catch(n){}s["cleanData"+it].apply(this,arguments)}),k.version="2.2.0",k.nextid=0,k.inactiveEvents=G,k.zindex=15e3,k.defaults={prerender:j,id:j,overwrite:A,suppress:A,content:{text:A,attr:"title",title:j,button:j},position:{my:"top left",at:"bottom right",target:j,container:j,viewport:j,adjust:{x:0,y:0,mouse:A,scroll:A,resize:A,method:"flipinvert flipinvert"},effect:function(e,t){s(this).animate(t,{duration:200,queue:j})}},show:{target:j,event:"mouseenter",effect:A,delay:90,solo:j,ready:j,autofocus:j},hide:{target:j,event:"mouseleave",effect:A,delay:0,fixed:j,inactive:j,leave:"window",distance:j},style:{classes:"",widget:j,width:j,height:j,def:A},events:{render:q,move:q,show:q,hide:q,toggle:q,visible:q,hidden:q,focus:q,blur:q}};var ct,dt="margin",ht="border",ut="color",pt="background-color",ft="transparent",mt=" !important",vt=!!t.createElement("canvas").getContext,gt=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,bt={},_t=["Webkit","O","Moz","ms"];if(vt)var yt=e.devicePixelRatio||1,wt=function(){var e=t.createElement("canvas").getContext("2d");return e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1}(),St=yt/wt;else var xt=function(e,t,i){return"<qtipvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'};s.extend(S.prototype,{init:function(e){var t,i;i=this.element=e.elements.tip=s("<div />",{"class":R+"-tip"}).prependTo(e.tooltip),vt?(t=s("<canvas />").appendTo(this.element)[0].getContext("2d"),t.lineJoin="miter",t.miterLimit=1e5,t.save()):(t=xt("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(t+t),e._bind(s("*",i).add(i),["click","mousedown"],function(e){e.stopPropagation()},this._ns)),e._bind(e.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(e){var t=this.qtip.elements.titlebar;return t&&(e.y===D||e.y===H&&this.element.position().top+this.size[1]/2+this.options.offset<t.outerHeight(A))},_parseCorner:function(e){var t=this.qtip.options.position.my;return e===j||t===j?e=j:e===A?e=new E(t.string()):e.string||(e=new E(e),e.fixed=A),e},_parseWidth:function(e,t,i){var s=this.qtip.elements,n=ht+_(t)+"Width";return(i?w(i,n):w(s.content,n)||w(this._useTitle(e)&&s.titlebar||s.content,n)||w(s.tooltip,n))||0},_parseRadius:function(e){var t=this.qtip.elements,i=ht+_(e.y)+_(e.x)+"Radius";return 9>nt.ie?0:w(this._useTitle(e)&&t.titlebar||t.content,i)||w(t.tooltip,i)||0},_invalidColour:function(e,t,i){var s=e.css(t);return!s||i&&s===e.css(i)||gt.test(s)?j:s},_parseColours:function(e){var t=this.qtip.elements,i=this.element.css("cssText",""),n=ht+_(e[e.precedance])+_(ut),o=this._useTitle(e)&&t.titlebar||t.content,r=this._invalidColour,a=[];return a[0]=r(i,pt)||r(o,pt)||r(t.content,pt)||r(t.tooltip,pt)||i.css(pt),a[1]=r(i,n,ut)||r(o,n,ut)||r(t.content,n,ut)||r(t.tooltip,n,ut)||t.tooltip.css(n),s("*",i).add(i).css("cssText",pt+":"+ft+mt+";"+ht+":0"+mt+";"),a},_calculateSize:function(e){var t,i,s,n=e.precedance===I,o=this.options.width,r=this.options.height,a="c"===e.abbrev(),l=(n?o:r)*(a?.5:1),c=Math.pow,d=Math.round,h=Math.sqrt(c(l,2)+c(r,2)),u=[this.border/l*h,this.border/r*h];return u[2]=Math.sqrt(c(u[0],2)-c(this.border,2)),u[3]=Math.sqrt(c(u[1],2)-c(this.border,2)),t=h+u[2]+u[3]+(a?0:u[0]),i=t/h,s=[d(i*o),d(i*r)],n?s:s.reverse()},_calculateTip:function(e,t,i){i=i||1,t=t||this.size;var s=t[0]*i,n=t[1]*i,o=Math.ceil(s/2),r=Math.ceil(n/2),a={br:[0,0,s,n,s,0],bl:[0,0,s,0,0,n],tr:[0,n,s,0,s,n],tl:[0,0,0,n,s,n],tc:[0,n,o,0,s,n],bc:[0,0,s,0,o,n],rc:[0,0,s,r,0,n],lc:[s,0,s,n,0,r]};return a.lt=a.br,a.rt=a.bl,a.lb=a.tr,a.rb=a.tl,a[e.abbrev()]},_drawCoords:function(e,t){e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.lineTo(t[4],t[5]),e.closePath()},create:function(){var e=this.corner=(vt||nt.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=e.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(t,i){if(!this.enabled)return this;var n,o,r,a,l,c,d,h,u=this.qtip.elements,p=this.element,f=p.children(),m=this.options,v=this.size,g=m.mimic,b=Math.round;t||(t=this.qtip.cache.corner||this.corner),g===j?g=t:(g=new E(g),g.precedance=t.precedance,"inherit"===g.x?g.x=t.x:"inherit"===g.y?g.y=t.y:g.x===g.y&&(g[t.precedance]=t[t.precedance])),o=g.precedance,t.precedance===M?this._swapDimensions():this._resetDimensions(),n=this.color=this._parseColours(t),n[1]!==ft?(h=this.border=this._parseWidth(t,t[t.precedance]),m.border&&1>h&&!gt.test(n[1])&&(n[0]=n[1]),this.border=h=m.border!==A?m.border:h):this.border=h=0,d=this.size=this._calculateSize(t),p.css({width:d[0],height:d[1],lineHeight:d[1]+"px"}),c=t.precedance===I?[b(g.x===W?h:g.x===L?d[0]-v[0]-h:(d[0]-v[0])/2),b(g.y===D?d[1]-v[1]:0)]:[b(g.x===W?d[0]-v[0]:0),b(g.y===D?h:g.y===z?d[1]-v[1]-h:(d[1]-v[1])/2)],vt?(r=f[0].getContext("2d"),r.restore(),r.save(),r.clearRect(0,0,6e3,6e3),a=this._calculateTip(g,v,St),l=this._calculateTip(g,this.size,St),f.attr($,d[0]*St).attr(P,d[1]*St),f.css($,d[0]).css(P,d[1]),this._drawCoords(r,l),r.fillStyle=n[1],r.fill(),r.translate(c[0]*St,c[1]*St),this._drawCoords(r,a),r.fillStyle=n[0],r.fill()):(a=this._calculateTip(g),a="m"+a[0]+","+a[1]+" l"+a[2]+","+a[3]+" "+a[4]+","+a[5]+" xe",c[2]=h&&/^(r|b)/i.test(t.string())?8===nt.ie?2:1:0,f.css({coordsize:d[0]+h+" "+(d[1]+h),antialias:""+(g.string().indexOf(H)>-1),left:c[0]-c[2]*Number(o===M),top:c[1]-c[2]*Number(o===I),width:d[0]+h,height:d[1]+h}).each(function(e){var t=s(this);t[t.prop?"prop":"attr"]({coordsize:d[0]+h+" "+(d[1]+h),path:a,fillcolor:n[0],filled:!!e,stroked:!e}).toggle(!(!h&&!e)),!e&&t.html(xt("stroke",'weight="'+2*h+'px" color="'+n[1]+'" miterlimit="1000" joinstyle="miter"'))})),e.opera&&setTimeout(function(){u.tip.css({display:"inline-block",visibility:"visible"})},1),i!==j&&this.calculate(t,d)},calculate:function(e,t){if(!this.enabled)return j;var i,n,o=this,r=this.qtip.elements,a=this.element,l=this.options.offset,c=(r.tooltip.hasClass("ui-widget"),{});return e=e||this.corner,i=e.precedance,t=t||this._calculateSize(e),n=[e.x,e.y],i===M&&n.reverse(),s.each(n,function(s,n){var a,d,h;n===H?(a=i===I?W:D,c[a]="50%",c[dt+"-"+a]=-Math.round(t[i===I?0:1]/2)+l):(a=o._parseWidth(e,n,r.tooltip),d=o._parseWidth(e,n,r.content),h=o._parseRadius(e),c[n]=Math.max(-o.border,s?d:l+(h>a?h:-a)))}),c[e[i]]-=t[i===M?0:1],a.css({margin:"",top:"",bottom:"",left:"",right:""}).css(c),c},reposition:function(e,t,s){function n(e,t,i,s,n){e===B&&c.precedance===t&&d[s]&&c[i]!==H?c.precedance=c.precedance===M?I:M:e!==B&&d[s]&&(c[t]=c[t]===H?d[s]>0?s:n:c[t]===s?n:s)}function o(e,t,n){c[e]===H?m[dt+"-"+t]=f[e]=r[dt+"-"+t]-d[t]:(a=r[n]!==i?[d[t],-r[t]]:[-d[t],r[t]],(f[e]=Math.max(a[0],a[1]))>a[0]&&(s[t]-=d[t],f[t]=j),m[r[n]!==i?n:t]=f[e])}if(this.enabled){var r,a,l=t.cache,c=this.corner.clone(),d=s.adjusted,h=t.options.position.adjust.method.split(" "),u=h[0],p=h[1]||h[0],f={left:j,top:j,x:0,y:0},m={};this.corner.fixed!==A&&(n(u,M,I,W,L),n(p,I,M,D,z),c.string()===l.corner.string()||l.cornerTop===d.top&&l.cornerLeft===d.left||this.update(c,j)),r=this.calculate(c),r.right!==i&&(r.left=-r.right),r.bottom!==i&&(r.top=-r.bottom),r.user=this.offset,(f.left=u===B&&!!d.left)&&o(M,W,L),(f.top=p===B&&!!d.top)&&o(I,D,z),this.element.css(m).toggle(!(f.x&&f.y||c.x===H&&f.y||c.y===H&&f.x)),s.left-=r.left.charAt?r.user:u!==B||f.top||!f.left&&!f.top?r.left+this.border:0,s.top-=r.top.charAt?r.user:p!==B||f.left||!f.left&&!f.top?r.top+this.border:0,l.cornerLeft=d.left,l.cornerTop=d.top,l.corner=c.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),ct=Q.tip=function(e){return new S(e,e.options.style.tip)},ct.initialize="render",ct.sanitize=function(e){if(e.style&&"tip"in e.style){var t=e.style.tip;"object"!=typeof t&&(t=e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=A)}},N.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(e){this.size=[e.width,e.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},s.extend(A,k.defaults,{style:{tip:{corner:A,mimic:j,width:6,height:6,border:A,offset:0}}});var Ct,kt,Tt="qtip-modal",Et="."+Tt;kt=function(){function e(e){if(s.expr[":"].focusable)return s.expr[":"].focusable;var t,i,n,o=!isNaN(s.attr(e,"tabindex")),r=e.nodeName&&e.nodeName.toLowerCase();return"area"===r?(t=e.parentNode,i=t.name,e.href&&i&&"map"===t.nodeName.toLowerCase()?(n=s("img[usemap=#"+i+"]")[0],!!n&&n.is(":visible")):!1):/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||o:o}function i(e){1>d.length&&e.length?e.not("body").blur():d.first().focus()}function n(e){if(l.is(":visible")){var t,n=s(e.target),a=o.tooltip,c=n.closest(U);t=1>c.length?j:parseInt(c[0].style.zIndex,10)>parseInt(a[0].style.zIndex,10),t||n.closest(U)[0]===a[0]||i(n),r=e.target===d[d.length-1]}}var o,r,a,l,c=this,d={};s.extend(c,{init:function(){return l=c.elem=s("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return j}}).hide(),s(t.body).bind("focusin"+Et,n),s(t).bind("keydown"+Et,function(e){o&&o.options.show.modal.escape&&27===e.keyCode&&o.hide(e)}),l.bind("click"+Et,function(e){o&&o.options.show.modal.blur&&o.hide(e)}),c},update:function(t){o=t,d=t.options.show.modal.stealfocus!==j?t.tooltip.find("*").filter(function(){return e(this)}):[]},toggle:function(e,n,r){var d=(s(t.body),e.tooltip),h=e.options.show.modal,u=h.effect,p=n?"show":"hide",f=l.is(":visible"),m=s(Et).filter(":visible:not(:animated)").not(d);return c.update(e),n&&h.stealfocus!==j&&i(s(":focus")),l.toggleClass("blurs",h.blur),n&&l.appendTo(t.body),l.is(":animated")&&f===n&&a!==j||!n&&m.length?c:(l.stop(A,j),s.isFunction(u)?u.call(l,n):u===j?l[p]():l.fadeTo(parseInt(r,10)||90,n?1:0,function(){n||l.hide()}),n||l.queue(function(e){l.css({left:"",top:""}),s(Et).length||l.detach(),e()}),a=n,o.destroyed&&(o=q),c)}}),c.init()},kt=new kt,s.extend(x.prototype,{init:function(e){var t=e.tooltip;return this.options.on?(e.elements.overlay=kt.elem,t.addClass(Tt).css("z-index",k.modal_zindex+s(Et).length),e._bind(t,["tooltipshow","tooltiphide"],function(e,i,n){var o=e.originalEvent;if(e.target===t[0])if(o&&"tooltiphide"===e.type&&/mouse(leave|enter)/.test(o.type)&&s(o.relatedTarget).closest(kt.elem[0]).length)try{e.preventDefault()}catch(r){}else(!o||o&&"tooltipsolo"!==o.type)&&this.toggle(e,"tooltipshow"===e.type,n)},this._ns,this),e._bind(t,"tooltipfocus",function(e,i){if(!e.isDefaultPrevented()&&e.target===t[0]){var n=s(Et),o=k.modal_zindex+n.length,r=parseInt(t[0].style.zIndex,10);kt.elem[0].style.zIndex=o-1,n.each(function(){this.style.zIndex>r&&(this.style.zIndex-=1)}),n.filter("."+Z).qtip("blur",e.originalEvent),t.addClass(Z)[0].style.zIndex=o,kt.update(i);try{e.preventDefault()}catch(a){}}},this._ns,this),e._bind(t,"tooltiphide",function(e){e.target===t[0]&&s(Et).filter(":visible").not(t).last().qtip("focus",e)},this._ns,this),i):this},toggle:function(e,t,s){return e&&e.isDefaultPrevented()?this:(kt.toggle(this.qtip,!!t,s),i)},destroy:function(){this.qtip.tooltip.removeClass(Tt),this.qtip._unbind(this.qtip.tooltip,this._ns),kt.toggle(this.qtip,j),delete this.qtip.elements.overlay}}),Ct=Q.modal=function(e){return new x(e,e.options.show.modal)},Ct.sanitize=function(e){e.show&&("object"!=typeof e.show.modal?e.show.modal={on:!!e.show.modal}:e.show.modal.on===i&&(e.show.modal.on=A))},k.modal_zindex=k.zindex-200,Ct.initialize="render",N.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},s.extend(A,k.defaults,{show:{modal:{on:j,effect:A,blur:A,stealfocus:A,escape:A}}}),Q.viewport=function(i,s,n,o,r,a,l){function c(e,t,i,n,o,r,a,l,c){var d=s[o],u=w[e],_=S[e],y=i===B,x=u===o?c:u===r?-c:-c/2,C=_===o?l:_===r?-l:-l/2,k=g[o]+b[o]-(f?0:p[o]),T=k-d,E=d+c-(a===$?m:v)-k,N=x-(w.precedance===e||u===w[t]?C:0)-(_===H?l/2:0);return y?(N=(u===o?1:-1)*x,s[o]+=T>0?T:E>0?-E:0,s[o]=Math.max(-p[o]+b[o],d-N,Math.min(Math.max(-p[o]+b[o]+(a===$?m:v),d+N),s[o],"center"===u?d-x:1e9))):(n*=i===F?2:0,T>0&&(u!==o||E>0)?(s[o]-=N+n,h.invert(e,o)):E>0&&(u!==r||T>0)&&(s[o]-=(u===H?-N:N)+n,h.invert(e,r)),g>s[o]&&-s[o]>E&&(s[o]=d,h=w.clone())),s[o]-d}var d,h,u,p,f,m,v,g,b,_=n.target,y=i.elements.tooltip,w=n.my,S=n.at,x=n.adjust,C=x.method.split(" "),k=C[0],T=C[1]||C[0],E=n.viewport,N=n.container,O=i.cache,A={left:0,top:0};return E.jquery&&_[0]!==e&&_[0]!==t.body&&"none"!==x.method?(p=N.offset()||A,f="static"===N.css("position"),d="fixed"===y.css("position"),m=E[0]===e?E.width():E.outerWidth(j),v=E[0]===e?E.height():E.outerHeight(j),g={left:d?0:E.scrollLeft(),top:d?0:E.scrollTop()},b=E.offset()||A,("shift"!==k||"shift"!==T)&&(h=w.clone()),A={left:"none"!==k?c(M,I,k,x.x,W,L,$,o,a):0,top:"none"!==T?c(I,M,T,x.y,D,z,P,r,l):0},h&&O.lastClass!==(u=R+"-pos-"+h.abbrev())&&y.removeClass(i.cache.lastClass).addClass(i.cache.lastClass=u),A):A},Q.polys={polygon:function(e,t){var i,s,n,o={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:j},r=0,a=[],l=1,c=1,d=0,h=0;for(r=e.length;r--;)i=[parseInt(e[--r],10),parseInt(e[r+1],10)],i[0]>o.position.right&&(o.position.right=i[0]),i[0]<o.position.left&&(o.position.left=i[0]),i[1]>o.position.bottom&&(o.position.bottom=i[1]),i[1]<o.position.top&&(o.position.top=i[1]),a.push(i);if(s=o.width=Math.abs(o.position.right-o.position.left),n=o.height=Math.abs(o.position.bottom-o.position.top),"c"===t.abbrev())o.position={left:o.position.left+o.width/2,top:o.position.top+o.height/2};else{for(;s>0&&n>0&&l>0&&c>0;)for(s=Math.floor(s/2),n=Math.floor(n/2),t.x===W?l=s:t.x===L?l=o.width-s:l+=Math.floor(s/2),t.y===D?c=n:t.y===z?c=o.height-n:c+=Math.floor(n/2),r=a.length;r--&&!(2>a.length);)d=a[r][0]-o.position.left,h=a[r][1]-o.position.top,(t.x===W&&d>=l||t.x===L&&l>=d||t.x===H&&(l>d||d>o.width-l)||t.y===D&&h>=c||t.y===z&&c>=h||t.y===H&&(c>h||h>o.height-c))&&a.splice(r,1);o.position={left:a[0][0],top:a[0][1]}}return o},rect:function(e,t,i,s){return{width:Math.abs(i-e),height:Math.abs(s-t),position:{left:Math.min(e,i),top:Math.min(t,s)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(e,t,i,s,n){var o=Q.polys._angles[n.abbrev()],r=0===o?0:i*Math.cos(o*Math.PI),a=s*Math.sin(o*Math.PI);return{width:2*i-Math.abs(r),height:2*s-Math.abs(a),position:{left:e+r,top:t+a},adjustable:j}},circle:function(e,t,i,s){return Q.polys.ellipse(e,t,i,i,s)}},Q.svg=function(e,i,n){for(var o,r,a,l,c,d,h,u,p,f,m,v=s(t),g=i[0],b=s(g.ownerSVGElement),_=1,y=1,w=!0;!g.getBBox;)g=g.parentNode;if(!g.getBBox||!g.parentNode)return j;o=b.attr("width")||b.width()||parseInt(b.css("width"),10),r=b.attr("height")||b.height()||parseInt(b.css("height"),10);var S=(parseInt(i.css("stroke-width"),10)||0)/2;switch(S&&(_+=S/o,y+=S/r),g.nodeName){case"ellipse":case"circle":f=Q.polys.ellipse(g.cx.baseVal.value,g.cy.baseVal.value,(g.rx||g.r).baseVal.value+S,(g.ry||g.r).baseVal.value+S,n);break;case"line":case"polygon":case"polyline":for(p=g.points||[{x:g.x1.baseVal.value,y:g.y1.baseVal.value},{x:g.x2.baseVal.value,y:g.y2.baseVal.value}],f=[],u=-1,d=p.numberOfItems||p.length;d>++u;)h=p.getItem?p.getItem(u):p[u],f.push.apply(f,[h.x,h.y]);f=Q.polys.polygon(f,n);break;default:f=g.getBoundingClientRect(),f={width:f.width,height:f.height,position:{left:f.left,top:f.top}},w=!1}return m=f.position,b=b[0],w&&(b.createSVGPoint&&(a=g.getScreenCTM(),p=b.createSVGPoint(),p.x=m.left,p.y=m.top,l=p.matrixTransform(a),m.left=l.x,m.top=l.y),b.viewBox&&(c=b.viewBox.baseVal)&&c.width&&c.height&&(_*=o/c.width,y*=r/c.height)),m.left+=v.scrollLeft(),m.top+=v.scrollTop(),f},Q.imagemap=function(e,t,i){t.jquery||(t=s(t));var n,o,r,a,l,c=t.attr("shape").toLowerCase().replace("poly","polygon"),d=s('img[usemap="#'+t.parent("map").attr("name")+'"]'),h=s.trim(t.attr("coords")),u=h.replace(/,$/,"").split(",");if(!d.length)return j;if("polygon"===c)a=Q.polys.polygon(u,i);else{if(!Q.polys[c])return j;for(r=-1,l=u.length,o=[];l>++r;)o.push(parseInt(u[r],10));a=Q.polys[c].apply(this,o.concat(i))}return n=d.offset(),n.left+=Math.ceil((d.outerWidth(j)-d.width())/2),n.top+=Math.ceil((d.outerHeight(j)-d.height())/2),a.position.left+=n.left,a.position.top+=n.top,a};var Nt,Ot='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';s.extend(C.prototype,{_scroll:function(){var t=this.qtip.elements.overlay;t&&(t[0].style.top=s(e).scrollTop()+"px")},init:function(i){var n=i.tooltip;1>s("select, object").length&&(this.bgiframe=i.elements.bgiframe=s(Ot).appendTo(n),i._bind(n,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=s("<div/>",{id:R+"-rcontainer"}).appendTo(t.body),i.elements.overlay&&i.elements.overlay.addClass("qtipmodal-ie6fix")&&(i._bind(e,["scroll","resize"],this._scroll,this._ns,this),i._bind(n,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var e,t,i=this.qtip.tooltip,s={height:i.outerHeight(j),width:i.outerWidth(j)},n=this.qtip.plugins.tip,o=this.qtip.elements.tip;t=parseInt(i.css("borderLeftWidth"),10)||0,t={left:-t,top:-t},n&&o&&(e="x"===n.corner.precedance?[$,W]:[P,D],t[e[1]]-=o[e[0]]()),this.bgiframe.css(t).css(s)},redraw:function(){if(1>this.qtip.rendered||this.drawing)return this;var e,t,i,s,n=this.qtip.tooltip,o=this.qtip.options.style,r=this.qtip.options.position.container;return this.qtip.drawing=1,o.height&&n.css(P,o.height),o.width?n.css($,o.width):(n.css($,"").appendTo(this.redrawContainer),t=n.width(),1>t%2&&(t+=1),i=n.css("maxWidth")||"",s=n.css("minWidth")||"",e=(i+s).indexOf("%")>-1?r.width()/100:0,i=(i.indexOf("%")>-1?e:1)*parseInt(i,10)||t,s=(s.indexOf("%")>-1?e:1)*parseInt(s,10)||0,t=i+s?Math.min(Math.max(t,s),i):t,n.css($,Math.round(t)).appendTo(r)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([e,this.qtip.tooltip],this._ns)}}),Nt=Q.ie6=function(e){return 6===nt.ie?new C(e):j},Nt.initialize="render",N.ie6={"^content|style$":function(){this.redraw()}}})}(window,document),function(e){e.fn.tipr=function(t){var i=e.extend({speed:200,mode:"bottom"},t);return this.each(function(){var t=".tipr_container_"+i.mode;e(this).hover(function(){var s='<div class="tipr_container_'+i.mode+'"><div class="tipr_point_'+i.mode+'"><div class="tipr_content">'+e(this).attr("data-tip")+"</div></div></div>";e(this).append(s);var n=e(t).outerWidth(),o=e(this).width(),r=o/2-n/2;e(t).css("margin-left",r+"px"),e(this).removeAttr("title"),e(t).fadeIn(i.speed)},function(){e(t).remove()})})}}(jQuery),function(e){e.cookie=function(t,i,s){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(i))||null===i||void 0===i)){if(s=e.extend({},s),(null===i||void 0===i)&&(s.expires=-1),"number"==typeof s.expires){var n=s.expires,o=s.expires=new Date;o.setDate(o.getDate()+n)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",s.raw?i:encodeURIComponent(i),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}s=i||{};for(var r,a=s.raw?function(e){return e}:decodeURIComponent,l=document.cookie.split("; "),c=0;r=l[c]&&l[c].split("=");c++)if(a(r[0])===t)return a(r[1]||"");return null}}(jQuery),!function(e){"use strict";e.fn.meanmenu=function(t){var i={meanMenuTarget:jQuery(this),meanMenuContainer:"body",meanMenuClose:"X",meanMenuCloseSize:"18px",meanMenuOpen:"<span /><span /><span />",meanRevealPosition:"right",meanRevealPositionDistance:"0",meanRevealColour:"",meanRevealHoverColour:"",meanScreenWidth:"480",meanNavPush:"",meanShowChildren:!0,meanExpandableChildren:!0,meanExpand:"+",meanContract:"-",meanRemoveAttrs:!1,onePage:!1,removeElements:""},t=e.extend(i,t),s=window.innerWidth||document.documentElement.clientWidth;return this.each(function(){function e(){if("center"==h){var e=window.innerWidth||document.documentElement.clientWidth,t=e/2-22+"px";E="left:"+t+";right:auto;",C?jQuery(".meanmenu-reveal").animate({left:t}):jQuery(".meanmenu-reveal").css("left",t)}}function i(){O.html(jQuery(O).is(".meanmenu-reveal.meanclose")?l:d)}function n(){jQuery(".mean-bar,.mean-push").remove(),jQuery(a).removeClass("mean-container"),jQuery(r).show(),k=!1,T=!1,jQuery(x).removeClass("mean-remove")}function o(){if(f>=s){jQuery(x).addClass("mean-remove"),T=!0,jQuery(a).addClass("mean-container"),jQuery(".mean-container").prepend('<div class="mean-bar"><a href="#nav" class="meanmenu-reveal" style="'+N+'">Show Navigation</a><nav class="mean-nav"></nav></div>');var e=jQuery(r).html();jQuery(".mean-nav").html(e),w&&jQuery("nav.mean-nav ul, nav.mean-nav ul *").each(function(){jQuery(this).removeAttr("class"),jQuery(this).removeAttr("id")}),jQuery(r).before('<div class="mean-push" />'),jQuery(".mean-push").css("margin-top",m),jQuery(r).hide(),jQuery(".meanmenu-reveal").show(),jQuery(v).html(d),O=jQuery(v),jQuery(".mean-nav ul").hide(),g?b?(jQuery(".mean-nav ul ul").each(function(){jQuery(this).children().length&&jQuery(this,"li:first").parent().append('<a class="mean-expand" href="#" style="font-size: '+c+'">'+_+"</a>")}),jQuery(".mean-expand").on("click",function(e){e.preventDefault(),jQuery(this).hasClass("mean-clicked")?(jQuery(this).text(_),jQuery(this).prev("ul").slideUp(300,function(){})):(jQuery(this).text(y),jQuery(this).prev("ul").slideDown(300,function(){})),jQuery(this).toggleClass("mean-clicked")})):jQuery(".mean-nav ul ul").show():jQuery(".mean-nav ul ul").hide(),jQuery(".mean-nav ul li").last().addClass("mean-last"),O.removeClass("meanclose"),jQuery(O).click(function(e){e.preventDefault(),0==k?(O.css("text-align","center"),O.css("text-indent","0"),O.css("font-size",c),jQuery(".mean-nav ul:first").slideDown(),k=!0):(jQuery(".mean-nav ul:first").slideUp(),k=!1),O.toggleClass("meanclose"),i(),jQuery(x).addClass("mean-remove")}),S&&jQuery(".mean-nav ul > li > a:first-child").on("click",function(){jQuery(".mean-nav ul:first").slideUp(),k=!1,jQuery(O).toggleClass("meanclose").html(d)})}else n()}var r=t.meanMenuTarget,a=t.meanMenuContainer;t.meanReveal;var l=t.meanMenuClose,c=t.meanMenuCloseSize,d=t.meanMenuOpen,h=t.meanRevealPosition,u=t.meanRevealPositionDistance,p=t.meanRevealColour;t.meanRevealHoverColour;var f=t.meanScreenWidth,m=t.meanNavPush,v=".meanmenu-reveal",g=t.meanShowChildren,b=t.meanExpandableChildren,_=t.meanExpand,y=t.meanContract,w=t.meanRemoveAttrs,S=t.onePage,x=t.removeElements;if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/Blackberry/i)||navigator.userAgent.match(/Windows Phone/i))var C=!0;(navigator.userAgent.match(/MSIE 8/i)||navigator.userAgent.match(/MSIE 7/i))&&jQuery("html").css("overflow-y","scroll");var k=!1,T=!1;if("right"==h&&(E="right:"+u+";left:auto;"),"left"==h)var E="left:"+u+";right:auto;";e();var N="background:"+p+";color:"+p+";"+E,O="";C||jQuery(window).resize(function(){s=window.innerWidth||document.documentElement.clientWidth,s>f,n(),f>=s?(o(),e()):n()}),window.onorientationchange=function(){e(),s=window.innerWidth||document.documentElement.clientWidth,s>=f&&n(),f>=s&&0==T&&o()},o()})}}(jQuery),function(e){e.flexslider=function(t,i){var s=e(t);s.vars=e.extend({},e.flexslider.defaults,i);var n,o=s.vars.namespace,r=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,a=("ontouchstart"in window||r||window.DocumentTouch&&document instanceof DocumentTouch)&&s.vars.touch,l="click touchend MSPointerUp",c="",d="vertical"===s.vars.direction,h=s.vars.reverse,u=s.vars.itemWidth>0,p="fade"===s.vars.animation,f=""!==s.vars.asNavFor,m={},v=!0;e.data(t,"flexslider",s),m={init:function(){s.animating=!1,s.currentSlide=parseInt(s.vars.startAt?s.vars.startAt:0,10),isNaN(s.currentSlide)&&(s.currentSlide=0),s.animatingTo=s.currentSlide,s.atEnd=0===s.currentSlide||s.currentSlide===s.last,s.containerSelector=s.vars.selector.substr(0,s.vars.selector.search(" ")),s.slides=e(s.vars.selector,s),s.container=e(s.containerSelector,s),s.count=s.slides.length,s.syncExists=e(s.vars.sync).length>0,"slide"===s.vars.animation&&(s.vars.animation="swing"),s.prop=d?"top":"marginLeft",s.args={},s.manualPause=!1,s.stopped=!1,s.started=!1,s.startTimeout=null,s.transitions=!s.vars.video&&!p&&s.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return s.pfx=t[i].replace("Perspective","").toLowerCase(),s.prop="-"+s.pfx+"-transform",!0;return!1}(),s.ensureAnimationEnd="",""!==s.vars.controlsContainer&&(s.controlsContainer=e(s.vars.controlsContainer).length>0&&e(s.vars.controlsContainer)),""!==s.vars.manualControls&&(s.manualControls=e(s.vars.manualControls).length>0&&e(s.vars.manualControls)),s.vars.randomize&&(s.slides.sort(function(){return Math.round(Math.random())-.5}),s.container.empty().append(s.slides)),s.doMath(),s.setup("init"),s.vars.controlNav&&m.controlNav.setup(),s.vars.directionNav&&m.directionNav.setup(),s.vars.keyboard&&(1===e(s.containerSelector).length||s.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!s.animating&&(39===t||37===t)){var i=39===t?s.getTarget("next"):37===t?s.getTarget("prev"):!1;
s.flexAnimate(i,s.vars.pauseOnAction)}}),s.vars.mousewheel&&s.bind("mousewheel",function(e,t){e.preventDefault();var i=s.getTarget(0>t?"next":"prev");s.flexAnimate(i,s.vars.pauseOnAction)}),s.vars.pausePlay&&m.pausePlay.setup(),s.vars.slideshow&&s.vars.pauseInvisible&&m.pauseInvisible.init(),s.vars.slideshow&&(s.vars.pauseOnHover&&s.hover(function(){s.manualPlay||s.manualPause||s.pause()},function(){s.manualPause||s.manualPlay||s.stopped||s.play()}),s.vars.pauseInvisible&&m.pauseInvisible.isHidden()||(s.vars.initDelay>0?s.startTimeout=setTimeout(s.play,s.vars.initDelay):s.play())),f&&m.asNav.setup(),a&&s.vars.touch&&m.touch(),(!p||p&&s.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",m.resize),s.find("img").attr("draggable","false"),setTimeout(function(){s.vars.start(s)},200)},asNav:{setup:function(){s.asNav=!0,s.animatingTo=Math.floor(s.currentSlide/s.move),s.currentItem=s.currentSlide,s.slides.removeClass(o+"active-slide").eq(s.currentItem).addClass(o+"active-slide"),r?(t._slider=s,s.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var i=e(this),n=i.index();e(s.vars.asNavFor).data("flexslider").animating||i.hasClass("active")||(s.direction=s.currentItem<n?"next":"prev",s.flexAnimate(n,s.vars.pauseOnAction,!1,!0,!0))})})):s.slides.on(l,function(t){t.preventDefault();var i=e(this),n=i.index(),r=i.offset().left-e(s).scrollLeft();0>=r&&i.hasClass(o+"active-slide")?s.flexAnimate(s.getTarget("prev"),!0):e(s.vars.asNavFor).data("flexslider").animating||i.hasClass(o+"active-slide")||(s.direction=s.currentItem<n?"next":"prev",s.flexAnimate(n,s.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){s.manualControls?m.controlNav.setupManual():m.controlNav.setupPaging()},setupPaging:function(){var t,i,n="thumbnails"===s.vars.controlNav?"control-thumbs":"control-paging",r=1;if(s.controlNavScaffold=e('<ol class="'+o+"control-nav "+o+n+'"></ol>'),s.pagingCount>1)for(var a=0;a<s.pagingCount;a++){if(i=s.slides.eq(a),t="thumbnails"===s.vars.controlNav?'<img src="'+i.attr("data-thumb")+'"/>':"<a>"+r+"</a>","thumbnails"===s.vars.controlNav&&!0===s.vars.thumbCaptions){var d=i.attr("data-thumbcaption");""!=d&&void 0!=d&&(t+='<span class="'+o+'caption">'+d+"</span>")}s.controlNavScaffold.append("<li>"+t+"</li>"),r++}s.controlsContainer?e(s.controlsContainer).append(s.controlNavScaffold):s.append(s.controlNavScaffold),m.controlNav.set(),m.controlNav.active(),s.controlNavScaffold.delegate("a, img",l,function(t){if(t.preventDefault(),""===c||c===t.type){var i=e(this),n=s.controlNav.index(i);i.hasClass(o+"active")||(s.direction=n>s.currentSlide?"next":"prev",s.flexAnimate(n,s.vars.pauseOnAction))}""===c&&(c=t.type),m.setToClearWatchedEvent()})},setupManual:function(){s.controlNav=s.manualControls,m.controlNav.active(),s.controlNav.bind(l,function(t){if(t.preventDefault(),""===c||c===t.type){var i=e(this),n=s.controlNav.index(i);i.hasClass(o+"active")||(s.direction=n>s.currentSlide?"next":"prev",s.flexAnimate(n,s.vars.pauseOnAction))}""===c&&(c=t.type),m.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===s.vars.controlNav?"img":"a";s.controlNav=e("."+o+"control-nav li "+t,s.controlsContainer?s.controlsContainer:s)},active:function(){s.controlNav.removeClass(o+"active").eq(s.animatingTo).addClass(o+"active")},update:function(t,i){s.pagingCount>1&&"add"===t?s.controlNavScaffold.append(e("<li><a>"+s.count+"</a></li>")):1===s.pagingCount?s.controlNavScaffold.find("li").remove():s.controlNav.eq(i).closest("li").remove(),m.controlNav.set(),s.pagingCount>1&&s.pagingCount!==s.controlNav.length?s.update(i,t):m.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+o+'direction-nav"><li><a class="'+o+'prev" href="#">'+s.vars.prevText+'</a></li><li><a class="'+o+'next" href="#">'+s.vars.nextText+"</a></li></ul>");s.controlsContainer?(e(s.controlsContainer).append(t),s.directionNav=e("."+o+"direction-nav li a",s.controlsContainer)):(s.append(t),s.directionNav=e("."+o+"direction-nav li a",s)),m.directionNav.update(),s.directionNav.bind(l,function(t){t.preventDefault();var i;(""===c||c===t.type)&&(i=s.getTarget(e(this).hasClass(o+"next")?"next":"prev"),s.flexAnimate(i,s.vars.pauseOnAction)),""===c&&(c=t.type),m.setToClearWatchedEvent()})},update:function(){var e=o+"disabled";1===s.pagingCount?s.directionNav.addClass(e).attr("tabindex","-1"):s.vars.animationLoop?s.directionNav.removeClass(e).removeAttr("tabindex"):0===s.animatingTo?s.directionNav.removeClass(e).filter("."+o+"prev").addClass(e).attr("tabindex","-1"):s.animatingTo===s.last?s.directionNav.removeClass(e).filter("."+o+"next").addClass(e).attr("tabindex","-1"):s.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+o+'pauseplay"><a></a></div>');s.controlsContainer?(s.controlsContainer.append(t),s.pausePlay=e("."+o+"pauseplay a",s.controlsContainer)):(s.append(t),s.pausePlay=e("."+o+"pauseplay a",s)),m.pausePlay.update(s.vars.slideshow?o+"pause":o+"play"),s.pausePlay.bind(l,function(t){t.preventDefault(),(""===c||c===t.type)&&(e(this).hasClass(o+"pause")?(s.manualPause=!0,s.manualPlay=!1,s.pause()):(s.manualPause=!1,s.manualPlay=!0,s.play())),""===c&&(c=t.type),m.setToClearWatchedEvent()})},update:function(e){"play"===e?s.pausePlay.removeClass(o+"pause").addClass(o+"play").html(s.vars.playText):s.pausePlay.removeClass(o+"play").addClass(o+"pause").html(s.vars.pauseText)}},touch:function(){function e(e){s.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(s.pause(),v=d?s.h:s.w,b=Number(new Date),y=e.touches[0].pageX,w=e.touches[0].pageY,m=u&&h&&s.animatingTo===s.last?0:u&&h?s.limit-(s.itemW+s.vars.itemMargin)*s.move*s.animatingTo:u&&s.currentSlide===s.last?s.limit:u?(s.itemW+s.vars.itemMargin)*s.move*s.currentSlide:h?(s.last-s.currentSlide+s.cloneOffset)*v:(s.currentSlide+s.cloneOffset)*v,c=d?w:y,f=d?y:w,t.addEventListener("touchmove",i,!1),t.addEventListener("touchend",n,!1))}function i(e){y=e.touches[0].pageX,w=e.touches[0].pageY,g=d?c-w:c-y,_=d?Math.abs(g)<Math.abs(y-f):Math.abs(g)<Math.abs(w-f);var t=500;(!_||Number(new Date)-b>t)&&(e.preventDefault(),!p&&s.transitions&&(s.vars.animationLoop||(g/=0===s.currentSlide&&0>g||s.currentSlide===s.last&&g>0?Math.abs(g)/v+2:1),s.setProps(m+g,"setTouch")))}function n(){if(t.removeEventListener("touchmove",i,!1),s.animatingTo===s.currentSlide&&!_&&null!==g){var e=h?-g:g,o=s.getTarget(e>0?"next":"prev");s.canAdvance(o)&&(Number(new Date)-b<550&&Math.abs(e)>50||Math.abs(e)>v/2)?s.flexAnimate(o,s.vars.pauseOnAction):p||s.flexAnimate(s.currentSlide,s.vars.pauseOnAction,!0)}t.removeEventListener("touchend",n,!1),c=null,f=null,g=null,m=null}function o(e){e.stopPropagation(),s.animating?e.preventDefault():(s.pause(),t._gesture.addPointer(e.pointerId),S=0,v=d?s.h:s.w,b=Number(new Date),m=u&&h&&s.animatingTo===s.last?0:u&&h?s.limit-(s.itemW+s.vars.itemMargin)*s.move*s.animatingTo:u&&s.currentSlide===s.last?s.limit:u?(s.itemW+s.vars.itemMargin)*s.move*s.currentSlide:h?(s.last-s.currentSlide+s.cloneOffset)*v:(s.currentSlide+s.cloneOffset)*v)}function a(e){e.stopPropagation();var i=e.target._slider;if(i){var s=-e.translationX,n=-e.translationY;return S+=d?n:s,g=S,_=d?Math.abs(S)<Math.abs(-s):Math.abs(S)<Math.abs(-n),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){t._gesture.stop()}):void((!_||Number(new Date)-b>500)&&(e.preventDefault(),!p&&i.transitions&&(i.vars.animationLoop||(g=S/(0===i.currentSlide&&0>S||i.currentSlide===i.last&&S>0?Math.abs(S)/v+2:1)),i.setProps(m+g,"setTouch"))))}}function l(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!_&&null!==g){var i=h?-g:g,s=t.getTarget(i>0?"next":"prev");t.canAdvance(s)&&(Number(new Date)-b<550&&Math.abs(i)>50||Math.abs(i)>v/2)?t.flexAnimate(s,t.vars.pauseOnAction):p||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}c=null,f=null,g=null,m=null,S=0}}var c,f,m,v,g,b,_=!1,y=0,w=0,S=0;r?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",o,!1),t._slider=s,t.addEventListener("MSGestureChange",a,!1),t.addEventListener("MSGestureEnd",l,!1)):t.addEventListener("touchstart",e,!1)},resize:function(){!s.animating&&s.is(":visible")&&(u||s.doMath(),p?m.smoothHeight():u?(s.slides.width(s.computedW),s.update(s.pagingCount),s.setProps()):d?(s.viewport.height(s.h),s.setProps(s.h,"setTotal")):(s.vars.smoothHeight&&m.smoothHeight(),s.newSlides.width(s.computedW),s.setProps(s.computedW,"setTotal")))},smoothHeight:function(e){if(!d||p){var t=p?s:s.viewport;e?t.animate({height:s.slides.eq(s.animatingTo).height()},e):t.height(s.slides.eq(s.animatingTo).height())}},sync:function(t){var i=e(s.vars.sync).data("flexslider"),n=s.animatingTo;switch(t){case"animate":i.flexAnimate(n,s.vars.pauseOnAction,!1,!0);break;case"play":i.playing||i.asNav||i.play();break;case"pause":i.pause()}},uniqueID:function(t){return t.find("[id]").each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(m.pauseInvisible.visProp=e[t]+"Hidden");if(m.pauseInvisible.visProp){var i=m.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(i,function(){m.pauseInvisible.isHidden()?s.startTimeout?clearTimeout(s.startTimeout):s.pause():s.started?s.play():s.vars.initDelay>0?setTimeout(s.play,s.vars.initDelay):s.play()})}},isHidden:function(){return document[m.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(n),n=setTimeout(function(){c=""},3e3)}},s.flexAnimate=function(t,i,n,r,l){if(s.vars.animationLoop||t===s.currentSlide||(s.direction=t>s.currentSlide?"next":"prev"),f&&1===s.pagingCount&&(s.direction=s.currentItem<t?"next":"prev"),!s.animating&&(s.canAdvance(t,l)||n)&&s.is(":visible")){if(f&&r){var c=e(s.vars.asNavFor).data("flexslider");if(s.atEnd=0===t||t===s.count-1,c.flexAnimate(t,!0,!1,!0,l),s.direction=s.currentItem<t?"next":"prev",c.direction=s.direction,Math.ceil((t+1)/s.visible)-1===s.currentSlide||0===t)return s.currentItem=t,s.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),!1;s.currentItem=t,s.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),t=Math.floor(t/s.visible)}if(s.animating=!0,s.animatingTo=t,i&&s.pause(),s.vars.before(s),s.syncExists&&!l&&m.sync("animate"),s.vars.controlNav&&m.controlNav.active(),u||s.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),s.atEnd=0===t||t===s.last,s.vars.directionNav&&m.directionNav.update(),t===s.last&&(s.vars.end(s),s.vars.animationLoop||s.pause()),p)a?(s.slides.eq(s.currentSlide).css({opacity:0,zIndex:1}),s.slides.eq(t).css({opacity:1,zIndex:2}),s.wrapup(_)):(s.slides.eq(s.currentSlide).css({zIndex:1}).animate({opacity:0},s.vars.animationSpeed,s.vars.easing),s.slides.eq(t).css({zIndex:2}).animate({opacity:1},s.vars.animationSpeed,s.vars.easing,s.wrapup));else{var v,g,b,_=d?s.slides.filter(":first").height():s.computedW;u?(v=s.vars.itemMargin,b=(s.itemW+v)*s.move*s.animatingTo,g=b>s.limit&&1!==s.visible?s.limit:b):g=0===s.currentSlide&&t===s.count-1&&s.vars.animationLoop&&"next"!==s.direction?h?(s.count+s.cloneOffset)*_:0:s.currentSlide===s.last&&0===t&&s.vars.animationLoop&&"prev"!==s.direction?h?0:(s.count+1)*_:h?(s.count-1-t+s.cloneOffset)*_:(t+s.cloneOffset)*_,s.setProps(g,"",s.vars.animationSpeed),s.transitions?(s.vars.animationLoop&&s.atEnd||(s.animating=!1,s.currentSlide=s.animatingTo),s.container.unbind("webkitTransitionEnd transitionend"),s.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(s.ensureAnimationEnd),s.wrapup(_)}),clearTimeout(s.ensureAnimationEnd),s.ensureAnimationEnd=setTimeout(function(){s.wrapup(_)},s.vars.animationSpeed+100)):s.container.animate(s.args,s.vars.animationSpeed,s.vars.easing,function(){s.wrapup(_)})}s.vars.smoothHeight&&m.smoothHeight(s.vars.animationSpeed)}},s.wrapup=function(e){p||u||(0===s.currentSlide&&s.animatingTo===s.last&&s.vars.animationLoop?s.setProps(e,"jumpEnd"):s.currentSlide===s.last&&0===s.animatingTo&&s.vars.animationLoop&&s.setProps(e,"jumpStart")),s.animating=!1,s.currentSlide=s.animatingTo,s.vars.after(s)},s.animateSlides=function(){!s.animating&&v&&s.flexAnimate(s.getTarget("next"))},s.pause=function(){clearInterval(s.animatedSlides),s.animatedSlides=null,s.playing=!1,s.vars.pausePlay&&m.pausePlay.update("play"),s.syncExists&&m.sync("pause")},s.play=function(){s.playing&&clearInterval(s.animatedSlides),s.animatedSlides=s.animatedSlides||setInterval(s.animateSlides,s.vars.slideshowSpeed),s.started=s.playing=!0,s.vars.pausePlay&&m.pausePlay.update("pause"),s.syncExists&&m.sync("play")},s.stop=function(){s.pause(),s.stopped=!0},s.canAdvance=function(e,t){var i=f?s.pagingCount-1:s.last;return t?!0:f&&s.currentItem===s.count-1&&0===e&&"prev"===s.direction?!0:f&&0===s.currentItem&&e===s.pagingCount-1&&"next"!==s.direction?!1:e!==s.currentSlide||f?s.vars.animationLoop?!0:s.atEnd&&0===s.currentSlide&&e===i&&"next"!==s.direction?!1:s.atEnd&&s.currentSlide===i&&0===e&&"next"===s.direction?!1:!0:!1},s.getTarget=function(e){return s.direction=e,"next"===e?s.currentSlide===s.last?0:s.currentSlide+1:0===s.currentSlide?s.last:s.currentSlide-1},s.setProps=function(e,t,i){var n=function(){var i=e?e:(s.itemW+s.vars.itemMargin)*s.move*s.animatingTo,n=function(){if(u)return"setTouch"===t?e:h&&s.animatingTo===s.last?0:h?s.limit-(s.itemW+s.vars.itemMargin)*s.move*s.animatingTo:s.animatingTo===s.last?s.limit:i;switch(t){case"setTotal":return h?(s.count-1-s.currentSlide+s.cloneOffset)*e:(s.currentSlide+s.cloneOffset)*e;case"setTouch":return h?e:e;case"jumpEnd":return h?e:s.count*e;case"jumpStart":return h?s.count*e:e;default:return e}}();return-1*n+"px"}();s.transitions&&(n=d?"translate3d(0,"+n+",0)":"translate3d("+n+",0,0)",i=void 0!==i?i/1e3+"s":"0s",s.container.css("-"+s.pfx+"-transition-duration",i),s.container.css("transition-duration",i)),s.args[s.prop]=n,(s.transitions||void 0===i)&&s.container.css(s.args),s.container.css("transform",n)},s.setup=function(t){if(p)s.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(a?s.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+s.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(s.currentSlide).css({opacity:1,zIndex:2}):s.slides.css({opacity:0,display:"block",zIndex:1}).eq(s.currentSlide).css({zIndex:2}).animate({opacity:1},s.vars.animationSpeed,s.vars.easing)),s.vars.smoothHeight&&m.smoothHeight();else{var i,n;"init"===t&&(s.viewport=e('<div class="'+o+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(s).append(s.container),s.cloneCount=0,s.cloneOffset=0,h&&(n=e.makeArray(s.slides).reverse(),s.slides=e(n),s.container.empty().append(s.slides))),s.vars.animationLoop&&!u&&(s.cloneCount=2,s.cloneOffset=1,"init"!==t&&s.container.find(".clone").remove(),m.uniqueID(s.slides.first().clone().addClass("clone").attr("aria-hidden","true")).appendTo(s.container),m.uniqueID(s.slides.last().clone().addClass("clone").attr("aria-hidden","true")).prependTo(s.container)),s.newSlides=e(s.vars.selector,s),i=h?s.count-1-s.currentSlide+s.cloneOffset:s.currentSlide+s.cloneOffset,d&&!u?(s.container.height(200*(s.count+s.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){s.newSlides.css({display:"block"}),s.doMath(),s.viewport.height(s.h),s.setProps(i*s.h,"init")},"init"===t?100:0)):(s.container.width(200*(s.count+s.cloneCount)+"%"),s.setProps(i*s.computedW,"init"),setTimeout(function(){s.doMath(),s.newSlides.css({width:s.computedW,"float":"left",display:"block"}),s.vars.smoothHeight&&m.smoothHeight()},"init"===t?100:0))}u||s.slides.removeClass(o+"active-slide").eq(s.currentSlide).addClass(o+"active-slide"),s.vars.init(s)},s.doMath=function(){var e=s.slides.first(),t=s.vars.itemMargin,i=s.vars.minItems,n=s.vars.maxItems;s.w=void 0===s.viewport?s.width():s.viewport.width(),s.h=e.height(),s.boxPadding=e.outerWidth()-e.width(),u?(s.itemT=s.vars.itemWidth+t,s.minW=i?i*s.itemT:s.w,s.maxW=n?n*s.itemT-t:s.w,s.itemW=s.minW>s.w?(s.w-t*(i-1))/i:s.maxW<s.w?(s.w-t*(n-1))/n:s.vars.itemWidth>s.w?s.w:s.vars.itemWidth,s.visible=Math.floor(s.w/s.itemW),s.move=s.vars.move>0&&s.vars.move<s.visible?s.vars.move:s.visible,s.pagingCount=Math.ceil((s.count-s.visible)/s.move+1),s.last=s.pagingCount-1,s.limit=1===s.pagingCount?0:s.vars.itemWidth>s.w?s.itemW*(s.count-1)+t*(s.count-1):(s.itemW+t)*s.count-s.w-t):(s.itemW=s.w,s.pagingCount=s.count,s.last=s.count-1),s.computedW=s.itemW-s.boxPadding},s.update=function(e,t){s.doMath(),u||(e<s.currentSlide?s.currentSlide+=1:e<=s.currentSlide&&0!==e&&(s.currentSlide-=1),s.animatingTo=s.currentSlide),s.vars.controlNav&&!s.manualControls&&("add"===t&&!u||s.pagingCount>s.controlNav.length?m.controlNav.update("add"):("remove"===t&&!u||s.pagingCount<s.controlNav.length)&&(u&&s.currentSlide>s.last&&(s.currentSlide-=1,s.animatingTo-=1),m.controlNav.update("remove",s.last))),s.vars.directionNav&&m.directionNav.update()},s.addSlide=function(t,i){var n=e(t);s.count+=1,s.last=s.count-1,d&&h?void 0!==i?s.slides.eq(s.count-i).after(n):s.container.prepend(n):void 0!==i?s.slides.eq(i).before(n):s.container.append(n),s.update(i,"add"),s.slides=e(s.vars.selector+":not(.clone)",s),s.setup(),s.vars.added(s)},s.removeSlide=function(t){var i=isNaN(t)?s.slides.index(e(t)):t;s.count-=1,s.last=s.count-1,isNaN(t)?e(t,s.slides).remove():d&&h?s.slides.eq(s.last).remove():s.slides.eq(t).remove(),s.doMath(),s.update(i,"remove"),s.slides=e(s.vars.selector+":not(.clone)",s),s.setup(),s.vars.removed(s)},m.init()},e(window).blur(function(){focused=!1}).focus(function(){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var i=e(this),s=t.selector?t.selector:".slides > li",n=i.find(s);1===n.length&&t.allowOneSlide===!0||0===n.length?(n.fadeIn(400),t.start&&t.start(i)):void 0===i.data("flexslider")&&new e.flexslider(this,t)});var i=e(this).data("flexslider");switch(t){case"play":i.play();break;case"pause":i.pause();break;case"stop":i.stop();break;case"next":i.flexAnimate(i.getTarget("next"),!0);break;case"prev":case"previous":i.flexAnimate(i.getTarget("prev"),!0);break;default:"number"==typeof t&&i.flexAnimate(t,!0)}}}(jQuery),function(e,t,i){"use strict";function s(i){if(n=t.documentElement,o=t.body,Q(),rt=this,i=i||{},ht=i.constants||{},i.easing)for(var s in i.easing)V[s]=i.easing[s];bt=i.edgeStrategy||"set",ct={beforerender:i.beforerender,render:i.render},dt=i.forceHeight!==!1,dt&&(It=i.scale||1),ut=i.mobileDeceleration||C,ft=i.smoothScrolling!==!1,mt=i.smoothScrollingDuration||k,vt={targetTop:rt.getScrollTop()},Ft=(i.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),Ft?(lt=t.getElementById("skrollr-body"),lt&&ot(),Y(),Nt(n,[b,w],[_])):Nt(n,[b,y],[_]),rt.refresh(),wt(e,"resize orientationchange",function(){var e=n.clientWidth,t=n.clientHeight;(t!==zt||e!==Wt)&&(zt=t,Wt=e,Lt=!0)});var r=R();return function a(){K(),yt=r(a)}(),rt}var n,o,r={get:function(){return rt},init:function(e){return rt||new s(e)},VERSION:"0.6.22"},a=Object.prototype.hasOwnProperty,l=e.Math,c=e.getComputedStyle,d="touchstart",h="touchmove",u="touchcancel",p="touchend",f="skrollable",m=f+"-before",v=f+"-between",g=f+"-after",b="skrollr",_="no-"+b,y=b+"-desktop",w=b+"-mobile",S="linear",x=1e3,C=.004,k=200,T="start",E="end",N="center",O="bottom",A="___skrollable_id",j=/^(?:input|textarea|button|select)$/i,q=/^\s+|\s+$/g,M=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,I=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,$=/^([a-z\-]+)\[(\w+)\]$/,P=/-([a-z])/g,D=function(e,t){return t.toUpperCase()},W=/[\-+]?[\d]*\.?[\d]+/g,z=/\{\?\}/g,L=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,H=/[a-z\-]+-gradient/g,F="",B="",Q=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(c){var t=c(o,null);for(var i in t)if(F=i.match(e)||+i==i&&t[i].match(e))break;if(!F)return void(F=B="");F=F[0],"-"===F.slice(0,1)?(B=F,F={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[F]):B="-"+F.toLowerCase()+"-"}},R=function(){var t=e.requestAnimationFrame||e[F.toLowerCase()+"RequestAnimationFrame"],i=jt();return(Ft||!t)&&(t=function(t){var s=jt()-i,n=l.max(0,1e3/60-s);return e.setTimeout(function(){i=jt(),t()},n)}),t},X=function(){var t=e.cancelAnimationFrame||e[F.toLowerCase()+"CancelAnimationFrame"];return(Ft||!t)&&(t=function(t){return e.clearTimeout(t)}),t},V={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-l.cos(e*l.PI)/2+.5},sqrt:function(e){return l.sqrt(e)},outCubic:function(e){return l.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-l.abs(3*l.cos(e*t*1.028)/t)}};s.prototype.refresh=function(e){var s,n,o=!1;for(e===i?(o=!0,at=[],Ht=0,e=t.getElementsByTagName("*")):e=[].concat(e),s=0,n=e.length;n>s;s++){var r=e[s],a=r,l=[],c=ft,d=bt;if(r.attributes){for(var h=0,u=r.attributes.length;u>h;h++){var p=r.attributes[h];if("data-anchor-target"!==p.name)if("data-smooth-scrolling"!==p.name)if("data-edge-strategy"!==p.name){var m=p.name.match(M);if(null!==m){var v={props:p.value,element:r};l.push(v);var g=m[1];g&&(v.constant=g.substr(1));var b=m[2];/p$/.test(b)?(v.isPercentage=!0,v.offset=(0|b.slice(0,-1))/100):v.offset=0|b;var _=m[3],y=m[4]||_;_&&_!==T&&_!==E?(v.mode="relative",v.anchors=[_,y]):(v.mode="absolute",_===E?v.isEnd=!0:v.isPercentage||(v.offset=v.offset*It))}}else d=p.value;else c="off"!==p.value;else if(a=t.querySelector(p.value),null===a)throw'Unable to find anchor target "'+p.value+'"'}if(l.length){var w,S,x;!o&&A in r?(x=r[A],w=at[x].styleAttr,S=at[x].classAttr):(x=r[A]=Ht++,w=r.style.cssText,S=Et(r)),at[x]={element:r,styleAttr:w,classAttr:S,anchorTarget:a,keyFrames:l,smoothScrolling:c,edgeStrategy:d},Nt(r,[f],[])}}}for(Ct(),s=0,n=e.length;n>s;s++){var C=at[e[s][A]];C!==i&&(J(C),et(C))}return rt},s.prototype.relativeToAbsolute=function(e,t,i){var s=n.clientHeight,o=e.getBoundingClientRect(),r=o.top,a=o.bottom-o.top;return t===O?r-=s:t===N&&(r-=s/2),i===O?r+=a:i===N&&(r+=a/2),r+=rt.getScrollTop(),r+.5|0},s.prototype.animateTo=function(e,t){t=t||{};var s=jt(),n=rt.getScrollTop();return pt={startTop:n,topDiff:e-n,targetTop:e,duration:t.duration||x,startTime:s,endTime:s+(t.duration||x),easing:V[t.easing||S],done:t.done},pt.topDiff||(pt.done&&pt.done.call(rt,!1),pt=i),rt},s.prototype.stopAnimateTo=function(){pt&&pt.done&&pt.done.call(rt,!0),pt=i},s.prototype.isAnimatingTo=function(){return!!pt},s.prototype.setScrollTop=function(t,i){return gt=i===!0,Ft?Bt=l.min(l.max(t,0),Mt):e.scrollTo(0,t),rt},s.prototype.getScrollTop=function(){return Ft?Bt:e.pageYOffset||n.scrollTop||o.scrollTop||0},s.prototype.getMaxScrollTop=function(){return Mt},s.prototype.on=function(e,t){return ct[e]=t,rt},s.prototype.off=function(e){return delete ct[e],rt},s.prototype.destroy=function(){var e=X();e(yt),xt(),Nt(n,[_],[b,y,w]);for(var t=0,s=at.length;s>t;t++)nt(at[t].element);n.style.overflow=o.style.overflow="auto",n.style.height=o.style.height="auto",lt&&r.setStyle(lt,"transform","none"),rt=i,lt=i,ct=i,dt=i,Mt=0,It=1,ht=i,ut=i,$t="down",Pt=-1,Wt=0,zt=0,Lt=!1,pt=i,ft=i,mt=i,vt=i,gt=i,Ht=0,bt=i,Ft=!1,Bt=0,_t=i};var Y=function(){var s,r,a,c,f,m,v,g,b,_,y,w;wt(n,[d,h,u,p].join(" "),function(e){var n=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(f=n.clientY,m=n.clientX,_=e.timeStamp,j.test(c.tagName)||e.preventDefault(),e.type){case d:s&&s.blur(),rt.stopAnimateTo(),s=c,r=v=f,a=m,b=_;break;case h:j.test(c.tagName)&&t.activeElement!==c&&e.preventDefault(),g=f-v,w=_-y,rt.setScrollTop(Bt-g,!0),v=f,y=_;break;default:case u:case p:var o=r-f,S=a-m,x=S*S+o*o;if(49>x){if(!j.test(s.tagName)){s.focus();var C=t.createEvent("MouseEvents");C.initMouseEvent("click",!0,!0,e.view,1,n.screenX,n.screenY,n.clientX,n.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),s.dispatchEvent(C)}return}s=i;var k=g/w;k=l.max(l.min(k,3),-3);var T=l.abs(k/ut),E=k*T+.5*ut*T*T,N=rt.getScrollTop()-E,O=0;N>Mt?(O=(Mt-N)/E,N=Mt):0>N&&(O=-N/E,N=0),T*=1-O,rt.animateTo(N+.5|0,{easing:"outCubic",duration:T})}}),e.scrollTo(0,0),n.style.overflow=o.style.overflow="hidden"},U=function(){var e,t,i,s,o,r,a,c,d,h,u,p=n.clientHeight,f=kt();for(c=0,d=at.length;d>c;c++)for(e=at[c],t=e.element,i=e.anchorTarget,s=e.keyFrames,o=0,r=s.length;r>o;o++)a=s[o],h=a.offset,u=f[a.constant]||0,a.frame=h,a.isPercentage&&(h*=p,a.frame=h),"relative"===a.mode&&(nt(t),a.frame=rt.relativeToAbsolute(i,a.anchors[0],a.anchors[1])-h,nt(t,!0)),a.frame+=u,dt&&!a.isEnd&&a.frame>Mt&&(Mt=a.frame);for(Mt=l.max(Mt,Tt()),c=0,d=at.length;d>c;c++){for(e=at[c],s=e.keyFrames,o=0,r=s.length;r>o;o++)a=s[o],u=f[a.constant]||0,a.isEnd&&(a.frame=Mt-a.offset+u);e.keyFrames.sort(qt)}},G=function(e,t){for(var i=0,s=at.length;s>i;i++){var n,o,l=at[i],c=l.element,d=l.smoothScrolling?e:t,h=l.keyFrames,u=h[0].frame,p=h[h.length-1].frame,b=u>d,_=d>p,y=h[b?0:h.length-1];if(b||_){if(b&&-1===l.edge||_&&1===l.edge)continue;switch(Nt(c,[b?m:g],[m,v,g]),l.edge=b?-1:1,l.edgeStrategy){case"reset":nt(c);continue;case"ease":d=y.frame;break;default:case"set":var w=y.props;for(n in w)a.call(w,n)&&(o=st(w[n].value),r.setStyle(c,n,o));continue}}else 0!==l.edge&&(Nt(c,[f,v],[m,g]),l.edge=0);for(var S=0,x=h.length-1;x>S;S++)if(d>=h[S].frame&&d<=h[S+1].frame){var C=h[S],k=h[S+1];for(n in C.props)if(a.call(C.props,n)){var T=(d-C.frame)/(k.frame-C.frame);T=C.props[n].easing(T),o=it(C.props[n].value,k.props[n].value,T),o=st(o),r.setStyle(c,n,o)}break}}},K=function(){Lt&&(Lt=!1,Ct());var e,t,s=rt.getScrollTop(),n=jt();if(pt)n>=pt.endTime?(s=pt.targetTop,e=pt.done,pt=i):(t=pt.easing((n-pt.startTime)/pt.duration),s=pt.startTop+t*pt.topDiff|0),rt.setScrollTop(s,!0);else if(!gt){var o=vt.targetTop-s;o&&(vt={startTop:Pt,topDiff:s-Pt,targetTop:s,startTime:Dt,endTime:Dt+mt}),n<=vt.endTime&&(t=V.sqrt((n-vt.startTime)/mt),s=vt.startTop+t*vt.topDiff|0)}if(Ft&&lt&&r.setStyle(lt,"transform","translate(0, "+-Bt+"px) "+_t),gt||Pt!==s){$t=s>Pt?"down":Pt>s?"up":$t,gt=!1;var a={curTop:s,lastTop:Pt,maxTop:Mt,direction:$t},l=ct.beforerender&&ct.beforerender.call(rt,a);l!==!1&&(G(s,rt.getScrollTop()),Pt=s,ct.render&&ct.render.call(rt,a)),e&&e.call(rt,!1)}Dt=n},J=function(e){for(var t=0,i=e.keyFrames.length;i>t;t++){for(var s,n,o,r,a=e.keyFrames[t],l={};null!==(r=I.exec(a.props));)o=r[1],n=r[2],s=o.match($),null!==s?(o=s[1],s=s[2]):s=S,n=n.indexOf("!")?Z(n):[n.slice(1)],l[o]={value:n,easing:V[s]};a.props=l}},Z=function(e){var t=[];return L.lastIndex=0,e=e.replace(L,function(e){return e.replace(W,function(e){return e/255*100+"%"})}),B&&(H.lastIndex=0,e=e.replace(H,function(e){return B+e})),e=e.replace(W,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},et=function(e){var t,i,s={};for(t=0,i=e.keyFrames.length;i>t;t++)tt(e.keyFrames[t],s);for(s={},t=e.keyFrames.length-1;t>=0;t--)tt(e.keyFrames[t],s)},tt=function(e,t){var i;for(i in t)a.call(e.props,i)||(e.props[i]=t[i]);for(i in e.props)t[i]=e.props[i]},it=function(e,t,i){var s,n=e.length;if(n!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var o=[e[0]];for(s=1;n>s;s++)o[s]=e[s]+(t[s]-e[s])*i;return o},st=function(e){var t=1;return z.lastIndex=0,e[0].replace(z,function(){return e[t++]})},nt=function(e,t){e=[].concat(e);for(var i,s,n=0,o=e.length;o>n;n++)s=e[n],i=at[s[A]],i&&(t?(s.style.cssText=i.dirtyStyleAttr,Nt(s,i.dirtyClassAttr)):(i.dirtyStyleAttr=s.style.cssText,i.dirtyClassAttr=Et(s),s.style.cssText=i.styleAttr,Nt(s,i.classAttr)))},ot=function(){_t="translateZ(0)",r.setStyle(lt,"transform",_t);var e=c(lt),t=e.getPropertyValue("transform"),i=e.getPropertyValue(B+"transform"),s=t&&"none"!==t||i&&"none"!==i;s||(_t="")};r.setStyle=function(e,t,i){var s=e.style;if(t=t.replace(P,D).replace("-",""),"zIndex"===t)s[t]=isNaN(i)?i:""+(0|i);else if("float"===t)s.styleFloat=s.cssFloat=i;else try{F&&(s[F+t.slice(0,1).toUpperCase()+t.slice(1)]=i),s[t]=i}catch(n){}};var rt,at,lt,ct,dt,ht,ut,pt,ft,mt,vt,gt,bt,_t,yt,wt=r.addEvent=function(t,i,s){var n=function(t){return t=t||e.event,t.target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1}),s.call(this,t)};i=i.split(" ");for(var o,r=0,a=i.length;a>r;r++)o=i[r],t.addEventListener?t.addEventListener(o,s,!1):t.attachEvent("on"+o,n),Qt.push({element:t,name:o,listener:s})},St=r.removeEvent=function(e,t,i){t=t.split(" ");for(var s=0,n=t.length;n>s;s++)e.removeEventListener?e.removeEventListener(t[s],i,!1):e.detachEvent("on"+t[s],i)},xt=function(){for(var e,t=0,i=Qt.length;i>t;t++)e=Qt[t],St(e.element,e.name,e.listener);Qt=[]},Ct=function(){var e=rt.getScrollTop();Mt=0,dt&&!Ft&&(o.style.height="auto"),U(),dt&&!Ft&&(o.style.height=Mt+n.clientHeight+"px"),Ft?rt.setScrollTop(l.min(rt.getScrollTop(),Mt)):rt.setScrollTop(e,!0),gt=!0},kt=function(){var e,t,i=n.clientHeight,s={};for(e in ht)t=ht[e],"function"==typeof t?t=t.call(rt):/p$/.test(t)&&(t=t.slice(0,-1)/100*i),s[e]=t;return s},Tt=function(){var e=lt&&lt.offsetHeight||0,t=l.max(e,o.scrollHeight,o.offsetHeight,n.scrollHeight,n.offsetHeight,n.clientHeight);return t-n.clientHeight},Et=function(t){var i="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[i],i="baseVal"),t[i]},Nt=function(t,s,n){var o="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[o],o="baseVal"),n===i)return void(t[o]=s);for(var r=t[o],a=0,l=n.length;l>a;a++)r=At(r).replace(At(n[a])," ");r=Ot(r);for(var c=0,d=s.length;d>c;c++)-1===At(r).indexOf(At(s[c]))&&(r+=" "+s[c]);t[o]=Ot(r)},Ot=function(e){return e.replace(q,"")},At=function(e){return" "+e+" "},jt=Date.now||function(){return+new Date},qt=function(e,t){return e.frame-t.frame},Mt=0,It=1,$t="down",Pt=-1,Dt=jt(),Wt=0,zt=0,Lt=!1,Ht=0,Ft=!1,Bt=0,Qt=[];"function"==typeof define&&define.amd?define("skrollr",function(){return r}):e.skrollr=r}(window,document);